(self.webpackChunk_9troisquarts_wand=self.webpackChunk_9troisquarts_wand||[]).push([[646],{52660:function(Aa,Ye,d){"use strict";d.r(Ye),d.d(Ye,{AutoLink:function(){return Rt},CSVNotice:function(){return mn},ContextMenu:function(){return Jt},ExcelsiorImportModal:function(){return Er},InlineFilters:function(){return ga},ModelDefinition:function(){return $n},NtqToolbar:function(){return ur},NtqToolbarProvider:function(){return qt},capitalize:function(){return Jn},castAttributesFromDefinition:function(){return le},memoOnlyForKeys:function(){return qn},nl2br:function(){return Ce},useGraphqlModel:function(){return Ur},useI18n:function(){return mr},useSearchFilters:function(){return $e},useTableList:function(){return gt}});var Fn=d(56690),Ae=d.n(Fn),zn=d(89728),Ze=d.n(zn),On=d(38416),W=d.n(On),_n=d(62620),Be=d.n(_n),Un=d(13218),Rn=d.n(Un),Vn=d(57557),He=d.n(Vn),Yn=d(1469),Le=d.n(Yn),Bn=d(14293),ue=d.n(Bn),Pe=d(30381),X=d.n(Pe),de=function(n){return parseFloat(n.toString().replace(/\,/g,"."))},Hn={skipUndefinedKeys:!0},Wn=function(n,e){switch(n){case"Float":return de(e);case"Integer":return parseInt(e,10);case"String":return typeof e=="string"?e:e.toString();case"Date":return X().isMoment(e)?e.format("YYYY-MM-DD"):e;case"Datetime":return X().isMoment(e)?e.format():e;case"Password":case"Files":case"File":return e||void 0;default:return e}},We=function(n,e){var a,i,r,u,c;switch(n){case"Location":return{location:{formattedAddress:(e==null||(a=e.location)===null||a===void 0?void 0:a.formattedAddress)||(e==null?void 0:e.formattedAddress),lat:e!=null&&(i=e.location)!==null&&i!==void 0&&i.lat||e!=null&&e.lat?de(((r=e.location)===null||r===void 0?void 0:r.lat)||(e==null?void 0:e.lat)):void 0,lng:e!=null&&(u=e.location)!==null&&u!==void 0&&u.lng||e!=null&&e.lat?de(((c=e.location)===null||c===void 0?void 0:c.lng)||(e==null?void 0:e.lng)):void 0},proximity:e.proximity?parseInt(e.proximity,10):void 0};case"Float":return de(e);case"Integer":return parseInt(e,10);case"String":return typeof e=="string"?e:e.toString();case"Datetime":case"Date":return X().isMoment(e)?e:X()(e);default:return e}},Gn=function(n,e){var a={};return Be()(n,function(i,r){Array.isArray(i)&&!ue()(e[r])?a[r]=e[r].map(function(u){return We(i[0],u)}):ue()(e[r])||(a[r]=We(i,e[r]))}),a};function De(o,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Hn,a={};return Be()(o,function(i,r){if(Rn()(i)){if(i.type==="Places"){var u,c,g,f,v,l,m,h,x,s,M,I,Z,b,p,j,N,C,A,D;if(a[((u=i.options)===null||u===void 0?void 0:u.formattedAddress)||r]=(c=n[r])===null||c===void 0?void 0:c.formattedAddress,a[((g=i.options)===null||g===void 0?void 0:g.city)||"city"]=(f=n[r])===null||f===void 0?void 0:f.city,a[((v=i.options)===null||v===void 0?void 0:v.lat)||"lat"]=(l=n[r])===null||l===void 0?void 0:l.lat,a[((m=i.options)===null||m===void 0?void 0:m.lng)||"lng"]=(h=n[r])===null||h===void 0?void 0:h.lng,(x=i.options)!==null&&x!==void 0&&x.countryIso&&(a[((s=i.options)===null||s===void 0?void 0:s.countryIso)||"countryIso"]=(M=n[r])===null||M===void 0?void 0:M.countryIso),(I=i.options)!==null&&I!==void 0&&I.country&&(a[((Z=i.options)===null||Z===void 0?void 0:Z.country)||"country"]=(b=n[r])===null||b===void 0?void 0:b.country),(p=i.options)!==null&&p!==void 0&&p.administrativeLevelOne&&(a[i.options.administrativeLevelOne]=(j=n[r])===null||j===void 0||(N=j.administrativeAreaLevels)===null||N===void 0||(C=N.find(function(O){return O.types.includes("administrative_area_level_1")}))===null||C===void 0?void 0:C.long_name),(A=i.options)!==null&&A!==void 0&&A.administrativeLevelTwo){var w,U,B;a[i.options.administrativeLevelTwo]=(w=n[r])===null||w===void 0||(U=w.administrativeAreaLevels)===null||U===void 0||(B=U.find(function(O){return O.types.includes("administrative_area_level_2")}))===null||B===void 0?void 0:B.long_name}if((D=i.options)!==null&&D!==void 0&&D.zipCode){var F;a[i.options.zipCode]=(F=n[r])===null||F===void 0?void 0:F.zipCode}}else if(Le()(i)&&!ue()(n[r]))a[r]=n[r].map(function(O){return Wn(i[0],O)});else if(!ue()(n[r])){var H=n[r];H&&(a["".concat(r,"Attributes")]=Le()(H)?H.map(function(O){return De(i,O)}):De(i,H))}}else if(ue()(n[r]))i!=="password"&&i!=="nested"&&i!=="id"&&(!e.skipUndefinedKeys||n.hasOwnProperty(r))&&(a[r]=null);else switch(i.toLowerCase()){case"float":a[r]=de(n[r]);break;case"integer":a[r]=parseInt(n[r],10);break;case"string":a[r]=typeof n[r]=="string"?n[r]:n[r].toString();break;case"date":a[r]=typeof n[r]!="string"?n[r].format("YYYY-MM-DD"):n[r];break;case"datetime":a[r]=typeof n[r]!="string"?n[r].format():n[r];break;case"password":case"files":case"file":n[r]&&(a[r]=n[r]);break;case"nested":n[r]&&(a["".concat(r,"Attributes")]=Le()(n[r])?n[r].map(function(O){return He()(O,["__typename"])}):He()(n[r],["__typename"]));break;default:a[r]=n[r];break}}),a}var le=De,kn={skipUndefinedKeys:!0},Xn=function(){function o(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kn;Ae()(this,o),W()(this,"definition",void 0),W()(this,"options",void 0),this.definition=n,this.options=e}return Ze()(o,[{key:"parse",value:function(e){return le(this.definition,e,this.options)}}]),o}(),$n=Xn,Qn=function(n){return n.charAt(0).toUpperCase()+n.slice(1)},Jn=Qn,ne=d(96486),Kn=function(n){return function(e,a){return!n.some(function(i){return!(0,ne.isEqual)(e[i],a[i])})}},qn=Kn,y=d(67294),et=d(92742),nt=d.n(et),t=d(85893),tt=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(typeof n!="string"||!n.includes(`
`))return n;var a=n.split(`
`).filter(function(i){return nt()(i).length>0});return a.map(function(i,r){return(0,t.jsxs)(y.Fragment,{children:[i,(r<a.length-1||e)&&(0,t.jsx)("br",{})]},"line".concat(r))})},Ce=tt,rt=d(42122),S=d.n(rt),at=d(27424),P=d.n(at),Ge=d(40902),it=d(861),fe=d.n(it),ot=d(18698),ke=d.n(ot),lt=d(51589),st=d.n(lt),ve=d(65885),Xe=d(85980),ct=d(38018),ut=d(80129),dt=d.n(ut);function ft(o,n){var e=n||{},a=e.updateLocation,i=a===void 0?!1:a,r=e.enabled,u=r===void 0?!0:r,c=e.debug,g=c===void 0?!1:c,f=e.definition,v=f===void 0?void 0:f,l=e.defaultSearch,m=l===void 0?{}:l,h=e.history;if(!u)return{};var x=(0,ve.Z)("".concat(o,"-page"),1),s=P()(x,2),M=s[0],I=s[1],Z=(0,ve.Z)("".concat(o,"-per-page"),25),b=P()(Z,2),p=b[0],j=b[1],N=(0,ve.Z)(o,{defaultValue:m}),C=P()(N,2),A=C[0],D=C[1],w=A||{};(0,y.useEffect)(function(){if(i){var L=dt().parse(location.search.replace("?",""));if(L){var _=Object.keys(L).map(function(R){return L[R]}).filter(Boolean);_.length>0&&D(v?S()({},le(v,L)):S()({},L))}}},[]);var U=function(_){var R=S()(S()({},A),_),z=S()(S()({},A),_);if(v&&(R=le(v,R),z=le(v,z,{skipDate:!0})),g&&console.table({parameters:R,original:_,definition:v}),D(R),i){var G,re=J(z).map(function(K){var ce=P()(K,2),se=st()(ce[0]),xe=se[0],ie=se.slice(1),je=ce[1];return"".concat(xe).concat(ie.map(function(E){return"[".concat(E,"]")}).join(""),"=").concat(je)}).join("&");I(1);var k=((G=window.location)===null||G===void 0?void 0:G.pathname)+"?"+re;h&&h.push(k)}},B=function(){D({}),i&&h&&h.push(window.location.pathname)},F=function(_,R){if(I(p!==R?1:_),j(R),i){var z,G=((z=window.location)===null||z===void 0?void 0:z.pathname)+"?"+ct.stringify(S()(S()({},w),{},{page:_,perPage:R}),{arrayFormat:"bracket",skipNull:!0});h&&h.replace(G)}},H=(0,Xe.Z)(U,{wait:500}),O=H.run,J=function L(_){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.entries(_).reduce(function(z,G){var re=P()(G,2),k=re[0],K=re[1];return K&&(ke()(K)==="object"?z.push.apply(z,fe()(L(K,[].concat(fe()(R),[k])))):z.push([[].concat(fe()(R),[k]),K])),z},[])};return{search:v?Gn(v,w):w,page:M?parseInt(M):1,perPage:p?parseInt(p):10,onPageChange:F,onReset:B,set:D,onChange:O}}var $e=ft;function vt(o,n,e){var a=n.query,i=n.debug,r=i===void 0?!1:i,u=n.paginate,c=u===void 0?!0:u,g=n.params,f=g===void 0?{}:g,v=(0,y.useState)(f||{}),l=P()(v,2),m=l[0],h=l[1],x=$e((e==null?void 0:e.key)||o,{debug:r,enabled:!!e,updateLocation:(e==null?void 0:e.updateLocation)||!1,history:e==null?void 0:e.history,definition:e==null?void 0:e.definition}),s=x.search,M=x.onChange,I=x.onReset,Z=(0,y.useState)({pageSize:25,page:1}),b=P()(Z,2),p=b[0],j=b[1],N=(0,Ge.a)(a,{fetchPolicy:"cache-and-network",variables:S()(S()({perPage:p.pageSize,page:p.page},e?{search:e.definition?le(e.definition,S()(S()({},s||{}),m)):S()(S()({},s),m)}:{}),n.variables||{})}),C=N.data,A=N.loading,D=N.refetch,w=C?C[o]||{}:{},U;c?U=w[o]||[]:U=C?C[o]:[];var B=c?w.pagination||{}:{},F=function(J,L){j({page:J,pageSize:L})},H=B?{current:B.page,pageSize:B.perPage||25,total:B.total,showSizeChanger:!1,onChange:F}:!1;return{records:U,data:C,loading:A,pagination:H,search:s,onSearchChange:M,setExtraParams:h,refetch:D,onReset:I}}var gt=vt,pt=d(61655),mt=d.n(pt),ht=d(26389),xt=d.n(ht),jt=/^[A-Za-z][-.+A-Za-z0-9]+:/,St=/^[A-Za-z][-.+A-Za-z0-9]+:\/\//,Ct=/:[^\s]*?[A-Za-z]/,It=/^[\w]\/\//;function yt(o,n,e){return!(n&&!Mt(n)||Nt(o,n)||bt(o,n)||At(e))}function Mt(o){var n=o.match(jt)[0].toLowerCase();return n!=="javascript:"&&n!=="vbscript:"}function Nt(o,n){return!!o&&(!n||!St.test(n))&&o.indexOf(".")===-1}function bt(o,n){return o&&n?!Ct.test(o):!1}function At(o){return!!o&&It.test(o)}var Zt=/^(https?:\/\/)?(www\.)?/i,Lt=/^mailto:/,Pt=/^\/\//,Dt=function(){function o(n,e,a,i,r,u){Ae()(this,o),this._url=n,this._protocolMailtoMatch=e,this._protocolUrlMatch=a,this._protocolRelativeMatch=i,this.position=r,this.disableUrlStripping=u,this.protocolPrepended=!1}return Ze()(o,[{key:"getUrl",value:function(){var e=this._url;return!this._protocolMailtoMatch&&!this._protocolRelativeMatch&&!this._protocolUrlMatch&&!this.protocolPrepended&&(e=this._url="http://"+e,this.protocolPrepended=!0),e}},{key:"getAnchorHref",value:function(){var e=this.getUrl();return e.replace(/&amp;/g,"&")}},{key:"getAnchorText",value:function(){var e=this.getUrl();return this.disableUrlStripping||(this._protocolRelativeMatch&&(e=this.stripProtocolRelativePrefix(e)),this._protocolMailtoMatch&&(e=this.stripMailtoPrefix(e)),e=this.stripUrlPrefix(e),e=this.removeTrailingSlash(e)),e}},{key:"stripUrlPrefix",value:function(e){return e.replace(Zt,"")}},{key:"stripMailtoPrefix",value:function(e){return e.replace(Lt,"")}},{key:"stripProtocolRelativePrefix",value:function(e){return e.replace(Pt,"")}},{key:"removeTrailingSlash",value:function(e){return e.charAt(e.length-1)==="/"&&(e=e.slice(0,-1)),e}}]),o}(),Qe=/(?:[A-Za-z][-.+A-Za-z0-9]+:(?![A-Za-z][-.+A-Za-z0-9]+:\/\/)(?!\d+\/?)(?:\/\/)?)/,Tt=/(?:www\.)/,Te=/[A-Za-z0-9.-]*[A-Za-z0-9-]/,wt=/(?:(?:[^<>()\\[\]\\.,;:\s@"]+(?:\.[^<>()\\[\]\\.,;:\s@"]+)*)|(?:".+"))@(?:(?:\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(?:(?:[a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/,Et=/\.(?:international|construction|contractors|enterprises|photography|productions|foundation|immobilien|industries|management|properties|technology|christmas|community|directory|education|equipment|institute|marketing|solutions|vacations|bargains|boutique|builders|catering|cleaning|clothing|computer|democrat|diamonds|graphics|holdings|lighting|partners|plumbing|supplies|training|ventures|academy|careers|company|cruises|domains|exposed|flights|florist|gallery|guitars|holiday|kitchen|neustar|okinawa|recipes|rentals|reviews|shiksha|singles|support|systems|agency|berlin|camera|center|coffee|condos|dating|estate|events|expert|futbol|kaufen|luxury|maison|monash|museum|nagoya|photos|repair|report|social|supply|tattoo|tienda|travel|viajes|villas|vision|voting|voyage|actor|build|cards|cheap|codes|dance|email|glass|house|mango|ninja|parts|photo|shoes|solar|today|tokyo|tools|watch|works|aero|arpa|asia|best|bike|blue|buzz|camp|club|cool|coop|farm|fish|gift|guru|info|jobs|kiwi|kred|land|limo|link|menu|mobi|moda|name|pics|pink|post|qpon|rich|ruhr|sexy|tips|vote|voto|wang|wien|wiki|zone|bar|bid|biz|cab|cat|ceo|com|edu|gov|int|kim|mil|net|onl|org|pro|pub|red|tel|uno|wed|xxx|xyz|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)\b/,Ft=/[-A-Za-z0-9+&@#/%=~_()|'$*[\]?!:,.;]*[-A-Za-z0-9+&@#/%=~_()|'$*[\]]/,zt=/^(.)?\/\//,Ot=["(?:","(",Qe.source,wt.source,")","|","(",Qe.source,Te.source,")","|","(?:","(.?//)?",Tt.source,Te.source,")","|","(?:","(.?//)?",Te.source,Et.source,")",")","(?:"+Ft.source+")?"].join("");function _t(o){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=new RegExp(Ot,"gi"),a=[],i;(i=e.exec(o))!==null;){var r=i,u=P()(r,5),c=u[0],g=u[1],f=u[2],v=u[3],l=u[4],m=v||l;if(m){var h=m.match(zt)[1]||"";h&&(c=c.slice(1),i.index++)}if(yt(c,f,m)){var x={start:i.index,end:e.lastIndex};a.push(new Dt(c,g,f,m,x,n))}}return a}var Ut=function(o){mt()(e,o);var n=xt()(e);function e(){return Ae()(this,e),n.apply(this,arguments)}return Ze()(e,[{key:"prepareElements",value:function(i,r){var u=this,c=[],g=0;return i.forEach(function(f){f.position.start!==0&&c.push(y.createElement("span",{},Ce(r.slice(g,f.position.start),!0))),c.push(y.createElement("a",Object.assign({},{href:f.getAnchorHref()},u.props.linkProps),Ce(f.getAnchorText(),!0))),g=f.position.end}),g<r.length&&c.push(y.createElement("span",{},Ce(r.slice(g),!0))),c}},{key:"truncate",value:function(i){var r=this;if(!this.props.maxLength)return i;var u=[],c=0;return i.some(function(g){if(c+=g.props.children.length,c>r.props.maxLength){var f=g.props.children.slice(0,-(c-r.props.maxLength));return u.push(y.cloneElement(g,{},f)),!0}u.push(g)}),u}},{key:"keyElements",value:function(i){return i.map(function(r,u){return y.cloneElement(r,{key:u})})}},{key:"render",value:function(){var i=this.props.text||"",r=this.keyElements(this.truncate(this.prepareElements(_t(i,this.props.disableUrlStripping),i)));return y.createElement("span",{},r)}}]),e}(y.Component),Rt=Ut,Vt=d(70215),Je=d.n(Vt),Yt=d(59400),te=d.n(Yt),Ke=d(13013),Bt=Object.defineProperty,qe=Object.getOwnPropertySymbols,Ht=Object.prototype.hasOwnProperty,Wt=Object.prototype.propertyIsEnumerable,en=(o,n,e)=>n in o?Bt(o,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[n]=e,Gt=(o,n)=>{for(var e in n||(n={}))Ht.call(n,e)&&en(o,e,n[e]);if(qe)for(var e of qe(n))Wt.call(n,e)&&en(o,e,n[e]);return o};const Za=o=>React.createElement("svg",Gt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 512"},o),React.createElement("path",{d:"M64 360c30.9 0 56 25.1 56 56s-25.1 56-56 56-56-25.1-56-56 25.1-56 56-56zm0-160c30.9 0 56 25.1 56 56s-25.1 56-56 56-56-25.1-56-56 25.1-56 56-56zm56-104c0 30.9-25.1 56-56 56S8 126.9 8 96s25.1-56 56-56 56 25.1 56 56z"}));var kt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjggNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMi4xIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLi0tPjxwYXRoIGQ9Ik02NCAzNjBjMzAuOSAwIDU2IDI1LjEgNTYgNTZzLTI1LjEgNTYtNTYgNTYtNTYtMjUuMS01Ni01NiAyNS4xLTU2IDU2LTU2em0wLTE2MGMzMC45IDAgNTYgMjUuMSA1NiA1NnMtMjUuMSA1Ni01NiA1Ni01Ni0yNS4xLTU2LTU2IDI1LjEtNTYgNTYtNTZ6bTU2LTEwNGMwIDMwLjktMjUuMSA1Ni01NiA1NlM4IDEyNi45IDggOTZzMjUuMS01NiA1Ni01NiA1NiAyNS4xIDU2IDU2eiIvPjwvc3ZnPg==",ge=d(18872),Xt=["size","className"],nn,tn,rn,$t=(0,ge.iv)(nn||(nn=te()([`
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background-color: transparent;
  padding: 5px;
  transition: all 0.1s linear;
  &:hover {
    background-color: #f5f5f5;
    cursor: pointer;
  }
`]))),an={default:"35",small:"25"},Qt=function(n){var e=n.size,a=e===void 0?"default":e,i=n.className,r=i===void 0?"":i,u=Je()(n,Xt),c=typeof a=="number"?"".concat(a,"px"):"".concat(an[a]||an.default,"px");return(0,t.jsx)(Ke.Z,S()(S()({className:"".concat(r," wand-dropdown-menu"),trigger:["click"]},u),{},{children:(0,t.jsx)("span",{className:"".concat($t," ").concat((0,ge.iv)(tn||(tn=te()([`
          height: `,`;
          width: `,`;
          border-radius: `,`;
        `])),c,c,c)," wand-context-menu-handler"),children:(0,t.jsx)("img",{className:`
          `.concat((0,ge.iv)(rn||(rn=te()([`
            width: 4px;
          `]))),`
        `),src:kt})})}))},Jt=Qt,we=d(72683),Ie=(0,y.createContext)(null),Ee={i18n:{debug:!1,preventDefault:!1}},Kt=function(n){var e=n.enabled,a=e===void 0?!0:e,i=n.impersonation,r=i===void 0?!1:i,u=n.baseUrl,c=u===void 0?"/ntq_tools":u,g=(0,ve.Z)("ntq-toolbar-config",Ee),f=P()(g,2),v=f[0],l=f[1],m=function(s,M){return l(S()(S()(S()({},Ee),v||{}),{},{i18n:S()(S()({},(v||{}).i18n||{}),{},W()({},s,M))}))},h=S()(S()(S()({},Ee),v||{}),{},{onI18nConfigChange:m,impersonation:r,baseUrl:c});return a?(0,t.jsx)(Ie.Provider,{value:h,children:n.children}):n.children},qt=Kt,V=d(26713),Y={switch:"un701VxxH7QOoCJ8TkOj","ant-switch-checked":"YsUnohMotq4ZUgIPgRRj",tag:"DaKehT1yfgv44VV_APp8",pill:"SbcaIkXpI2wkyMlTr7Yf",enabled:"WdVoI0O0EtsEiuCGsZHx",disabled:"Szti7exhmg68DHdKnyw4",impersonationPopover:"VEprbR4o2o4OWRUNZa0q",popoverContent:"U3NidYOJcestZM0OiHC3",popoverLoading:"egeTzFsBQiI966OAVW4d",impersonationModelName:"f3jtA5j028D4ROm9ZeqU",user:"r7CXMc7AoWkcgIclJORc",padded:"Qdbi2O787U3qivoMbytV",userGroup:"t9pH0AqaMogt5R8nYd9h"},er=d.p+"static/logo.457bc401.png",pe=d(11382),nr=d(71230),on=d(15746),ye=d(55241),tr={headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}},rr=function(n){var e=(0,y.useContext)(Ie),a=(0,y.useState)(!1),i=P()(a,2),r=i[0],u=i[1],c=(0,y.useState)(!1),g=P()(c,2),f=g[0],v=g[1],l=(0,y.useState)(),m=P()(l,2),h=m[0],x=m[1],s=function(j){j?(u(!0),h?u(!0):(v(!0),fetch("".concat(e.baseUrl,"/impersonation/users.json"),S()({},tr)).then(function(N){return N.json()}).then(function(N){var C=N.data;x(C),v(!1)}).catch(function(){v(!1)}))):u(!1)},M=function(j,N){window.location.href="".concat(e.baseUrl,"/impersonation/").concat(j,"/").concat(N.id,"/sign_in")},I=Object.keys(h||{}).filter(function(p){var j;return!(e!=null&&(j=e.impersonation)!==null&&j!==void 0&&j.userTypes)||e.impersonation.userTypes.includes(p)}),Z=I.length>0,b=(0,t.jsxs)(t.Fragment,{children:[f&&(0,t.jsx)("div",{className:Y.popoverLoading,children:(0,t.jsx)(pe.Z,{})}),!f&&h&&(0,t.jsx)("div",{className:Y.popoverContent,children:I.map(function(p){return(0,t.jsxs)(nr.Z,{className:Y.userGroup,children:[Z&&(0,t.jsx)(on.Z,{className:Y.impersonationModelName,span:24,children:p}),h[p].map(function(j){return(0,t.jsx)(on.Z,{className:"".concat(Y.user," ").concat(Z?Y.padded:""),span:24,onClick:function(){return M(p,j)},children:j.label},j.id)})]},p)})})]});return(0,t.jsx)(ye.Z,{trigger:["click"],open:r,content:b,onOpenChange:s,placement:"bottom",arrowPointAtCenter:!0,children:(0,t.jsx)("span",{className:Y.tag,children:"Connexion utilisateur"})})},ar=rr,ln,sn,cn,un,ir=we.Z.div(ln||(ln=te()([`
  position: fixed;
  top: 0;
  background-color: #000;
  display: flex;
  height: 50px;
  width: 100%;
  color: white;
  padding: 0 16px;
  z-index: 1000;
`]))),or=we.Z.div(sn||(sn=te()([`
  display: flex;
  margin-left: auto;
  align-items: center;
`]))),lr=we.Z.div(cn||(cn=te()([`
  display: flex;
  align-items: center;
`]))),dn=(0,ge.iv)(un||(un=te()([`
  .ant-layout-header,
  .ant-layout-sider {
    margin-top: 50px;
  }
`]))),sr="/ntq_tools",cr=function(n){var e,a,i,r=n.enabled,u=r===void 0?!0:r,c=(0,y.useContext)(Ie);if(!u)return null;var g=function(){fetch("".concat(sr,"/translation/refresh"))};(0,y.useEffect)(function(){if(u)return document.body.classList.add(dn),function(){return document.body.classList.remove(dn)}});var f=function(m){return function(){return c.onI18nConfigChange(m,c!=null&&c.i18n?!c.i18n[m]:!0)}},v=[{label:(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"".concat(Y.pill," ").concat(c!=null&&(e=c.i18n)!==null&&e!==void 0&&e.debug?Y.enabled:Y.disabled)}),"Live"]}),key:"debug",onClick:function(){var m;return f("debug")(!(c!=null&&(m=c.i18n)!==null&&m!==void 0&&m.debug))}},{label:(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"".concat(Y.pill," ").concat(c!=null&&(a=c.i18n)!==null&&a!==void 0&&a.preventDefault?Y.enabled:Y.disabled)}),"Prevent default"]}),key:"preventDefault",onClick:function(){var m;return f("preventDefault")(!(c!=null&&(m=c.i18n)!==null&&m!==void 0&&m.preventDefault))}},{label:(0,t.jsx)("span",{children:"Refresh translations"}),key:"refresh",onClick:g}];return(0,t.jsxs)(ir,{children:[(0,t.jsx)(lr,{children:(0,t.jsx)("img",{src:er,width:"30"})}),(0,t.jsx)(or,{children:(0,t.jsxs)(V.Z,{children:[!!(c!=null&&c.impersonation)&&(0,t.jsx)(ar,{}),(0,t.jsx)(Ke.Z,{menu:{items:v},trigger:["hover"],children:(0,t.jsxs)("span",{className:"".concat(Y.tag),onClick:f("debug"),children:[(0,t.jsx)("span",{className:"".concat(Y.pill," ").concat(c!=null&&(i=c.i18n)!==null&&i!==void 0&&i.debug?Y.enabled:Y.disabled)}),"Traduction live"]})})]})})]})},ur=cr,dr=d(84847),Fe=d(56264),ze=d(69677),$=d(71577),fr=["count"],fn,vn="/ntq_tools",gn={headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}},vr=(0,ge.iv)(fn||(fn=te()([`
  font-style: italic;
  color: #4527a0;
  text-decoration-line: underline;
  text-decoration-style: dashed;
  &:hover {
    color: #4527a0;
  }
`]))),gr=function(n){var e=n.translationKey,a=n.preventDefault,i=(0,y.useState)(!1),r=P()(i,2),u=r[0],c=r[1],g=(0,y.useState)(n.value),f=P()(g,2),v=f[0],l=f[1],m=(0,y.useState)(!1),h=P()(m,2),x=h[0],s=h[1],M=function(){fetch("".concat(vn,"/translation"),S()(S()({},gn),{},{method:"PUT",body:JSON.stringify({key:e,value:v})})).then(function(j){return j.json()}).then(function(j){var N=j.data;N&&c(!1)})},I=u?(0,t.jsx)("div",{style:{minWidth:150,minHeight:75},children:x?(0,t.jsx)("div",{style:{height:75,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)(pe.Z,{})}):(0,t.jsxs)("div",{children:[(0,t.jsx)(ze.Z.TextArea,{value:v,onChange:function(j){var N=j.target.value;return l(N)},autoSize:!0}),(0,t.jsx)("div",{style:{marginTop:10,textAlign:"right"},children:(0,t.jsx)($.Z,{onClick:M,size:"small",type:"primary",children:"Modifier"})})]})}):null,Z=function(j){c(j),s(!0),fetch("".concat(vn,"/translation?key=").concat(e),gn).then(function(N){return N.json()}).then(function(N){var C=N.data;l(C),s(!1)})},b=function(j){a&&j.stopPropagation()};return(0,t.jsx)(ye.Z,{title:x?null:e,content:I,open:u,trigger:"click",onOpenChange:Z,children:(0,t.jsx)("a",{onClick:b,className:vr,children:n.value||e})})},pr=function(n){var e=n||{},a=e.debug,i=a===void 0?!1:a,r=(0,y.useContext)(Ie),u=(0,dr.Z)(),c=function(l){return u.formatMessage({id:l})!==l},g=function(l){var m,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=h.count,s=Je()(h,fr),M=l;if(h&&h.count!==void 0){var I="zero";h.count>1?I="other":h.count===1&&(I="one"),M="".concat(l,".").concat(I)}M=(0,Fe.decamelize)(M);var Z=u.formatMessage({id:M},h);if(i||r!=null&&(m=r.i18n)!==null&&m!==void 0&&m.debug){var b;return(0,t.jsx)(gr,{translationKey:M,value:Z,preventDefault:r==null||(b=r.i18n)===null||b===void 0?void 0:b.preventDefault})}return Z},f=function(l,m){return g("activerecord.attributes.".concat((0,Fe.decamelize)(l),".").concat((0,Fe.decamelize)(m)))};return{t:g,translate:g,tAttribute:f,isTranslated:c}},mr=pr,pn={container:"ux2_qjNZthMeMslgWP2R",item:"k5GBX5RFIiUIq1fasqpb"},hr=function(n){var e=n.header,a=n.values,i=n.description;return(0,t.jsxs)(V.Z,{align:"start",className:"".concat(pn.item," wand-csv-notice-item"),children:[(0,t.jsx)("code",{children:e}),(0,t.jsxs)("div",{children:[i,a&&a.length>0&&(0,t.jsx)("ul",{children:a.map(function(r){var u=r.value,c=r.description;return(0,t.jsx)("li",{children:(0,t.jsxs)(V.Z,{children:[(0,t.jsx)("strong",{children:u}),c]})},u)})})]})]},e)},xr=function(n){var e=n.schema,a=e===void 0?[]:e;return(0,t.jsx)("div",{className:"".concat(pn.container," wand-csv-notice-container"),children:(0,t.jsx)(V.Z,{direction:"vertical",style:{width:"100%"},children:a.map(function(i){return(0,t.jsx)(hr,S()({},i),i.header)})})})},mn=xr,jr=d(23680),Sr=d(69309),Cr=d(2482),q=d(2587),Oe=d(16757),Ir=d(85402),yr=d(79718),Mr=function(n){var e=n.configuration,a=n.importType,i=(0,y.useState)(!1),r=P()(i,2),u=r[0],c=r[1],g=(0,y.useState)(void 0),f=P()(g,2),v=f[0],l=f[1],m=(0,y.useState)(void 0),h=P()(m,2),x=h[0],s=h[1],M=function(A){var D;return A?(D=e.client)===null||D===void 0?void 0:D.get("/".concat(e.rootUrl,"/imports/").concat(A)):new Promise(function(w,U){return w({})})},I=(0,yr.Z)(M,{pollingInterval:3e3,pollingWhenHidden:!0,manual:!0,onSuccess:function(A){A.id&&s(A)}}),Z=I.run,b=I.cancel,p=function(A){var D=new FormData;return D.append("file",A,A.name),e.client&&e.client.post("/".concat(e.rootUrl,"/imports/").concat(a),D,{headers:{"Content-Type":"multipart/form-data"}}).then(function(w){return w.id&&(Z(w.id),s(w)),!1}),!1};(0,y.useEffect)(function(){e.client&&e.client.get("/".concat(e.rootUrl,"/importers/").concat(a)).then(function(C){l(C)})},[a]),(0,y.useEffect)(function(){["checked","imported"].includes(x==null?void 0:x.state)&&b()},[x==null?void 0:x.state]);var j=function(){s(void 0),c(!1),b()},N=function(){e.client&&(b(),s(S()(S()({},x),{},{state:"importing"})),e.client.put("/".concat(e.rootUrl,"/imports/").concat(x.id),{to_state:"import"}).then(function(A){A.id&&(Z(A.id),s(A))}))};return{loading:u,importer:v,importFile:x,onImport:p,onProcessImport:N,onReset:j}},Nr=Mr,Me={descriptions:"MHJ6za7mLjIFQZVdbgb8",label:"JNi1IaAyOABvuOXyeW0z",required:"k7g_8q77vuMd09rEHDBX",checkDescriptions:"cZDwyf6DcWzNZBFNCKwl",actions:"_bu6DPtaXGUWtHz6I2fX",sampleFileLink:"Df9K6V6SyUolWL794UtS"},_e=d(84273),br=jr.Z.Dragger,me={rootUrl:"excelsior"},Ar=function(n){return n?n.state==="pending"||n.state==="buffering"?{status:"progress",icon:(0,t.jsx)(_e.Z,{})}:{status:"finish"}:{status:"progress"}},Zr=function(n){return n?n.state==="checking"?{status:"progress",icon:(0,t.jsx)(_e.Z,{})}:["buffered","checked","importing","imported"].includes(n.state)?{status:"finish"}:{status:"wait"}:{status:"wait"}},Lr=function(n){return n?n.state==="importing"?{status:"progress",icon:(0,t.jsx)(_e.Z,{})}:n.state==="imported"?{status:"finish"}:{status:"wait"}:{status:"wait"}},Pr=function(n){var e,a,i,r,u=n.importType,c=n.onCancel,g=n.onCompleted,f=Nr({configuration:me,importType:u,onCompleted:g}),v=f.importer,l=f.importFile,m=f.onReset,h=f.onImport,x=f.onProcessImport,s=n.translate||me.translate,M=[S()({title:s?s("excelsior_modal.upload_file"):"Upload file"},Ar(l)),S()({title:s?s("excelsior_modal.verify_file"):"Verify file"},Zr(l)),S()({title:s?s("excelsior_modal.import_file"):"Import file"},Lr(l))],I=(0,t.jsx)(Sr.Z,{style:{paddingRight:30,marginBottom:16},items:M});if(!l||["buffering","buffered","pending"].includes(l.state))return(0,t.jsxs)(t.Fragment,{children:[I,(0,t.jsx)(pe.Z,{delay:200,spinning:["buffering","pending"].includes(l==null?void 0:l.state),tip:s?s("excelsior_modal.uploading_file"):"Uploading...",children:(0,t.jsxs)(V.Z,{direction:"vertical",style:{width:"100%"},children:[(0,t.jsx)(br,{name:"file",showUploadList:!1,multiple:!1,beforeUpload:h,children:(0,t.jsx)("p",{className:"ant-upload-hint",children:s?s("excelsior_modal.upload_format"):"Upload a .xlsx or a .csv file"})}),v&&v.notice&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Cr.Z.Title,{style:{marginBottom:0},level:5,children:(0,t.jsxs)(V.Z,{children:[s?s("excelsior_modal.expected_columns"):"Expected cols",v.sample_file&&(0,t.jsx)("a",{className:Me.sampleFileLink,href:v.sample_file,target:"_blank",children:s?s("excelsior_modal.download_sample_file"):"Download sample file"})]})}),(0,t.jsx)(mn,{schema:v.notice})]})]})})]});if(["checking","checked"].includes(l.state))return(0,t.jsxs)(t.Fragment,{children:[I,(0,t.jsxs)(pe.Z,{delay:200,spinning:["checking"].includes(l==null?void 0:l.state),tip:s?s("excelsior_modal.checking_file"):"Checking...",children:[(0,t.jsxs)(q.Z,{bordered:!0,className:Me.checkDescriptions,size:"small",colon:!1,layout:"vertical",column:4,children:[(0,t.jsx)(q.Z.Item,{span:4,label:s?s("excelsior_modal.number_of_error_lines"):"Error lines count",children:l.state==="checking"?"":l.errors_count.toLocaleString()}),(0,t.jsx)(q.Z.Item,{span:4,label:s?s("excelsior_modal.number_of_success_lines"):"Correct lines count",children:l.state==="checking"?"":l.success_count.toLocaleString()}),(0,t.jsx)(q.Z.Item,{span:2,label:s?s("excelsior_modal.number_of_creation"):"Create",children:l.state==="checking"?"":l.create_count.toLocaleString()}),(0,t.jsx)(q.Z.Item,{span:2,label:s?s("excelsior_modal.number_of_update"):"Update",children:l.state==="checking"?"":l.update_count.toLocaleString()})]}),(0,t.jsx)("div",{className:Me.actions,children:(0,t.jsxs)(V.Z,{children:[(0,t.jsx)($.Z,{onClick:c,type:"text",children:s?s("excelsior_modal.cancel"):"Cancel"}),(0,t.jsx)($.Z,{onClick:x,type:"primary",children:s?s("excelsior_modal.import"):"Cancel"})]})})]})]});var Z=(0,t.jsxs)(q.Z,{bordered:!0,className:Me.checkDescriptions,size:"small",colon:!1,layout:"vertical",column:4,children:[(0,t.jsx)(q.Z.Item,{span:4,label:s?s("excelsior_modal.number_of_error_lines"):"Error lines count",children:((e=l.errors_count)===null||e===void 0?void 0:e.toLocaleString())||"0"}),(0,t.jsx)(q.Z.Item,{span:4,label:s?s("excelsior_modal.number_of_success_lines"):"Correct lines count",children:((a=l.success_count)===null||a===void 0?void 0:a.toLocaleString())||"0"}),(0,t.jsx)(q.Z.Item,{span:2,label:s?s("excelsior_modal.number_of_creation"):"Create",children:((i=l.create_count)===null||i===void 0?void 0:i.toLocaleString())||"0"}),(0,t.jsx)(q.Z.Item,{span:2,label:s?s("excelsior_modal.number_of_update"):"Update",children:((r=l.update_count)===null||r===void 0?void 0:r.toLocaleString())||"0"})]});return["importing","imported"].includes(l.state)?(0,t.jsxs)(t.Fragment,{children:[I,(0,t.jsxs)(pe.Z,{delay:200,spinning:["importing"].includes(l==null?void 0:l.state),tip:s?s("excelsior_modal.importing_file"):"Importing...",children:[l.state=="imported"&&(0,t.jsx)(Oe.ZP,{status:"success",title:s?s("excelsior_modal.file_successfully_imported"):"File successfully importer",extra:[(0,t.jsx)($.Z,{type:"text",onClick:c,children:s?s("excelsior_modal.finish_and_close"):"Finish and close"},"reset"),(0,t.jsx)($.Z,{type:"primary",onClick:m,children:s?s("excelsior_modal.new_import"):"New import"},"close")]}),Z]})]}):l.state==="error"?l.error_message=="header_not_found"?(0,t.jsx)(Oe.ZP,{status:"error",title:s?s("excelsior_modal.missing_header"):"Error",subTitle:(0,t.jsxs)("div",{children:[s?s("excelsior_modal.following_headers_are_missing"):"Error",":\xA0",(l.missing_headers||[]).join(", ")]}),extra:[(0,t.jsx)($.Z,{type:"text",onClick:c,children:s?s("excelsior_modal.finish_and_close"):"Finish and close"},"reset"),(0,t.jsx)($.Z,{type:"primary",onClick:m,children:s?s("excelsior_modal.new_import"):"New import"},"close")]}):(0,t.jsxs)(t.Fragment,{children:[I,(0,t.jsx)(Oe.ZP,{status:"error",title:s?s("excelsior_modal.error_on_file"):"Error",subTitle:l.error_file?(0,t.jsx)("a",{href:l.error_file,target:"_blank",children:s?s("excelsior_modal.click_here_for_download_error_file"):"Error"}):null,extra:[(0,t.jsx)($.Z,{type:"text",onClick:c,children:s?s("excelsior_modal.finish_and_close"):"Finish and close"},"reset"),(0,t.jsx)($.Z,{type:"primary",onClick:m,children:s?s("excelsior_modal.new_import"):"New import"},"close")]})]}):(0,t.jsx)("div",{children:I})},Dr=function(n){var e=n.open,a=n.translate,i=n.onCancel,r=n.title;return e?(0,t.jsx)(Ir.Z,{open:!0,width:1e3,footer:!1,title:r,onCancel:i,children:(0,t.jsx)(Pr,S()({translate:a},n))}):null},Tr=function(n){return me=S()(S()({},me),n),me},wr=Dr,hn=wr;hn.configure=Tr;var Er=hn,Fr=d(12576),Ne=d(50319),zr=d(13448),xn,Or=function(n){zr.Z[n.type||"open"]({message:n.message,description:null,placement:"bottomRight",duration:2})},Ue=function(n){var e=n.data;if(e){var a=Object.keys(e);a.forEach(function(i){var r;(((r=e[i])===null||r===void 0?void 0:r.flashMessages)||[]).forEach(function(u){Or(JSON.parse(u))})})}return n},be=function(n,e,a,i){var r,u,c=a?(r=a.definitions.find(function(f){return f.kind==="FragmentDefinition"&&f.name.kind==="Name"}))===null||r===void 0||(u=r.name)===null||u===void 0?void 0:u.value:void 0,g=(i==null?void 0:i.inputName)||"".concat((0,ne.upperFirst)(e)).concat((0,ne.upperFirst)(n),"Input");return(0,Fr.Ps)(xn||(xn=te()([`
    mutation `,"($input: ",`!) {
      `,`(input: $input) {
        `,` {
          ...`,`
        }
        `,`
      }
    }
    `,`
  `])),i.mutationName,g,i.mutationName,n,c,i.flashMessages?"flashMessages":"",a)};function _r(o,n){var e=n.flashMessages,a=e===void 0?!1:e,i=n.definition,r=n.queries,u=r===void 0?{}:r,c=u.fetch,g=n.defaultMutationNames,f=g===void 0?{}:g,v=n.defaultInputNames,l=v===void 0?{}:v,m=n.mutations,h=m===void 0?{}:m,x=n.fragment,s=h.create,M=f.create||"create".concat((0,ne.upperFirst)(o));if(!s&&x){var I;l&&(typeof l=="function"?I=l("create",o):l.create&&(I=l.create)),s=be(o,"create",x,{inputName:I,flashMessages:a,mutationName:M})}var Z=h.update,b=f.update||"update".concat((0,ne.upperFirst)(o));if(!Z&&x){var p;l&&(typeof l=="function"?p=l("update",o):l.update&&(p=l.update)),Z=be(o,"update",x,{inputName:p,flashMessages:a,mutationName:b})}var j=h.delete,N=f.delete||"delete".concat((0,ne.upperFirst)(o));if(!j&&x){var C;l&&(typeof l=="function"?C=l("delete",o):l.delete&&(C=l.delete)),j=be(o,"delete",x,{inputName:C,flashMessages:a,mutationName:N})}var A=h.import,D=f.import||"import".concat((0,ne.upperFirst)(o),"s");if(!A&&x){var w;l&&(typeof l=="function"?w=l("import",o):l.delete&&(w=l.import)),A=be(o,"import",x,{inputName:w,flashMessages:a,mutationName:D})}return function(U,B){var F=B||{},H=F.mutationOptions,O=H===void 0?{}:H,J=F.fetch,L=J===void 0?!1:J,_=F.singleton,R=_===void 0?!1:_,z=F.queries,G=i&&(Object.values(i).includes("File")||Object.values(i).includes("Files")),re=function(ae){return console.log(ae)},k=c||z!=null&&z.fetch?(0,Ge.a)((z==null?void 0:z.fetch)||c,S()({variables:{id:U},skip:!L||!U&&!R||!c,fetchPolicy:"cache-and-network",onError:re},ke()(L)==="object"?L:{})):{},K=k.data,ce=K===void 0?{}:K,se=k.loading,xe=se===void 0?!1:se,ie=k.refetch,je=ie===void 0?void 0:ie,E=ce[o]||{},Q=(0,y.useState)(void 0),ee=P()(Q,2),pa=ee[0],An=ee[1],ma=s?(0,Ne.D)(s,S()(S()({},O||{}),{},{context:{hasUpload:G}})):[],Zn=P()(ma,2),Ln=Zn[0],ha=Zn[1].loading,xa=Z?(0,Ne.D)(Z,S()(S()({},O||{}),{},{context:{hasUpload:G}})):[],Pn=P()(xa,2),Dn=Pn[0],ja=Pn[1].loading,Sa=j?(0,Ne.D)(j,S()({},O||{})):[],Ca=P()(Sa,1),Tn=Ca[0],Ia=A?(0,Ne.D)(A,S()({},O||{})):[],ya=P()(Ia,1),wn=ya[0],Ma=function(ae,T){var Se=i||T!=null&&T.definition?le((T==null?void 0:T.definition)||i,ae):ae;n.debug&&console.log("attributes",Se);var oe=function(Ve){var En=Ve.recordErrors;a&&Ue(Ve),An(En||void 0),T!=null&&T.onCompleted&&T.onCompleted(Ve)};U||T.id||R?Dn&&Dn({variables:{input:S()({id:U||T.id,attributes:Se},(T==null?void 0:T.variables)||{})},onCompleted:oe}):Ln&&Ln({variables:{input:S()({attributes:Se},(T==null?void 0:T.variables)||{})},onCompleted:oe})},Na=function(ae,T){n.debug&&console.log("DELETE",ae),Tn&&Tn({variables:{input:{id:ae||T.id}},onCompleted:function(oe){a&&Ue(oe),T!=null&&T.onCompleted&&T.onCompleted(oe)}})},ba=function(ae,T){wn&&wn({context:{hasUpload:!0},variables:{input:{file:ae}},onCompleted:function(oe){a&&Ue(oe),T!=null&&T.onCompleted&&T.onCompleted(oe)}})};return{onSave:Ma,onDelete:Na,onImport:ba,refetch:je,record:E,loading:xe,submitting:ha||ja,errors:pa}}}var Ur=_r,jn=d(97847),he=d(32808),Rr=d(63922),Sn=d(81757),Vr=Object.defineProperty,Cn=Object.getOwnPropertySymbols,Yr=Object.prototype.hasOwnProperty,Br=Object.prototype.propertyIsEnumerable,In=(o,n,e)=>n in o?Vr(o,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[n]=e,Hr=(o,n)=>{for(var e in n||(n={}))Yr.call(n,e)&&In(o,e,n[e]);if(Cn)for(var e of Cn(n))Br.call(n,e)&&In(o,e,n[e]);return o};const La=o=>React.createElement("svg",Hr({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},o),React.createElement("path",{d:"M11.499 6.5a5 5 0 1 0-10 0 5 5 0 0 0 10 0Zm-.966 5.096A6.498 6.498 0 0 1 0 6.5C0 2.91 2.91 0 6.5 0a6.498 6.498 0 0 1 5.096 10.533l4.184 4.184a.75.75 0 0 1-1.06 1.06l-4.187-4.181Z",fill:"#343434"}));var Wr="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTExLjQ5OSA2LjVhNSA1IDAgMSAwLTEwIDAgNSA1IDAgMCAwIDEwIDBabS0uOTY2IDUuMDk2QTYuNDk4IDYuNDk4IDAgMCAxIDAgNi41QzAgMi45MSAyLjkxIDAgNi41IDBhNi40OTggNi40OTggMCAwIDEgNS4wOTYgMTAuNTMzbDQuMTg0IDQuMTg0YS43NS43NSAwIDAgMS0xLjA2IDEuMDZsLTQuMTg3LTQuMTgxWiIgZmlsbD0iIzM0MzQzNCIvPjwvc3ZnPg==",yn=d(23638),Gr=function(n){var e=n.field,a=n.value,i=n.onChange,r=e.input||{},u=r.inputProps,c=u===void 0?{}:u,g=(0,y.useState)((0,Pe.isMoment)(a)?a:X()(a).isValid()?X()(a):void 0),f=P()(g,2),v=f[0],l=f[1];(0,y.useEffect)(function(){l((0,Pe.isMoment)(a)?a:X()(a).isValid()?X()(a):void 0)},[a]);var m=function(x){l(x),i(W()({},e.name,x))};return(0,t.jsx)(yn.Z,S()(S()({},c),{},{placeholder:e.label,className:"wand__inline-filter__datepicker ".concat(v?"wand__inline-filter__datepicker--filled":""),value:v,onChange:m}))},kr=Gr,Xr=function(n){var e=n.field,a=n.value,i=n.onChange,r=e.input||{},u=r.inputProps,c=u===void 0?{}:u,g=c.placeholder,f=c.className,v=(0,y.useState)(!1),l=P()(v,2),m=l[0],h=l[1],x=(0,y.useState)(void 0),s=P()(x,2),M=s[0],I=s[1];(0,y.useEffect)(function(){I(a)},[a]);var Z=function(j){I(j.target.value),i(W()({},e.name,j.target.value))},b=["wand__inline-filter__string-input",f,e.className,m||M&&M.length>0?"wand__inline-filter__string-input--is-focused":void 0].filter(Boolean);return(0,t.jsx)(ze.Z,{className:b.join(" "),onFocus:function(){return h(!0)},onBlur:function(){return h(!1)},style:e.style||{},value:M,onChange:Z,addonBefore:e.icon,placeholder:g})},$r=Xr,Qr=function(n){var e=n.field,a=n.value,i=n.onChange,r=e.input||{},u=r.inputProps,c=u===void 0?{}:u,g=c.inverted,f=g===void 0?!1:g,v=c.className,l=c.text,m=(0,y.useState)(!1),h=P()(m,2),x=h[0],s=h[1];(0,y.useEffect)(function(){s(a)},[a]);var M=function(Z){s(!x),i(W()({},e.name,!x))};return(0,t.jsx)("div",{onClick:M,className:"wand__inline-filter__filter wand__inline-filter__boolean ".concat(x?"wand__inline-filter__boolean--checked":""),children:(0,t.jsxs)(V.Z,{children:[(0,t.jsx)(he.Z,{checked:x}),e.label]})})},Jr=Qr,Kr=yn.Z.RangePicker,qr=function(n){var e=n.field,a=n.value,i=n.onChange,r=e.input||{},u=r.inputProps,c=u===void 0?{}:u,g=P()(e.name,2),f=g[0],v=g[1],l=(0,y.useState)(a||{}),m=P()(l,2),h=m[0],x=m[1];(0,y.useEffect)(function(){x(a||{})},[a]);var s=function(j){var N,C=(N={},W()(N,f,j?j[0]:void 0),W()(N,v,j?j[1]:void 0),N);i(C),x(C)},M=h[f];M&&!X().isMoment(M)&&(M=X()(M).startOf("day"));var I=h[v];I&&!X().isMoment(I)&&(I=X()(I).startOf("day"));var Z=[M,I],b=Z.filter(Boolean).length>0;return(0,t.jsx)(Kr,S()(S()({},c||{}),{},{className:"wand__inline-filter__datepicker ".concat(b?"wand__inline-filter__datepicker--filled":""),value:Z,onChange:s}))},ea=qr,na=function(){return(0,t.jsx)(V.Z,{children:"Render date"})},Pa=function(n){var e=n.field,a=n.value;return _jsx(Space,{children:e.label})},Da={date:na},ta={select:Mn,date:kr,string:$r,boolean:Jr,daterange:ea},ra=function(n,e){return e.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").indexOf(n.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))>=0},aa=function(n){return function(e,a){return n.includes(e.value)&&!n.includes(a.value)?1:!n.includes(e.value)&&n.includes(a.value)?-1:0}},ia=function(n){var e,a=n.field,i=n.value,r=n.onChange,u=(a==null?void 0:a.input)||{},c=u.inputProps,g=c===void 0?{}:c,f=g.multiple,v=f===void 0?!1:f,l=g.allowSearch,m=l===void 0?!0:l,h=g.searchPlaceholder,x=h===void 0?void 0:h,s=g.selectAllText,M=s===void 0?"All":s,I=g.options,Z=I===void 0?[]:I,b=(0,Sn.Z)(Z.map(function(E){return E.value}),i?Array.isArray(i||[])?i:[i]:[]),p=b.selected,j=b.setSelected,N=b.allSelected,C=b.partiallySelected,A=b.unSelectAll,D=b.selectAll,w=b.toggle,U=(0,y.useState)(void 0),B=P()(U,2),F=B[0],H=B[1],O=(0,y.useState)(!1),J=P()(O,2),L=J[0],_=J[1],R=(0,y.useState)(!1),z=P()(R,2),G=z[0],re=z[1],k=(0,y.useRef)();(0,y.useEffect)(function(){j(i?Array.isArray(i||[])?i:[i]:[])},[i,v]),(0,y.useEffect)(function(){k&&k.current&&setTimeout(function(){k.current.select()},0)},[L]);var K=function(Q){var ee;return H((ee=Q.target)===null||ee===void 0?void 0:ee.value)},ce=function(Q){if(v)if(p.includes(Q)){var ee=fe()(p);ee.splice(ee.indexOf(Q),1),r(W()({},a.name,ee))}else r(W()({},a.name,[].concat(fe()(p),[Q])));else r(W()({},a.name,p.includes(Q)?void 0:Q))},se=function(){r(W()({},a.name,Z.map(function(Q){return Q.value}))),D()},xe=function(){r(W()({},a.name,void 0)),A()},ie=Z.filter(function(E){return!F||ra(F,E)||p.includes(E.value)});F&&F.length>0&&(ie=ie.sort(aa(p)));var je=(0,t.jsxs)(t.Fragment,{children:[m&&(0,t.jsx)(ze.Z,{ref:k,value:F,onChange:K,onFocus:function(){return re(!0)},onBlur:function(){return re(!1)},placeholder:G?void 0:x,addonBefore:(0,t.jsx)("div",{className:"wand__inline-filter__search-input__icon-wrapper",children:(0,t.jsx)(jn.Z,{src:Wr,height:15})}),className:"wand__inline-filter__search-input ".concat(G||F?"wand__inline-filter__search-input--is-focused":"")}),(0,t.jsxs)("div",{className:"wand__inline-filter__options-container",children:[v&&!F&&(0,t.jsx)("div",{className:"wand__inline-filter__option ".concat(N?"wand__inline-filter__option--is-selected":""),onClick:N?xe:se,children:(0,t.jsxs)(V.Z,{children:[(0,t.jsx)(he.Z,{indeterminate:C,checked:N}),M]})},"select-all"),ie.map(function(E){return(0,t.jsx)("div",{className:"wand__inline-filter__option ".concat(p!=null&&p.includes(E.value)?"wand__inline-filter__option--is-selected":""),onClick:function(){return ce(E.value)},children:(0,t.jsxs)(V.Z,{children:[v&&(0,t.jsx)(he.Z,{checked:p==null?void 0:p.includes(E.value)}),E.children||E.label]})},E.value)})]})]});return(0,t.jsx)(ye.Z,{showArrow:!1,open:L,content:je,placement:"bottom",onOpenChange:_,trigger:"click",overlayClassName:"wand__inline-filter__popover",children:(0,t.jsx)("div",{className:"wand__inline-filter__filter ".concat(p.length>0?"wand__inline-filter__filter--filled":""," ").concat(p.length>0||L?"wand__inline-filter__filter--focused":""),children:(0,t.jsxs)(V.Z,{children:[(0,t.jsxs)("span",{className:"wand__inline-filter__label",children:[a.label,p.length>0&&!v&&(0,t.jsxs)("span",{children:["\xA0:\xA0",(e=Z.find(function(E){return E.value===p[0]}))===null||e===void 0?void 0:e.label]})]}),p.length>0&&v?(0,t.jsx)(Rr.Z,{className:"wand__inline-filter__badge",count:p.length}):a.icon]})})})},Mn=ia,oa=Object.defineProperty,Nn=Object.getOwnPropertySymbols,la=Object.prototype.hasOwnProperty,sa=Object.prototype.propertyIsEnumerable,bn=(o,n,e)=>n in o?oa(o,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[n]=e,ca=(o,n)=>{for(var e in n||(n={}))la.call(n,e)&&bn(o,e,n[e]);if(Nn)for(var e of Nn(n))sa.call(n,e)&&bn(o,e,n[e]);return o};const Ta=o=>React.createElement("svg",ca({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},o),React.createElement("path",{d:"M0 71.5C0 49.7 17.7 32 39.5 32h433c21.8 0 39.5 17.7 39.5 39.5 0 9.2-3.2 18.1-9.1 25.2L320 317.8v128.3c0 18.7-15.2 33.9-33.9 33.9-7.5 0-14.8-2.5-20.8-7.1l-61-47.4c-7.8-6.1-12.4-15.4-12.4-25.3v-82.4L9.1 96.7C3.2 89.6 0 80.7 0 71.5zM39.5 64c-4.2 0-7.5 3.4-7.5 7.5 0 1.8.6 3.4 1.7 4.8l186.6 225.5c2.4 2.9 3.7 6.5 3.7 10.2v88.2l61 47.4c.3.3.7.4 1.1.4 1 0 1.9-.8 1.9-1.9V312c0-3.7 1.3-7.3 3.7-10.2L478.3 76.3c1.1-1.3 1.7-3 1.7-4.8 0-4.2-3.4-7.5-7.5-7.5h-433z"}));var ua="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuNC4wIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIzIEZvbnRpY29ucywgSW5jLi0tPjxwYXRoIGQ9Ik0wIDcxLjVDMCA0OS43IDE3LjcgMzIgMzkuNSAzMmg0MzNjMjEuOCAwIDM5LjUgMTcuNyAzOS41IDM5LjUgMCA5LjItMy4yIDE4LjEtOS4xIDI1LjJMMzIwIDMxNy44djEyOC4zYzAgMTguNy0xNS4yIDMzLjktMzMuOSAzMy45LTcuNSAwLTE0LjgtMi41LTIwLjgtNy4xbC02MS00Ny40Yy03LjgtNi4xLTEyLjQtMTUuNC0xMi40LTI1LjN2LTgyLjRMOS4xIDk2LjdDMy4yIDg5LjYgMCA4MC43IDAgNzEuNXpNMzkuNSA2NGMtNC4yIDAtNy41IDMuNC03LjUgNy41IDAgMS44LjYgMy40IDEuNyA0LjhsMTg2LjYgMjI1LjVjMi40IDIuOSAzLjcgNi41IDMuNyAxMC4ydjg4LjJsNjEgNDcuNGMuMy4zLjcuNCAxLjEuNCAxIDAgMS45LS44IDEuOS0xLjlWMzEyYzAtMy43IDEuMy03LjMgMy43LTEwLjJMNDc4LjMgNzYuM2MxLjEtMS4zIDEuNy0zIDEuNy00LjggMC00LjItMy40LTcuNS03LjUtNy41aC00MzN6Ii8+PC9zdmc+",da=function(n){var e=n.schema,a=n.icon,i=a===void 0?(0,t.jsx)(jn.Z,{src:ua,height:15}):a,r=n.text,u=r===void 0?"Filters":r,c=n.selectAllText,g=c===void 0?"All filters":c,f=n.cancelText,v=f===void 0?"Cancel":f,l=n.okText,m=l===void 0?"Valider":l,h=n.value,x=n.onChange,s=e.filter(function(L){return L.name&&(L.toggleable||L.toggleable===void 0)}),M=(0,y.useState)(!1),I=P()(M,2),Z=I[0],b=I[1],p=(0,Sn.Z)(s.map(function(L){return L.name}),h||[]),j=p.selected,N=p.unSelect,C=p.setSelected,A=p.select,D=p.noneSelected,w=p.partiallySelected,U=p.unSelectAll,B=p.selectAll,F=function(_){j.includes(_)?N(_):A(_)},H=function(){b(!1),C(h||[])},O=function(){b(!1),x(j)},J=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"wand__inline-filter__options-container",children:[(0,t.jsx)("div",{className:"wand__inline-filter__option ".concat(D?"wand__inline-filter__option--is-selected":""),onClick:D?B:U,children:(0,t.jsxs)(V.Z,{children:[(0,t.jsx)(he.Z,{indeterminate:w,checked:D}),g]})},"select-all"),s.map(function(L){return(0,t.jsx)("div",{className:"wand__inline-filter__option ".concat(j!=null&&j.includes(L.name)?"":"wand__inline-filter__option--is-selected"),onClick:function(R){return F(L.name)},children:(0,t.jsxs)(V.Z,{children:[(0,t.jsx)(he.Z,{checked:!(j!=null&&j.includes(L.name))}),L.icon,L.title||L.label]})},L.name)})]}),(0,t.jsx)("div",{className:"wand__inline-filter__footer",children:(0,t.jsxs)(V.Z,{size:"small",children:[(0,t.jsx)($.Z,{type:"text",onClick:H,children:v}),(0,t.jsx)($.Z,{type:"primary",onClick:O,children:m})]})})]});return(0,t.jsx)(ye.Z,{showArrow:!1,open:Z,content:J,placement:"bottom",onOpenChange:b,trigger:"click",overlayClassName:"wand__inline-filter__popover",children:(0,t.jsx)("div",{className:"wand__filter-toggler__button",children:(0,t.jsxs)(V.Z,{children:[u,(0,t.jsx)("span",{className:"wand__filter-toggler__icon",children:i})]})})})},fa=da,va=function(n){var e=n.schema,a=n.value,i=n.delay,r=i===void 0?200:i,u=n.resetText,c=n.toggle,g=n.onReset,f=(0,ve.Z)(c!=null&&c.key?"".concat(c==null?void 0:c.key,"-filters"):"filter-toggle"),v=P()(f,2),l=v[0],m=v[1],h=(0,y.useState)(a),x=P()(h,2),s=x[0],M=x[1],I=(0,Xe.Z)(function(C){n.onChange&&n.onChange(C)},{wait:r}),Z=I.run;(0,y.useEffect)(function(){M(a)},[a]);var b=function(A){M(A),Z(A)},p=function(A){return b((0,ne.omit)(S()(S()({},s),A),c?l:[]))},j=function(A){m(A),b((0,ne.omit)(S()({},s),c?A:[]))},N=e;return c&&l&&l.length>0&&(N=N.filter(function(C){return C.toggleable!==void 0&&!C.toggleable||!l.includes(C.name)})),(0,t.jsxs)(V.Z,{style:{width:"100%"},wrap:!0,children:[N.map(function(C){var A=ta[C.input.type]||Mn;return(0,t.jsx)(A,{field:C,value:Array.isArray(C.name)?C.name.reduce(function(D,w){return D[w]=s[w],D},{}):s[C.name],onChange:p},Array.isArray(C.name)?C.name.join("--"):C.name)}),c&&(0,t.jsx)(fa,S()({schema:e,value:l,onChange:j},c||{})),g&&(0,t.jsx)($.Z,{type:"text",onClick:g,children:u||"Reset filters"})]})},ga=va},24654:function(){}}]);
