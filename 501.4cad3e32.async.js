(self.webpackChunk_9troisquarts_wand=self.webpackChunk_9troisquarts_wand||[]).push([[501],{90095:function(Ei,He,u){"use strict";u.r(He),u.d(He,{AutoLink:function(){return Yt},CSVNotice:function(){return hn},ContextMenu:function(){return qt},DropdownTag:function(){return ir},ExcelsiorImportModal:function(){return Vr},ExcelsiorImportModalContent:function(){return Rr},InlineFilters:function(){return yi},ModelDefinition:function(){return Qn},NtqToolbar:function(){return hr},NtqToolbarProvider:function(){return or},capitalize:function(){return Kn},castAttributesFromDefinition:function(){return oe},memoOnlyForKeys:function(){return et},nl2br:function(){return Ce},useGraphqlModel:function(){return Wr},useI18n:function(){return Ir},useSearchFilters:function(){return Ke},useTableList:function(){return pt}});var On=u(56690),Ze=u.n(On),_n=u(89728),Le=u.n(_n),Un=u(38416),G=u.n(Un),Rn=u(62620),We=u.n(Rn),Vn=u(13218),Yn=u.n(Vn),Bn=u(57557),Ge=u.n(Bn),kn=u(1469),Pe=u.n(kn),Hn=u(14293),se=u.n(Hn),Te=u(30381),W=u.n(Te),ye=function(n){return parseFloat(n.toString().replace(/\,/g,"."))},Wn={skipUndefinedKeys:!0},ue=function(n,e){if(!se()(e))switch(n.toLowerCase()){case"float":return ye(e);case"integer":return parseInt(e,10);case"string":return typeof e=="string"?e:e.toString();case"date":var r=W().isMoment(e)?e:W()(e);return r.isValid()?r.format("YYYY-MM-DD"):null;case"datetime":var i=W().isMoment(e)?e:W()(e);return i.isValid()?i.format():null;case"password":case"files":case"file":return e||void 0;default:return e}},$e=function(n,e){var r,i,a,c,l;switch(n.toLowerCase()){case"files":return e.filter(function(m){return m instanceof File});case"file":return e;case"location":return{location:{formattedAddress:(e==null||(r=e.location)===null||r===void 0?void 0:r.formattedAddress)||(e==null?void 0:e.formattedAddress),lat:e!=null&&(i=e.location)!==null&&i!==void 0&&i.lat||e!=null&&e.lat?ye(((a=e.location)===null||a===void 0?void 0:a.lat)||(e==null?void 0:e.lat)):void 0,lng:e!=null&&(c=e.location)!==null&&c!==void 0&&c.lng||e!=null&&e.lat?ye(((l=e.location)===null||l===void 0?void 0:l.lng)||(e==null?void 0:e.lng)):void 0},proximity:e.proximity?parseInt(e.proximity,10):void 0};case"boolean":return e?e==="true"||e==="1"||e:null;case"float":return ye(e);case"integer":return parseInt(e,10);case"string":return typeof e=="string"?e:e.toString();case"datetime":case"date":return W().isMoment(e)?e:W()(e);default:return e}},Gn=function(n,e){var r={};return We()(n,function(i,a){Array.isArray(i)&&!se()(e[a])?r[a]=e[a].map(function(c){return $e(i[0],c)}):se()(e[a])||(r[a]=$e(i,e[a]))}),r};function De(o,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Wn,r={};return We()(o,function(i,a){if(Yn()(i)){if(i.type==="Places"){var c,l,m,v,x,f,j,g,S,d,y,b,I,s,p,h,A,M,P,F;if(r[((c=i.options)===null||c===void 0?void 0:c.formattedAddress)||a]=(l=n[a])===null||l===void 0?void 0:l.formattedAddress,r[((m=i.options)===null||m===void 0?void 0:m.city)||"city"]=(v=n[a])===null||v===void 0?void 0:v.city,r[((x=i.options)===null||x===void 0?void 0:x.lat)||"lat"]=(f=n[a])===null||f===void 0?void 0:f.lat,r[((j=i.options)===null||j===void 0?void 0:j.lng)||"lng"]=(g=n[a])===null||g===void 0?void 0:g.lng,(S=i.options)!==null&&S!==void 0&&S.countryIso&&(r[((d=i.options)===null||d===void 0?void 0:d.countryIso)||"countryIso"]=(y=n[a])===null||y===void 0?void 0:y.countryIso),(b=i.options)!==null&&b!==void 0&&b.country&&(r[((I=i.options)===null||I===void 0?void 0:I.country)||"country"]=(s=n[a])===null||s===void 0?void 0:s.country),(p=i.options)!==null&&p!==void 0&&p.administrativeLevelOne&&(r[i.options.administrativeLevelOne]=(h=n[a])===null||h===void 0||(A=h.administrativeAreaLevels)===null||A===void 0||(M=A.find(function(_){return _.types.includes("administrative_area_level_1")}))===null||M===void 0?void 0:M.long_name),(P=i.options)!==null&&P!==void 0&&P.administrativeLevelTwo){var z,O,w;r[i.options.administrativeLevelTwo]=(z=n[a])===null||z===void 0||(O=z.administrativeAreaLevels)===null||O===void 0||(w=O.find(function(_){return _.types.includes("administrative_area_level_2")}))===null||w===void 0?void 0:w.long_name}if((F=i.options)!==null&&F!==void 0&&F.zipCode){var D;r[i.options.zipCode]=(D=n[a])===null||D===void 0?void 0:D.zipCode}}else if(Pe()(i)&&!se()(n[a]))r[a]=n[a].map(function(_){return ue(i[0],_)});else if(!se()(n[a])){var U=n[a];U&&(r["".concat(a,"Attributes")]=Pe()(U)?U.map(function(_){return De(i,_)}):De(i,U))}}else if(se()(n[a]))i!=="password"&&i!=="nested"&&i!=="id"&&i!=="Attachment"&&(!e.skipUndefinedKeys||n.hasOwnProperty(a))&&(r[a]=null);else switch(i.toLowerCase()){case"attachment":n[a].id&&(r["".concat(a,"Id")]=n[a].id);break;case"files":n[a]&&(r[a]=ue("Files",n[a]));break;case"file":n[a]&&n[a]instanceof File&&(r[a]=ue("File",n[a]));break;case"password":n[a]&&(r[a]=ue("String",n[a]));break;case"nested":n[a]&&(r["".concat(a,"Attributes")]=Pe()(n[a])?n[a].map(function(_){return Ge()(_,["__typename"])}):Ge()(n[a],["__typename"]));break;default:r[a]=ue(i.toLowerCase(),n[a]);break}}),r}var oe=De,$n={skipUndefinedKeys:!0},Xn=function(){function o(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$n;Ze()(this,o),G()(this,"definition",void 0),G()(this,"options",void 0),this.definition=n,this.options=e}return Le()(o,[{key:"parse",value:function(e){return oe(this.definition,e,this.options)}}]),o}(),Qn=Xn,Jn=function(n){return n.charAt(0).toUpperCase()+n.slice(1)},Kn=Jn,ee=u(96486),qn=function(n){return function(e,r){return!n.some(function(i){return!(0,ee.isEqual)(e[i],r[i])})}},et=qn,N=u(67294),nt=u(92742),tt=u.n(nt),t=u(85893),rt=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(typeof n!="string"||!n.includes(`
`))return n;var r=n.split(`
`).filter(function(i){return tt()(i).length>0});return r.map(function(i,a){return(0,t.jsxs)(N.Fragment,{children:[i,(a<r.length-1||e)&&(0,t.jsx)("br",{})]},"line".concat(a))})},Ce=rt,it=u(42122),C=u.n(it),at=u(27424),L=u.n(at),Xe=u(40902),ot=u(51589),lt=u.n(ot),st=u(861),fe=u.n(st),ct=u(18698),Qe=u.n(ct),ve=u(65885),Je=u(85980),dt=u(38018),ut=u(80129),ft=u.n(ut),vt=function o(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.entries(n).reduce(function(r,i){var a=L()(i,2),c=a[0],l=a[1];return l&&(Qe()(l)==="object"?r.push.apply(r,fe()(o(l,[].concat(fe()(e),[c])))):r.push([[].concat(fe()(e),[c]),l])),r},[])};function gt(o,n){var e=n||{},r=e.updateLocation,i=r===void 0?!1:r,a=e.enabled,c=a===void 0?!0:a,l=e.debug,m=l===void 0?!1:l,v=e.definition,x=v===void 0?void 0:v,f=e.defaultSearch,j=f===void 0?{}:f,g=e.history;if(!c)return{};var S=(0,ve.Z)("".concat(o,"-page"),1),d=L()(S,2),y=d[0],b=d[1],I=(0,ve.Z)("".concat(o,"-per-page"),25),s=L()(I,2),p=s[0],h=s[1],A=(0,ve.Z)(o,{defaultValue:j}),M=L()(A,2),P=M[0],F=M[1],z=P||{};(0,N.useEffect)(function(){if(i){var B=ft().parse(location.search.replace("?",""));if(B){var Z=Object.keys(B).map(function(E){return B[E]}).filter(Boolean);Z.length>0&&F(x?C()({},oe(x,B)):C()({},B))}}},[]);var O=function(Z){var E=C()(C()({},P),Z),$=C()(C()({},P),Z);if(x&&(E=oe(x,E),$=oe(x,$,{skipDate:!0})),m&&console.table({parameters:E,original:Z,definition:x}),F(E),i){var k,te=vt($).map(function(H){var le=L()(H,2),ce=lt()(le[0]),de=ce[0],xe=ce.slice(1),ie=le[1];return"".concat(de).concat(xe.map(function(je){return"[".concat(je,"]")}).join(""),"=").concat(ie)}).join("&");b(1);var K=((k=window.location)===null||k===void 0?void 0:k.pathname)+"?"+te;g&&g.push(K)}},w=function(){F({}),i&&g&&g.push(window.location.pathname)},D=function(Z,E){if(b(p!==E?1:Z),h(E),i){var $,k=Object.keys(z||{}).reduce(function(K,H){return W().isMoment(z[H])?K[H]=z[H].format("YYYY-MM-DD"):K[H]=z[H],K},{}),te=(($=window.location)===null||$===void 0?void 0:$.pathname)+"?"+dt.stringify(C()(C()({},k),{},{page:Z,perPage:E}),{arrayFormat:"bracket",skipNull:!0});g&&g.replace(te)}},U=(0,Je.Z)(O,{wait:500}),_=U.run;return{search:x?Gn(x,z):z,page:y?parseInt(y):1,perPage:p?parseInt(p):10,onPageChange:D,onReset:w,set:F,onChange:_}}var Ke=gt;function mt(o,n,e){var r=n.query,i=n.debug,a=i===void 0?!1:i,c=n.paginate,l=c===void 0?!0:c,m=e||{},v=m.params,x=v===void 0?{}:v,f=(0,N.useState)(x||{}),j=L()(f,2),g=j[0],S=j[1],d=Ke((e==null?void 0:e.key)||o,{debug:a,enabled:!!e,defaultSearch:(e==null?void 0:e.defaultSearch)||{},updateLocation:(e==null?void 0:e.updateLocation)||!1,history:e==null?void 0:e.history,definition:e==null?void 0:e.definition}),y=d.search,b=d.onChange,I=d.onReset,s=(0,N.useState)({pageSize:25,page:1}),p=L()(s,2),h=p[0],A=p[1],M=(0,Xe.a)(r,{fetchPolicy:"cache-and-network",variables:C()(C()({perPage:h.pageSize,page:h.page},e?{search:e.definition?oe(e.definition,C()(C()({},y||{}),g)):C()(C()({},y),g)}:{}),n.variables||{})}),P=M.data,F=M.loading,z=M.refetch,O=P?P[o]||{}:{},w;l?w=O[o]||[]:w=P?P[o]:[];var D=l?O.pagination||{}:{},U=function(Z,E){A({page:Z,pageSize:E})},_=D?{current:D.page,pageSize:D.perPage||25,total:D.total,showSizeChanger:!1,onChange:U}:!1;return{records:w,data:P,loading:F,pagination:_,search:y,onSearchChange:b,setExtraParams:S,refetch:z,onReset:I}}var pt=mt,ht=u(61655),xt=u.n(ht),jt=u(26389),St=u.n(jt),yt=/^[A-Za-z][-.+A-Za-z0-9]+:/,Ct=/^[A-Za-z][-.+A-Za-z0-9]+:\/\//,It=/:[^\s]*?[A-Za-z]/,Mt=/^[\w]\/\//;function Nt(o,n,e){return!(n&&!bt(n)||At(o,n)||Zt(o,n)||Lt(e))}function bt(o){var n=o.match(yt)[0].toLowerCase();return n!=="javascript:"&&n!=="vbscript:"}function At(o,n){return!!o&&(!n||!Ct.test(n))&&o.indexOf(".")===-1}function Zt(o,n){return o&&n?!It.test(o):!1}function Lt(o){return!!o&&Mt.test(o)}var Pt=/^(https?:\/\/)?(www\.)?/i,Tt=/^mailto:/,Dt=/^\/\//,wt=function(){function o(n,e,r,i,a,c){Ze()(this,o),this._url=n,this._protocolMailtoMatch=e,this._protocolUrlMatch=r,this._protocolRelativeMatch=i,this.position=a,this.disableUrlStripping=c,this.protocolPrepended=!1}return Le()(o,[{key:"getUrl",value:function(){var e=this._url;return!this._protocolMailtoMatch&&!this._protocolRelativeMatch&&!this._protocolUrlMatch&&!this.protocolPrepended&&(e=this._url="http://"+e,this.protocolPrepended=!0),e}},{key:"getAnchorHref",value:function(){var e=this.getUrl();return e.replace(/&amp;/g,"&")}},{key:"getAnchorText",value:function(){var e=this.getUrl();return this.disableUrlStripping||(this._protocolRelativeMatch&&(e=this.stripProtocolRelativePrefix(e)),this._protocolMailtoMatch&&(e=this.stripMailtoPrefix(e)),e=this.stripUrlPrefix(e),e=this.removeTrailingSlash(e)),e}},{key:"stripUrlPrefix",value:function(e){return e.replace(Pt,"")}},{key:"stripMailtoPrefix",value:function(e){return e.replace(Tt,"")}},{key:"stripProtocolRelativePrefix",value:function(e){return e.replace(Dt,"")}},{key:"removeTrailingSlash",value:function(e){return e.charAt(e.length-1)==="/"&&(e=e.slice(0,-1)),e}}]),o}(),qe=/(?:[A-Za-z][-.+A-Za-z0-9]+:(?![A-Za-z][-.+A-Za-z0-9]+:\/\/)(?!\d+\/?)(?:\/\/)?)/,Et=/(?:www\.)/,we=/[A-Za-z0-9.-]*[A-Za-z0-9-]/,Ft=/(?:(?:[^<>()\\[\]\\.,;:\s@"]+(?:\.[^<>()\\[\]\\.,;:\s@"]+)*)|(?:".+"))@(?:(?:\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(?:(?:[a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/,zt=/\.(?:international|construction|contractors|enterprises|photography|productions|foundation|immobilien|industries|management|properties|technology|christmas|community|directory|education|equipment|institute|marketing|solutions|vacations|bargains|boutique|builders|catering|cleaning|clothing|computer|democrat|diamonds|graphics|holdings|lighting|partners|plumbing|supplies|training|ventures|academy|careers|company|cruises|domains|exposed|flights|florist|gallery|guitars|holiday|kitchen|neustar|okinawa|recipes|rentals|reviews|shiksha|singles|support|systems|agency|berlin|camera|center|coffee|condos|dating|estate|events|expert|futbol|kaufen|luxury|maison|monash|museum|nagoya|photos|repair|report|social|supply|tattoo|tienda|travel|viajes|villas|vision|voting|voyage|actor|build|cards|cheap|codes|dance|email|glass|house|mango|ninja|parts|photo|shoes|solar|today|tokyo|tools|watch|works|aero|arpa|asia|best|bike|blue|buzz|camp|club|cool|coop|farm|fish|gift|guru|info|jobs|kiwi|kred|land|limo|link|menu|mobi|moda|name|pics|pink|post|qpon|rich|ruhr|sexy|tips|vote|voto|wang|wien|wiki|zone|bar|bid|biz|cab|cat|ceo|com|edu|gov|int|kim|mil|net|onl|org|pro|pub|red|tel|uno|wed|xxx|xyz|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)\b/,Ot=/[-A-Za-z0-9+&@#/%=~_()|'$*[\]?!:,.;]*[-A-Za-z0-9+&@#/%=~_()|'$*[\]]/,_t=/^(.)?\/\//,Ut=["(?:","(",qe.source,Ft.source,")","|","(",qe.source,we.source,")","|","(?:","(.?//)?",Et.source,we.source,")","|","(?:","(.?//)?",we.source,zt.source,")",")","(?:"+Ot.source+")?"].join("");function Rt(o){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=new RegExp(Ut,"gi"),r=[],i;(i=e.exec(o))!==null;){var a=i,c=L()(a,5),l=c[0],m=c[1],v=c[2],x=c[3],f=c[4],j=x||f;if(j){var g=j.match(_t)[1]||"";g&&(l=l.slice(1),i.index++)}if(Nt(l,v,j)){var S={start:i.index,end:e.lastIndex};r.push(new wt(l,m,v,j,S,n))}}return r}var Vt=function(o){xt()(e,o);var n=St()(e);function e(){return Ze()(this,e),n.apply(this,arguments)}return Le()(e,[{key:"prepareElements",value:function(i,a){var c=this,l=[],m=0;return i.forEach(function(v){v.position.start!==0&&l.push(N.createElement("span",{},Ce(a.slice(m,v.position.start),!0))),l.push(N.createElement("a",Object.assign({},{href:v.getAnchorHref()},c.props.linkProps),Ce(v.getAnchorText(),!0))),m=v.position.end}),m<a.length&&l.push(N.createElement("span",{},Ce(a.slice(m),!0))),l}},{key:"truncate",value:function(i){var a=this;if(!this.props.maxLength)return i;var c=[],l=0;return i.some(function(m){if(l+=m.props.children.length,l>a.props.maxLength){var v=m.props.children.slice(0,-(l-a.props.maxLength));return c.push(N.cloneElement(m,{},v)),!0}c.push(m)}),c}},{key:"keyElements",value:function(i){return i.map(function(a,c){return N.cloneElement(a,{key:c})})}},{key:"render",value:function(){var i=this.props.text||"",a=this.keyElements(this.truncate(this.prepareElements(Rt(i,this.props.disableUrlStripping),i)));return N.createElement("span",{},a)}}]),e}(N.Component),Yt=Vt,Bt=u(70215),Ee=u.n(Bt),kt=u(59400),ne=u.n(kt),Fe=u(13013),Ht=Object.defineProperty,en=Object.getOwnPropertySymbols,Wt=Object.prototype.hasOwnProperty,Gt=Object.prototype.propertyIsEnumerable,nn=(o,n,e)=>n in o?Ht(o,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[n]=e,$t=(o,n)=>{for(var e in n||(n={}))Wt.call(n,e)&&nn(o,e,n[e]);if(en)for(var e of en(n))Gt.call(n,e)&&nn(o,e,n[e]);return o};const Fi=o=>React.createElement("svg",$t({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 512"},o),React.createElement("path",{d:"M64 360c30.9 0 56 25.1 56 56s-25.1 56-56 56-56-25.1-56-56 25.1-56 56-56zm0-160c30.9 0 56 25.1 56 56s-25.1 56-56 56-56-25.1-56-56 25.1-56 56-56zm56-104c0 30.9-25.1 56-56 56S8 126.9 8 96s25.1-56 56-56 56 25.1 56 56z"}));var Xt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjggNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMi4xIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLi0tPjxwYXRoIGQ9Ik02NCAzNjBjMzAuOSAwIDU2IDI1LjEgNTYgNTZzLTI1LjEgNTYtNTYgNTYtNTYtMjUuMS01Ni01NiAyNS4xLTU2IDU2LTU2em0wLTE2MGMzMC45IDAgNTYgMjUuMSA1NiA1NnMtMjUuMSA1Ni01NiA1Ni01Ni0yNS4xLTU2LTU2IDI1LjEtNTYgNTYtNTZ6bTU2LTEwNGMwIDMwLjktMjUuMSA1Ni01NiA1NlM4IDEyNi45IDggOTZzMjUuMS01NiA1Ni01NiA1NiAyNS4xIDU2IDU2eiIvPjwvc3ZnPg==",ge=u(18872),Qt=["size","className"],tn,rn,an,Jt=(0,ge.iv)(tn||(tn=ne()([`
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background-color: transparent;
  padding: 5px;
  transition: all 0.1s linear;
  &:hover {
    background-color: #f5f5f5;
    cursor: pointer;
  }
`]))),on={default:"35",small:"25"},Kt=function(n){var e=n.size,r=e===void 0?"default":e,i=n.className,a=i===void 0?"":i,c=Ee()(n,Qt),l=typeof r=="number"?"".concat(r,"px"):"".concat(on[r]||on.default,"px");return(0,t.jsx)(Fe.Z,C()(C()({className:"".concat(a," wand-dropdown-menu"),trigger:["click"]},c),{},{children:(0,t.jsx)("span",{className:"".concat(Jt," ").concat((0,ge.iv)(rn||(rn=ne()([`
          height: `,`;
          width: `,`;
          border-radius: `,`;
        `])),l,l,l)," wand-context-menu-handler"),children:(0,t.jsx)("img",{className:`
          `.concat((0,ge.iv)(an||(an=ne()([`
            width: 4px;
          `]))),`
        `),src:Xt})})}))},qt=Kt,er=u(55047),nr=u(20550),V=u(26713),tr=["options","children","value","style","className","undefinedText","onChange"],rr=function(n){var e=n.options,r=n.children,i=n.value,a=n.style,c=a===void 0?{}:a,l=n.className,m=l===void 0?"":l,v=n.undefinedText,x=v===void 0?"Undefined":v,f=n.onChange,j=Ee()(n,tr),g=e.filter(function(y){return y.value!==i}).map(function(y){return{key:y.value,label:y.label}}),S=i?e.find(function(y){return y.value===i}):null,d=function(b){var I=b.key;return f(I)};return(0,t.jsx)(Fe.Z,{menu:{items:g,onClick:d},children:(0,t.jsx)(nr.Z,C()(C()({className:m,style:c},j),{},{children:(0,t.jsxs)(V.Z,{children:[r||(S==null?void 0:S.label)||x,(0,t.jsx)(er.Z,{})]})}))})},ir=rr,ze=u(72683),Ie=(0,N.createContext)(null),Oe={i18n:{debug:!1,preventDefault:!1}},ar=function(n){var e=n.enabled,r=e===void 0?!0:e,i=n.impersonation,a=i===void 0?!1:i,c=n.baseUrl,l=c===void 0?"/ntq_tools":c,m=(0,ve.Z)("ntq-toolbar-config",Oe),v=L()(m,2),x=v[0],f=v[1],j=function(d,y){return f(C()(C()(C()({},Oe),x||{}),{},{i18n:C()(C()({},(x||{}).i18n||{}),{},G()({},d,y))}))},g=C()(C()(C()({},Oe),x||{}),{},{onI18nConfigChange:j,impersonation:a,baseUrl:l});return r?(0,t.jsx)(Ie.Provider,{value:g,children:n.children}):n.children},or=ar,Y={switch:"un701VxxH7QOoCJ8TkOj","ant-switch-checked":"YsUnohMotq4ZUgIPgRRj",tag:"DaKehT1yfgv44VV_APp8",pill:"SbcaIkXpI2wkyMlTr7Yf",enabled:"WdVoI0O0EtsEiuCGsZHx",disabled:"Szti7exhmg68DHdKnyw4",impersonationPopover:"VEprbR4o2o4OWRUNZa0q",popoverContent:"U3NidYOJcestZM0OiHC3",popoverLoading:"egeTzFsBQiI966OAVW4d",impersonationModelName:"f3jtA5j028D4ROm9ZeqU",user:"r7CXMc7AoWkcgIclJORc",padded:"Qdbi2O787U3qivoMbytV",userGroup:"t9pH0AqaMogt5R8nYd9h"},lr=u.p+"static/logo.457bc401.png",me=u(11382),sr=u(71230),ln=u(15746),Me=u(55241),cr={headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}},dr=function(n){var e=(0,N.useContext)(Ie),r=(0,N.useState)(!1),i=L()(r,2),a=i[0],c=i[1],l=(0,N.useState)(!1),m=L()(l,2),v=m[0],x=m[1],f=(0,N.useState)(),j=L()(f,2),g=j[0],S=j[1],d=function(h){h?(c(!0),g?c(!0):(x(!0),fetch("".concat(e.baseUrl,"/impersonation/users.json"),C()({},cr)).then(function(A){return A.json()}).then(function(A){var M=A.data;S(M),x(!1)}).catch(function(){x(!1)}))):c(!1)},y=function(h,A){window.location.href="".concat(e.baseUrl,"/impersonation/").concat(h,"/").concat(A.id,"/sign_in")},b=Object.keys(g||{}).filter(function(p){var h;return!(e!=null&&(h=e.impersonation)!==null&&h!==void 0&&h.userTypes)||e.impersonation.userTypes.includes(p)}),I=b.length>0,s=(0,t.jsxs)(t.Fragment,{children:[v&&(0,t.jsx)("div",{className:Y.popoverLoading,children:(0,t.jsx)(me.Z,{})}),!v&&g&&(0,t.jsx)("div",{className:Y.popoverContent,children:b.map(function(p){return(0,t.jsxs)(sr.Z,{className:Y.userGroup,children:[I&&(0,t.jsx)(ln.Z,{className:Y.impersonationModelName,span:24,children:p}),g[p].map(function(h){return(0,t.jsx)(ln.Z,{className:"".concat(Y.user," ").concat(I?Y.padded:""),span:24,onClick:function(){return y(p,h)},children:h.label},h.id)})]},p)})})]});return(0,t.jsx)(Me.Z,{trigger:["click"],open:a,content:s,onOpenChange:d,placement:"bottom",arrowPointAtCenter:!0,children:(0,t.jsx)("span",{className:Y.tag,children:"Connexion utilisateur"})})},ur=dr,sn,cn,dn,un,fr=ze.Z.div(sn||(sn=ne()([`
  position: fixed;
  top: 0;
  background-color: #000;
  display: flex;
  height: 50px;
  width: 100%;
  color: white;
  padding: 0 16px;
  z-index: 100000000;
`]))),vr=ze.Z.div(cn||(cn=ne()([`
  display: flex;
  margin-left: auto;
  align-items: center;
`]))),gr=ze.Z.div(dn||(dn=ne()([`
  display: flex;
  align-items: center;
`]))),fn=(0,ge.iv)(un||(un=ne()([`
  .ant-layout-header,
  .ant-layout-sider {
    margin-top: 50px;
  }
`]))),mr="/ntq_tools",pr=function(n){var e,r,i,a=n.enabled,c=a===void 0?!0:a,l=(0,N.useContext)(Ie);if(!c)return null;var m=function(){fetch("".concat(mr,"/translation/refresh"))};(0,N.useEffect)(function(){if(c)return document.body.classList.add(fn),document.body.classList.add("ntq-toolbar-enabled"),function(){return document.body.classList.remove(fn)}});var v=function(j){return function(){return l.onI18nConfigChange(j,l!=null&&l.i18n?!l.i18n[j]:!0)}},x=[{label:(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"".concat(Y.pill," ").concat(l!=null&&(e=l.i18n)!==null&&e!==void 0&&e.debug?Y.enabled:Y.disabled)}),"Live"]}),key:"debug",onClick:function(){var j;return v("debug")(!(l!=null&&(j=l.i18n)!==null&&j!==void 0&&j.debug))}},{label:(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"".concat(Y.pill," ").concat(l!=null&&(r=l.i18n)!==null&&r!==void 0&&r.preventDefault?Y.enabled:Y.disabled)}),"Prevent default"]}),key:"preventDefault",onClick:function(){var j;return v("preventDefault")(!(l!=null&&(j=l.i18n)!==null&&j!==void 0&&j.preventDefault))}},{label:(0,t.jsx)("span",{children:"Refresh translations"}),key:"refresh",onClick:m}];return(0,t.jsxs)(fr,{children:[(0,t.jsx)(gr,{children:(0,t.jsx)("img",{src:lr,width:"30"})}),(0,t.jsx)(vr,{children:(0,t.jsxs)(V.Z,{children:[!!(l!=null&&l.impersonation)&&(0,t.jsx)(ur,{}),(0,t.jsx)(Fe.Z,{menu:{items:x},trigger:["hover"],children:(0,t.jsxs)("span",{className:"".concat(Y.tag),onClick:v("debug"),children:[(0,t.jsx)("span",{className:"".concat(Y.pill," ").concat(l!=null&&(i=l.i18n)!==null&&i!==void 0&&i.debug?Y.enabled:Y.disabled)}),"Traduction live"]})})]})})]})},hr=pr,xr=u(84847),_e=u(56264),Ue=u(69677),X=u(71577),jr=["count"],vn,gn="/ntq_tools",mn={headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}},Sr=(0,ge.iv)(vn||(vn=ne()([`
  font-style: italic;
  color: #4527a0;
  text-decoration-line: underline;
  text-decoration-style: dashed;
  &:hover {
    color: #4527a0;
  }
`]))),yr=function(n){var e=n.translationKey,r=n.preventDefault,i=(0,N.useState)(!1),a=L()(i,2),c=a[0],l=a[1],m=(0,N.useState)(n.value),v=L()(m,2),x=v[0],f=v[1],j=(0,N.useState)(!1),g=L()(j,2),S=g[0],d=g[1],y=function(){fetch("".concat(gn,"/translation"),C()(C()({},mn),{},{method:"PUT",body:JSON.stringify({key:e,value:x})})).then(function(h){return h.json()}).then(function(h){var A=h.data;A&&l(!1)})},b=c?(0,t.jsx)("div",{style:{minWidth:150,minHeight:75},children:S?(0,t.jsx)("div",{style:{height:75,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)(me.Z,{})}):(0,t.jsxs)("div",{children:[(0,t.jsx)(Ue.Z.TextArea,{value:x,onChange:function(h){var A=h.target.value;return f(A)},autoSize:!0}),(0,t.jsx)("div",{style:{marginTop:10,textAlign:"right"},children:(0,t.jsx)(X.Z,{onClick:y,size:"small",type:"primary",children:"Modifier"})})]})}):null,I=function(h){l(h),d(!0),fetch("".concat(gn,"/translation?key=").concat(e),mn).then(function(A){return A.json()}).then(function(A){var M=A.data;f(M),d(!1)})},s=function(h){r&&h.stopPropagation()};return(0,t.jsx)(Me.Z,{title:S?null:e,content:b,open:c,trigger:"click",onOpenChange:I,children:(0,t.jsx)("a",{onClick:s,className:Sr,children:n.value||e})})},Cr=function(n){var e=n||{},r=e.debug,i=r===void 0?!1:r,a=(0,N.useContext)(Ie),c=(0,xr.Z)(),l=function(f){return c.formatMessage({id:f})!==f},m=function(f){var j,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=g.count,d=Ee()(g,jr),y=f;if(g&&g.count!==void 0){var b="zero";g.count>1?b="other":g.count===1&&(b="one"),y="".concat(f,".").concat(b)}y=(0,_e.decamelize)(y);var I=c.formatMessage({id:y},g);if(i||a!=null&&(j=a.i18n)!==null&&j!==void 0&&j.debug){var s;return(0,t.jsx)(yr,{translationKey:y,value:I,preventDefault:a==null||(s=a.i18n)===null||s===void 0?void 0:s.preventDefault})}return I},v=function(f,j){return m("activerecord.attributes.".concat((0,_e.decamelize)(f),".").concat((0,_e.decamelize)(j)))};return{t:m,translate:m,tAttribute:v,isTranslated:l}},Ir=Cr,pn={container:"ux2_qjNZthMeMslgWP2R",item:"k5GBX5RFIiUIq1fasqpb"},Mr=function(n){var e=n.header,r=n.values,i=n.description;return(0,t.jsxs)(V.Z,{align:"start",className:"".concat(pn.item," wand-csv-notice-item"),children:[(0,t.jsx)("code",{children:e}),(0,t.jsxs)("div",{children:[i,r&&r.length>0&&(0,t.jsx)("ul",{children:r.map(function(a){var c=a.value,l=a.description;return(0,t.jsx)("li",{children:(0,t.jsxs)(V.Z,{children:[(0,t.jsx)("strong",{children:c}),l]})},c)})})]})]},e)},Nr=function(n){var e=n.schema,r=e===void 0?[]:e;return(0,t.jsx)("div",{className:"".concat(pn.container," wand-csv-notice-container"),children:(0,t.jsx)(V.Z,{direction:"vertical",style:{width:"100%"},children:r.map(function(i){return(0,t.jsx)(Mr,C()({},i),i.header)})})})},hn=Nr,br=u(23680),Ar=u(69309),Zr=u(2482),J=u(2587),Re=u(16757),Lr=u(85402),Pr=u(79718),Tr=function(n){var e=n.configuration,r=n.importType,i=n.defaultValue,a=i===void 0?{}:i,c=n.defaultImportFile,l=c===void 0?{}:c,m=(0,N.useState)(!1),v=L()(m,2),x=v[0],f=v[1],j=(0,N.useState)(a),g=L()(j,2),S=g[0],d=g[1],y=(0,N.useState)(l),b=L()(y,2),I=b[0],s=b[1],p=function(w){var D;return w?(D=e.client)===null||D===void 0?void 0:D.get("/".concat(e.rootUrl,"/imports/").concat(w)):new Promise(function(U,_){return U({})})},h=(0,Pr.Z)(p,{pollingInterval:3e3,pollingWhenHidden:!0,manual:!0,onSuccess:function(w){w.id&&s(w)}}),A=h.run,M=h.cancel,P=function(w){var D=new FormData;return D.append("file",w,w.name),e.client&&e.client.post("/".concat(e.rootUrl,"/imports/").concat(r),D,{headers:{"Content-Type":"multipart/form-data"}}).then(function(U){return U.id&&(A(U.id),s(U)),!1}),!1};(0,N.useEffect)(function(){e.client&&e.client.get("/".concat(e.rootUrl,"/importers/").concat(r)).then(function(O){d(O)})},[r]),(0,N.useEffect)(function(){["checked","imported"].includes(I==null?void 0:I.state)&&M()},[I==null?void 0:I.state]);var F=function(){s(void 0),f(!1),M()},z=function(){e.client&&(M(),s(C()(C()({},I),{},{state:"importing"})),e.client.put("/".concat(e.rootUrl,"/imports/").concat(I.id),{to_state:"import"}).then(function(w){w.id&&(A(w.id),s(w))}))};return{loading:x,importer:S,importFile:I,onImport:P,onProcessImport:z,onReset:F}},Dr=Tr,Ne={descriptions:"MHJ6za7mLjIFQZVdbgb8",label:"JNi1IaAyOABvuOXyeW0z",required:"k7g_8q77vuMd09rEHDBX",checkDescriptions:"cZDwyf6DcWzNZBFNCKwl",actions:"_bu6DPtaXGUWtHz6I2fX",sampleFileLink:"Df9K6V6SyUolWL794UtS"},Ve=u(84273),wr=br.Z.Dragger,pe={rootUrl:"excelsior"},Er=function(n){return n?n.state==="pending"||n.state==="buffering"?{status:"progress",icon:(0,t.jsx)(Ve.Z,{})}:{status:"finish"}:{status:"progress"}},Fr=function(n){return n?n.state==="checking"?{status:"progress",icon:(0,t.jsx)(Ve.Z,{})}:["buffered","checked","importing","imported"].includes(n.state)?{status:"finish"}:{status:"wait"}:{status:"wait"}},zr=function(n){return n?n.state==="importing"?{status:"progress",icon:(0,t.jsx)(Ve.Z,{})}:n.state==="imported"?{status:"finish"}:{status:"wait"}:{status:"wait"}},xn=function(n){var e,r,i,a,c=n.importType,l=n.allowImportOnError,m=l===void 0?!1:l,v=n.debug,x=v===void 0?!1:v,f=n.onCancel,j=n.onCompleted,g=Dr({configuration:pe,importType:c,defaultImporter:n.importer||{},defaultImportFile:n.importFile||{},onCompleted:j}),S=g.importer,d=g.importFile,y=g.onReset,b=g.onImport,I=g.onProcessImport,s=n.translate||pe.translate,p=[C()({title:s?s("excelsior_modal.upload_file"):"Upload file"},Er(d)),C()({title:s?s("excelsior_modal.verify_file"):"Verify file"},Fr(d)),C()({title:s?s("excelsior_modal.import_file"):"Import file"},zr(d))],h=(0,t.jsx)(Ar.Z,{style:{paddingRight:30,marginBottom:16},items:p});if(!d||["buffering","buffered","pending"].includes(d.state))return(0,t.jsxs)(t.Fragment,{children:[h,(0,t.jsx)(me.Z,{delay:200,spinning:["buffering","pending"].includes(d==null?void 0:d.state),tip:s?s("excelsior_modal.uploading_file"):"Uploading...",children:(0,t.jsxs)(V.Z,{direction:"vertical",style:{width:"100%"},children:[(0,t.jsx)(wr,{name:"file",showUploadList:!1,multiple:!1,beforeUpload:b,children:(0,t.jsx)("p",{className:"ant-upload-hint",children:s?s("excelsior_modal.upload_format"):"Upload a .xlsx or a .csv file"})}),S&&S.notice&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Zr.Z.Title,{style:{marginBottom:0},level:5,children:(0,t.jsxs)(V.Z,{children:[s?s("excelsior_modal.expected_columns"):"Expected cols",S.sample_file&&(0,t.jsx)("a",{className:Ne.sampleFileLink,href:S.sample_file,target:"_blank",children:s?s("excelsior_modal.download_sample_file"):"Download sample file"})]})}),(0,t.jsx)(hn,{schema:S.notice})]})]})})]});if(["checking","checked"].includes(d.state))return(0,t.jsxs)(t.Fragment,{children:[h,(0,t.jsxs)(me.Z,{delay:200,spinning:["checking"].includes(d==null?void 0:d.state),tip:s?s("excelsior_modal.checking_file"):"Checking...",children:[(0,t.jsxs)(J.Z,{bordered:!0,className:Ne.checkDescriptions,size:"small",colon:!1,layout:"vertical",column:4,children:[(0,t.jsx)(J.Z.Item,{span:4,label:s?s("excelsior_modal.number_of_error_lines"):"Error lines count",children:d.state==="checking"?"":d.errors_count.toLocaleString()}),(0,t.jsx)(J.Z.Item,{span:4,label:s?s("excelsior_modal.number_of_success_lines"):"Correct lines count",children:d.state==="checking"?"":d.success_count.toLocaleString()}),(0,t.jsx)(J.Z.Item,{span:2,label:s?s("excelsior_modal.number_of_creation"):"Create",children:d.state==="checking"?"":d.create_count.toLocaleString()}),(0,t.jsx)(J.Z.Item,{span:2,label:s?s("excelsior_modal.number_of_update"):"Update",children:d.state==="checking"?"":d.update_count.toLocaleString()})]}),(0,t.jsx)("div",{className:Ne.actions,children:(0,t.jsxs)(V.Z,{children:[(0,t.jsx)(X.Z,{onClick:f,type:"text",children:s?s("excelsior_modal.cancel"):"Cancel"}),(0,t.jsx)(X.Z,{onClick:I,type:"primary",children:s?s("excelsior_modal.import"):"Import"})]})})]})]});var A=(0,t.jsxs)(J.Z,{bordered:!0,className:Ne.checkDescriptions,size:"small",colon:!1,layout:"vertical",column:4,children:[(0,t.jsx)(J.Z.Item,{span:4,label:s?s("excelsior_modal.number_of_error_lines"):"Error lines count",children:((e=d.errors_count)===null||e===void 0?void 0:e.toLocaleString())||"0"}),(0,t.jsx)(J.Z.Item,{span:4,label:s?s("excelsior_modal.number_of_success_lines"):"Correct lines count",children:((r=d.success_count)===null||r===void 0?void 0:r.toLocaleString())||"0"}),(0,t.jsx)(J.Z.Item,{span:2,label:s?s("excelsior_modal.number_of_creation"):"Create",children:((i=d.create_count)===null||i===void 0?void 0:i.toLocaleString())||"0"}),(0,t.jsx)(J.Z.Item,{span:2,label:s?s("excelsior_modal.number_of_update"):"Update",children:((a=d.update_count)===null||a===void 0?void 0:a.toLocaleString())||"0"})]});return["importing","imported"].includes(d.state)?(0,t.jsxs)(t.Fragment,{children:[h,(0,t.jsxs)(me.Z,{delay:200,spinning:["importing"].includes(d==null?void 0:d.state),tip:s?s("excelsior_modal.importing_file"):"Importing...",children:[d.state=="imported"&&(0,t.jsx)(Re.ZP,{status:"success",title:s?s("excelsior_modal.file_successfully_imported"):"File successfully importer",extra:[(0,t.jsx)(X.Z,{type:"text",onClick:f,children:s?s("excelsior_modal.finish_and_close"):"Finish and close"},"reset"),(0,t.jsx)(X.Z,{type:"primary",onClick:y,children:s?s("excelsior_modal.new_import"):"New import"},"close")]}),A]})]}):d.state==="error"?d.error_message=="header_not_found"?(0,t.jsx)(Re.ZP,{status:"error",title:s?s("excelsior_modal.missing_header"):"Error",subTitle:(0,t.jsxs)("div",{children:[s?s("excelsior_modal.following_headers_are_missing"):"Error",":\xA0",(d.missing_headers||[]).join(", ")]}),extra:[(0,t.jsx)(X.Z,{type:"text",onClick:f,children:s?s("excelsior_modal.finish_and_close"):"Finish and close"},"reset"),(0,t.jsx)(X.Z,{type:"primary",onClick:y,children:s?s("excelsior_modal.new_import"):"New import"},"close")]}):(0,t.jsxs)(t.Fragment,{children:[h,(0,t.jsx)(Re.ZP,{status:"error",title:s?s("excelsior_modal.error_on_file"):"Error",subTitle:d.error_file?(0,t.jsx)("a",{href:d.error_file,target:"_blank",children:s?s("excelsior_modal.click_here_for_download_error_file"):"Error"}):null,extra:[(0,t.jsx)(X.Z,{type:"text",onClick:f,children:s?s("excelsior_modal.finish_and_close"):"Finish and close"},"reset"),(0,t.jsx)(X.Z,{type:"primary",onClick:y,children:s?s("excelsior_modal.new_import"):"New import"},"close")]})]}):(0,t.jsx)("div",{children:h})},Or=function(n){var e=n.open,r=n.translate,i=n.onCancel,a=n.title;return e?(0,t.jsx)(Lr.Z,{open:!0,width:1e3,footer:!1,title:a,onCancel:i,children:(0,t.jsx)(xn,C()({translate:r},n))}):null},_r=function(n){return pe=C()(C()({},pe),n),pe},Ur=Or,jn=Ur;jn.configure=_r;var Rr=xn,Vr=jn,Yr=u(12576),be=u(50319),Br=u(13448),Sn,kr=function(n){Br.Z[n.type||"open"]({message:n.message,description:null,placement:"bottomRight",duration:2})},Ye=function(n){var e=n.data;if(e){var r=Object.keys(e);r.forEach(function(i){var a;(((a=e[i])===null||a===void 0?void 0:a.flashMessages)||[]).forEach(function(c){kr(JSON.parse(c))})})}return n},Ae=function(n,e,r,i){var a,c,l=r?(a=r.definitions.find(function(v){return v.kind==="FragmentDefinition"&&v.name.kind==="Name"}))===null||a===void 0||(c=a.name)===null||c===void 0?void 0:c.value:void 0,m=(i==null?void 0:i.inputName)||"".concat((0,ee.upperFirst)(e)).concat((0,ee.upperFirst)(n),"Input");return(0,Yr.Ps)(Sn||(Sn=ne()([`
    mutation `,"($input: ",`!) {
      `,`(input: $input) {
        `,` {
          ...`,`
        }
        `,`
      }
    }
    `,`
  `])),i.mutationName,m,i.mutationName,n,l,i.flashMessages?"flashMessages":"",r)};function Hr(o,n){var e=n.flashMessages,r=e===void 0?!1:e,i=n.definition,a=n.queries,c=a===void 0?{}:a,l=c.fetch,m=n.defaultMutationNames,v=m===void 0?{}:m,x=n.defaultInputNames,f=x===void 0?{}:x,j=n.mutations,g=j===void 0?{}:j,S=n.fragment,d=g.create,y=v.create||"create".concat((0,ee.upperFirst)(o));if(!d&&S){var b;f&&(typeof f=="function"?b=f("create",o):f.create&&(b=f.create)),d=Ae(o,"create",S,{inputName:b,flashMessages:r,mutationName:y})}var I=g.update,s=v.update||"update".concat((0,ee.upperFirst)(o));if(!I&&S){var p;f&&(typeof f=="function"?p=f("update",o):f.update&&(p=f.update)),I=Ae(o,"update",S,{inputName:p,flashMessages:r,mutationName:s})}var h=g.delete,A=v.delete||"delete".concat((0,ee.upperFirst)(o));if(!h&&S){var M;f&&(typeof f=="function"?M=f("delete",o):f.delete&&(M=f.delete)),h=Ae(o,"delete",S,{inputName:M,flashMessages:r,mutationName:A})}var P=g.import,F=v.import||"import".concat((0,ee.upperFirst)(o),"s");if(!P&&S){var z;f&&(typeof f=="function"?z=f("import",o):f.delete&&(z=f.import)),P=Ae(o,"import",S,{inputName:z,flashMessages:r,mutationName:F})}return function(O,w){var D=w||{},U=D.mutationOptions,_=U===void 0?{}:U,B=D.fetch,Z=B===void 0?!1:B,E=D.singleton,$=E===void 0?!1:E,k=D.queries,te=i&&(Object.values(i).includes("File")||Object.values(i).includes("Files")),K=function(re){return console.log(re)},H=l||k!=null&&k.fetch?(0,Xe.a)((k==null?void 0:k.fetch)||l,C()({variables:{id:O},skip:!Z||!O&&!$||!l,fetchPolicy:"cache-and-network",onError:K},Qe()(Z)==="object"?Z:{})):{},le=H.data,ce=le===void 0?{}:le,de=H.loading,xe=de===void 0?!1:de,ie=H.refetch,je=ie===void 0?void 0:ie,R=ce[o]||{},Q=(0,N.useState)(void 0),q=L()(Q,2),Ci=q[0],Ln=q[1],Ii=d?(0,be.D)(d,C()(C()({},_||{}),{},{context:{hasUpload:te}})):[],Pn=L()(Ii,2),Tn=Pn[0],Mi=Pn[1].loading,Ni=I?(0,be.D)(I,C()(C()({},_||{}),{},{context:{hasUpload:te}})):[],Dn=L()(Ni,2),wn=Dn[0],bi=Dn[1].loading,Ai=h?(0,be.D)(h,C()({},_||{})):[],Zi=L()(Ai,1),En=Zi[0],Li=P?(0,be.D)(P,C()({},_||{})):[],Pi=L()(Li,1),Fn=Pi[0],Ti=function(re,T){var Se=i||T!=null&&T.definition?oe((T==null?void 0:T.definition)||i,re):re;n.debug&&console.log("attributes",Se);var ae=function(ke){var zn=ke.recordErrors;r&&Ye(ke),Ln(zn||void 0),T!=null&&T.onCompleted&&T.onCompleted(ke)};O||T!=null&&T.id||$?wn&&wn({variables:{input:C()({id:O||(T==null?void 0:T.id),attributes:Se},(T==null?void 0:T.variables)||{})},onCompleted:ae}):Tn&&Tn({variables:{input:C()({attributes:Se},(T==null?void 0:T.variables)||{})},onCompleted:ae})},Di=function(re,T){n.debug&&console.log("DELETE",re),En&&En({variables:{input:{id:re||T.id}},onCompleted:function(ae){r&&Ye(ae),T!=null&&T.onCompleted&&T.onCompleted(ae)}})},wi=function(re,T){Fn&&Fn({context:{hasUpload:!0},variables:{input:{file:re}},onCompleted:function(ae){r&&Ye(ae),T!=null&&T.onCompleted&&T.onCompleted(ae)}})};return{onSave:Ti,onDelete:Di,onImport:wi,refetch:je,record:R,loading:xe,submitting:Mi||bi,errors:Ci}}}var Wr=Hr,yn=u(97847),he=u(32808),Gr=u(63922),Cn=u(81757),$r=Object.defineProperty,In=Object.getOwnPropertySymbols,Xr=Object.prototype.hasOwnProperty,Qr=Object.prototype.propertyIsEnumerable,Mn=(o,n,e)=>n in o?$r(o,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[n]=e,Jr=(o,n)=>{for(var e in n||(n={}))Xr.call(n,e)&&Mn(o,e,n[e]);if(In)for(var e of In(n))Qr.call(n,e)&&Mn(o,e,n[e]);return o};const zi=o=>React.createElement("svg",Jr({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},o),React.createElement("path",{d:"M11.499 6.5a5 5 0 1 0-10 0 5 5 0 0 0 10 0Zm-.966 5.096A6.498 6.498 0 0 1 0 6.5C0 2.91 2.91 0 6.5 0a6.498 6.498 0 0 1 5.096 10.533l4.184 4.184a.75.75 0 0 1-1.06 1.06l-4.187-4.181Z",fill:"#343434"}));var Kr="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTExLjQ5OSA2LjVhNSA1IDAgMSAwLTEwIDAgNSA1IDAgMCAwIDEwIDBabS0uOTY2IDUuMDk2QTYuNDk4IDYuNDk4IDAgMCAxIDAgNi41QzAgMi45MSAyLjkxIDAgNi41IDBhNi40OTggNi40OTggMCAwIDEgNS4wOTYgMTAuNTMzbDQuMTg0IDQuMTg0YS43NS43NSAwIDAgMS0xLjA2IDEuMDZsLTQuMTg3LTQuMTgxWiIgZmlsbD0iIzM0MzQzNCIvPjwvc3ZnPg==",Nn=u(23638),qr=function(n){var e=n.field,r=n.value,i=n.onChange,a=e.input||{},c=a.inputProps,l=c===void 0?{}:c,m=(0,N.useState)((0,Te.isMoment)(r)?r:W()(r).isValid()?W()(r):void 0),v=L()(m,2),x=v[0],f=v[1];(0,N.useEffect)(function(){f((0,Te.isMoment)(r)?r:W()(r).isValid()?W()(r):void 0)},[r]);var j=function(S){f(S),i(G()({},e.name,S))};return(0,t.jsx)(Nn.Z,C()(C()({},l),{},{placeholder:e.label,className:"wand__inline-filter__datepicker ".concat(x?"wand__inline-filter__datepicker--filled":""),value:x,onChange:j}))},ei=qr,ni=function(n){var e=n.field,r=n.value,i=n.onChange,a=e.input||{},c=a.inputProps,l=c===void 0?{}:c,m=l.placeholder,v=l.className,x=(0,N.useState)(!1),f=L()(x,2),j=f[0],g=f[1],S=(0,N.useState)(r),d=L()(S,2),y=d[0],b=d[1];(0,N.useEffect)(function(){r||b(void 0)},[r]);var I=function(h){b(h.target.value),i(G()({},e.name,h.target.value))},s=["wand__inline-filter__string-input",v,e.className,j||y&&y.length>0?"wand__inline-filter__string-input--is-focused":void 0].filter(Boolean);return(0,t.jsx)(Ue.Z,{className:s.join(" "),onFocus:function(){return g(!0)},onBlur:function(){return g(!1)},style:e.style||{},value:y,onChange:I,addonBefore:e.icon,placeholder:m})},ti=ni,ri=function(n){var e=n.field,r=n.value,i=n.onChange,a=e.input||{},c=a.inputProps,l=c===void 0?{}:c,m=l.inverted,v=m===void 0?!1:m,x=l.className,f=l.text,j=(0,N.useState)(!1),g=L()(j,2),S=g[0],d=g[1];(0,N.useEffect)(function(){d(r)},[r]);var y=function(I){d(!S),i(G()({},e.name,!S))};return(0,t.jsx)("div",{onClick:y,className:"wand__inline-filter__filter wand__inline-filter__boolean ".concat(S?"wand__inline-filter__boolean--checked":""),children:(0,t.jsxs)(V.Z,{children:[(0,t.jsx)(he.Z,{checked:S}),e.label]})})},ii=ri,ai=Nn.Z.RangePicker,oi=function(n){var e=n.field,r=n.value,i=n.onChange,a=e.input||{},c=a.inputProps,l=c===void 0?{}:c,m=L()(e.name,2),v=m[0],x=m[1],f=(0,N.useState)(r||{}),j=L()(f,2),g=j[0],S=j[1];(0,N.useEffect)(function(){S(r||{})},[r]);var d=function(h){var A,M=(A={},G()(A,v,h?h[0]:void 0),G()(A,x,h?h[1]:void 0),A);i(M),S(M)},y=g[v];y&&!W().isMoment(y)&&(y=W()(y).startOf("day"));var b=g[x];b&&!W().isMoment(b)&&(b=W()(b).startOf("day"));var I=[y,b],s=I.filter(Boolean).length>0;return(0,t.jsx)(ai,C()(C()({},l||{}),{},{className:"wand__inline-filter__datepicker ".concat(s?"wand__inline-filter__datepicker--filled":""),value:I,onChange:d}))},li=oi,si=function(){return(0,t.jsx)(V.Z,{children:"Render date"})},Oi=function(n){var e=n.field,r=n.value;return _jsx(Space,{children:e.label})},_i={date:si},ci={select:bn,date:ei,string:ti,boolean:ii,daterange:li},di=function(n,e){return e.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").indexOf(n.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))>=0},ui=function(n){return function(e,r){return n.includes(e.value)&&!n.includes(r.value)?1:!n.includes(e.value)&&n.includes(r.value)?-1:0}},fi=function(n){var e,r=n.field,i=n.value,a=n.onChange,c=(r==null?void 0:r.input)||{},l=c.inputProps,m=l===void 0?{}:l,v=m.multiple,x=v===void 0?!1:v,f=m.allowSearch,j=f===void 0?!0:f,g=m.searchPlaceholder,S=g===void 0?void 0:g,d=m.selectAllText,y=d===void 0?"All":d,b=m.options,I=b===void 0?[]:b,s=(0,Cn.Z)(I.map(function(R){return R.value}),i?Array.isArray(i||[])?i:[i]:[]),p=s.selected,h=s.setSelected,A=s.allSelected,M=s.partiallySelected,P=s.unSelectAll,F=s.selectAll,z=s.toggle,O=(0,N.useState)(void 0),w=L()(O,2),D=w[0],U=w[1],_=(0,N.useState)(!1),B=L()(_,2),Z=B[0],E=B[1],$=(0,N.useState)(!1),k=L()($,2),te=k[0],K=k[1],H=(0,N.useRef)();(0,N.useEffect)(function(){h(i?Array.isArray(i||[])?i:[i]:[])},[i,x]),(0,N.useEffect)(function(){H&&H.current&&setTimeout(function(){H.current.select()},0)},[Z]);var le=function(Q){var q;return U((q=Q.target)===null||q===void 0?void 0:q.value)},ce=function(Q){if(x)if(p.includes(Q)){var q=fe()(p);q.splice(q.indexOf(Q),1),a(G()({},r.name,q))}else a(G()({},r.name,[].concat(fe()(p),[Q])));else a(G()({},r.name,p.includes(Q)?void 0:Q))},de=function(){a(G()({},r.name,I.map(function(Q){return Q.value}))),F()},xe=function(){a(G()({},r.name,void 0)),P()},ie=I.filter(function(R){return!D||di(D,R)||p.includes(R.value)});D&&D.length>0&&(ie=ie.sort(ui(p)));var je=(0,t.jsxs)(t.Fragment,{children:[j&&(0,t.jsx)(Ue.Z,{ref:H,value:D,onChange:le,onFocus:function(){return K(!0)},onBlur:function(){return K(!1)},placeholder:te?void 0:S,addonBefore:(0,t.jsx)("div",{className:"wand__inline-filter__search-input__icon-wrapper",children:(0,t.jsx)(yn.Z,{src:Kr,height:15})}),className:"wand__inline-filter__search-input ".concat(te||D?"wand__inline-filter__search-input--is-focused":"")}),(0,t.jsxs)("div",{className:"wand__inline-filter__options-container",children:[x&&!D&&(0,t.jsx)("div",{className:"wand__inline-filter__option ".concat(A?"wand__inline-filter__option--is-selected":""),onClick:A?xe:de,children:(0,t.jsxs)(V.Z,{children:[(0,t.jsx)(he.Z,{indeterminate:M,checked:A}),y]})},"select-all"),ie.map(function(R){return(0,t.jsx)("div",{className:"wand__inline-filter__option ".concat(p!=null&&p.includes(R.value)?"wand__inline-filter__option--is-selected":""),onClick:function(){return ce(R.value)},children:(0,t.jsxs)(V.Z,{children:[x&&(0,t.jsx)(he.Z,{checked:p==null?void 0:p.includes(R.value)}),R.children||R.label]})},R.value)})]})]});return(0,t.jsx)(Me.Z,{showArrow:!1,open:Z,content:je,placement:"bottom",onOpenChange:E,trigger:"click",overlayClassName:"wand__inline-filter__popover",children:(0,t.jsx)("div",{className:"wand__inline-filter__filter ".concat(p.length>0?"wand__inline-filter__filter--filled":""," ").concat(p.length>0||Z?"wand__inline-filter__filter--focused":""),children:(0,t.jsxs)(V.Z,{children:[(0,t.jsxs)("span",{className:"wand__inline-filter__label",children:[r.label,p.length>0&&!x&&(0,t.jsxs)("span",{children:["\xA0:\xA0",(e=I.find(function(R){return R.value===p[0]}))===null||e===void 0?void 0:e.label]})]}),p.length>0&&x?(0,t.jsx)(Gr.Z,{className:"wand__inline-filter__badge",count:p.length}):r.icon]})})})},bn=fi,vi=Object.defineProperty,An=Object.getOwnPropertySymbols,gi=Object.prototype.hasOwnProperty,mi=Object.prototype.propertyIsEnumerable,Zn=(o,n,e)=>n in o?vi(o,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[n]=e,pi=(o,n)=>{for(var e in n||(n={}))gi.call(n,e)&&Zn(o,e,n[e]);if(An)for(var e of An(n))mi.call(n,e)&&Zn(o,e,n[e]);return o};const Ui=o=>React.createElement("svg",pi({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},o),React.createElement("path",{d:"M0 71.5C0 49.7 17.7 32 39.5 32h433c21.8 0 39.5 17.7 39.5 39.5 0 9.2-3.2 18.1-9.1 25.2L320 317.8v128.3c0 18.7-15.2 33.9-33.9 33.9-7.5 0-14.8-2.5-20.8-7.1l-61-47.4c-7.8-6.1-12.4-15.4-12.4-25.3v-82.4L9.1 96.7C3.2 89.6 0 80.7 0 71.5zM39.5 64c-4.2 0-7.5 3.4-7.5 7.5 0 1.8.6 3.4 1.7 4.8l186.6 225.5c2.4 2.9 3.7 6.5 3.7 10.2v88.2l61 47.4c.3.3.7.4 1.1.4 1 0 1.9-.8 1.9-1.9V312c0-3.7 1.3-7.3 3.7-10.2L478.3 76.3c1.1-1.3 1.7-3 1.7-4.8 0-4.2-3.4-7.5-7.5-7.5h-433z"}));var hi="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuNC4wIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIzIEZvbnRpY29ucywgSW5jLi0tPjxwYXRoIGQ9Ik0wIDcxLjVDMCA0OS43IDE3LjcgMzIgMzkuNSAzMmg0MzNjMjEuOCAwIDM5LjUgMTcuNyAzOS41IDM5LjUgMCA5LjItMy4yIDE4LjEtOS4xIDI1LjJMMzIwIDMxNy44djEyOC4zYzAgMTguNy0xNS4yIDMzLjktMzMuOSAzMy45LTcuNSAwLTE0LjgtMi41LTIwLjgtNy4xbC02MS00Ny40Yy03LjgtNi4xLTEyLjQtMTUuNC0xMi40LTI1LjN2LTgyLjRMOS4xIDk2LjdDMy4yIDg5LjYgMCA4MC43IDAgNzEuNXpNMzkuNSA2NGMtNC4yIDAtNy41IDMuNC03LjUgNy41IDAgMS44LjYgMy40IDEuNyA0LjhsMTg2LjYgMjI1LjVjMi40IDIuOSAzLjcgNi41IDMuNyAxMC4ydjg4LjJsNjEgNDcuNGMuMy4zLjcuNCAxLjEuNCAxIDAgMS45LS44IDEuOS0xLjlWMzEyYzAtMy43IDEuMy03LjMgMy43LTEwLjJMNDc4LjMgNzYuM2MxLjEtMS4zIDEuNy0zIDEuNy00LjggMC00LjItMy40LTcuNS03LjUtNy41aC00MzN6Ii8+PC9zdmc+",xi=function(n){var e=n.schema,r=n.icon,i=r===void 0?(0,t.jsx)(yn.Z,{src:hi,height:15}):r,a=n.text,c=a===void 0?"Filters":a,l=n.selectAllText,m=l===void 0?"All filters":l,v=n.cancelText,x=v===void 0?"Cancel":v,f=n.okText,j=f===void 0?"Valider":f,g=n.value,S=n.onChange,d=e.filter(function(Z){return Z.name&&(Z.toggleable||Z.toggleable===void 0)}),y=(0,N.useState)(!1),b=L()(y,2),I=b[0],s=b[1],p=(0,Cn.Z)(d.map(function(Z){return Array.isArray(Z.name)?Z.name.join("//="):Z.name}),g||[]),h=p.selected,A=p.unSelect,M=p.setSelected,P=p.select,F=p.noneSelected,z=p.partiallySelected,O=p.unSelectAll,w=p.selectAll,D=function(E){h.includes(E)?A(E):P(E)},U=function(){s(!1),M(g||[])},_=function(){s(!1),S(h)},B=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"wand__inline-filter__options-container",children:[(0,t.jsx)("div",{className:"wand__inline-filter__option ".concat(F?"wand__inline-filter__option--is-selected":""),onClick:F?w:O,children:(0,t.jsxs)(V.Z,{children:[(0,t.jsx)(he.Z,{indeterminate:z,checked:F}),m]})},"select-all"),d.map(function(Z){var E=Array.isArray(Z.name)?Z.name.join("//="):Z.name;return(0,t.jsx)("div",{className:"wand__inline-filter__option ".concat(h!=null&&h.includes(E)?"":"wand__inline-filter__option--is-selected"),onClick:function(k){return D(E)},children:(0,t.jsxs)(V.Z,{children:[(0,t.jsx)(he.Z,{checked:!(h!=null&&h.includes(E))}),Z.icon,Z.title||Z.label]})},E)})]}),(0,t.jsx)("div",{className:"wand__inline-filter__footer",children:(0,t.jsxs)(V.Z,{size:"small",children:[(0,t.jsx)(X.Z,{type:"text",onClick:U,children:x}),(0,t.jsx)(X.Z,{type:"primary",onClick:_,children:j})]})})]});return(0,t.jsx)(Me.Z,{showArrow:!1,open:I,content:B,placement:"bottom",onOpenChange:s,trigger:"click",overlayClassName:"wand__inline-filter__popover",children:(0,t.jsx)("div",{className:"wand__filter-toggler__button",children:(0,t.jsxs)(V.Z,{children:[c,(0,t.jsx)("span",{className:"wand__filter-toggler__icon",children:i})]})})})},ji=xi,Si=function(n){var e=n.schema,r=n.value,i=n.delay,a=i===void 0?200:i,c=n.resetText,l=n.toggle,m=n.onReset,v=(0,ve.Z)(l!=null&&l.key?"".concat(l==null?void 0:l.key,"-filters"):"filter-toggle"),x=L()(v,2),f=x[0],j=x[1],g=(0,N.useState)(r),S=L()(g,2),d=S[0],y=S[1],b=(0,Je.Z)(function(M){n.onChange&&n.onChange(M)},{wait:a}),I=b.run;(0,N.useEffect)(function(){y(r)},[r]);var s=function(P){y(P),I(P)},p=function(P){return s((0,ee.omit)(C()(C()({},d),P),l?f:[]))},h=function(P){j(P),s((0,ee.omit)(C()({},d),l?P:[]))},A=e;return l&&f&&f.length>0&&(A=A.filter(function(M){return M.toggleable!==void 0&&!M.toggleable||!f.includes(Array.isArray(M.name)?M.name.join("//="):M.name)})),(0,t.jsxs)(V.Z,{style:{width:"100%"},wrap:!0,children:[A.map(function(M){var P=ci[M.input.type]||bn;return(0,t.jsx)(P,{field:M,value:Array.isArray(M.name)?M.name.reduce(function(F,z){return F[z]=d[z],F},{}):d[M.name],onChange:p},Array.isArray(M.name)?M.name.join("--"):M.name)}),l&&(0,t.jsx)(ji,C()({schema:e,value:f,onChange:h},l||{})),m&&(0,t.jsx)(X.Z,{type:"text",onClick:m,children:c||"Reset filters"})]})},yi=Si},24654:function(){}}]);
