(self.webpackChunk_9troisquarts_wand=self.webpackChunk_9troisquarts_wand||[]).push([[501],{90095:function(Ta,He,u){"use strict";u.r(He),u.d(He,{AutoLink:function(){return _t},CSVNotice:function(){return pn},ContextMenu:function(){return Jt},DropdownTag:function(){return tr},ExcelsiorImportModal:function(){return Rr},InlineFilters:function(){return ja},ModelDefinition:function(){return $n},NtqToolbar:function(){return mr},NtqToolbarProvider:function(){return ar},capitalize:function(){return Jn},castAttributesFromDefinition:function(){return le},memoOnlyForKeys:function(){return qn},nl2br:function(){return Ce},useGraphqlModel:function(){return Hr},useI18n:function(){return Cr},useSearchFilters:function(){return Je},useTableList:function(){return gt}});var Fn=u(56690),Ae=u.n(Fn),zn=u(89728),Ze=u.n(zn),On=u(38416),W=u.n(On),Un=u(62620),We=u.n(Un),Rn=u(13218),_n=u.n(Rn),Vn=u(57557),Ge=u.n(Vn),Yn=u(1469),Le=u.n(Yn),Bn=u(14293),de=u.n(Bn),Pe=u(30381),X=u.n(Pe),ue=function(n){return parseFloat(n.toString().replace(/\,/g,"."))},Hn={skipUndefinedKeys:!0},Wn=function(n,e){switch(n){case"Float":return ue(e);case"Integer":return parseInt(e,10);case"String":return typeof e=="string"?e:e.toString();case"Date":return X().isMoment(e)?e.format("YYYY-MM-DD"):e;case"Datetime":return X().isMoment(e)?e.format():e;case"Password":case"Files":case"File":return e||void 0;default:return e}},ke=function(n,e){var a,i,r,d,l;switch(n){case"Location":return{location:{formattedAddress:(e==null||(a=e.location)===null||a===void 0?void 0:a.formattedAddress)||(e==null?void 0:e.formattedAddress),lat:e!=null&&(i=e.location)!==null&&i!==void 0&&i.lat||e!=null&&e.lat?ue(((r=e.location)===null||r===void 0?void 0:r.lat)||(e==null?void 0:e.lat)):void 0,lng:e!=null&&(d=e.location)!==null&&d!==void 0&&d.lng||e!=null&&e.lat?ue(((l=e.location)===null||l===void 0?void 0:l.lng)||(e==null?void 0:e.lng)):void 0},proximity:e.proximity?parseInt(e.proximity,10):void 0};case"Boolean":return e?e==="true"||e==="1"||e:null;case"Float":return ue(e);case"Integer":return parseInt(e,10);case"String":return typeof e=="string"?e:e.toString();case"Datetime":case"Date":return X().isMoment(e)?e:X()(e);default:return e}},Gn=function(n,e){var a={};return We()(n,function(i,r){Array.isArray(i)&&!de()(e[r])?a[r]=e[r].map(function(d){return ke(i[0],d)}):de()(e[r])||(a[r]=ke(i,e[r]))}),a};function De(o,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Hn,a={};return We()(o,function(i,r){if(_n()(i)){if(i.type==="Places"){var d,l,g,f,v,s,m,x,p,c,C,I,b,A,h,j,M,y,Z,D;if(a[((d=i.options)===null||d===void 0?void 0:d.formattedAddress)||r]=(l=n[r])===null||l===void 0?void 0:l.formattedAddress,a[((g=i.options)===null||g===void 0?void 0:g.city)||"city"]=(f=n[r])===null||f===void 0?void 0:f.city,a[((v=i.options)===null||v===void 0?void 0:v.lat)||"lat"]=(s=n[r])===null||s===void 0?void 0:s.lat,a[((m=i.options)===null||m===void 0?void 0:m.lng)||"lng"]=(x=n[r])===null||x===void 0?void 0:x.lng,(p=i.options)!==null&&p!==void 0&&p.countryIso&&(a[((c=i.options)===null||c===void 0?void 0:c.countryIso)||"countryIso"]=(C=n[r])===null||C===void 0?void 0:C.countryIso),(I=i.options)!==null&&I!==void 0&&I.country&&(a[((b=i.options)===null||b===void 0?void 0:b.country)||"country"]=(A=n[r])===null||A===void 0?void 0:A.country),(h=i.options)!==null&&h!==void 0&&h.administrativeLevelOne&&(a[i.options.administrativeLevelOne]=(j=n[r])===null||j===void 0||(M=j.administrativeAreaLevels)===null||M===void 0||(y=M.find(function(O){return O.types.includes("administrative_area_level_1")}))===null||y===void 0?void 0:y.long_name),(Z=i.options)!==null&&Z!==void 0&&Z.administrativeLevelTwo){var w,R,B;a[i.options.administrativeLevelTwo]=(w=n[r])===null||w===void 0||(R=w.administrativeAreaLevels)===null||R===void 0||(B=R.find(function(O){return O.types.includes("administrative_area_level_2")}))===null||B===void 0?void 0:B.long_name}if((D=i.options)!==null&&D!==void 0&&D.zipCode){var F;a[i.options.zipCode]=(F=n[r])===null||F===void 0?void 0:F.zipCode}}else if(Le()(i)&&!de()(n[r]))a[r]=n[r].map(function(O){return Wn(i[0],O)});else if(!de()(n[r])){var H=n[r];H&&(a["".concat(r,"Attributes")]=Le()(H)?H.map(function(O){return De(i,O)}):De(i,H))}}else if(de()(n[r]))i!=="password"&&i!=="nested"&&i!=="id"&&(!e.skipUndefinedKeys||n.hasOwnProperty(r))&&(a[r]=null);else switch(i.toLowerCase()){case"float":a[r]=ue(n[r]);break;case"integer":a[r]=parseInt(n[r],10);break;case"string":a[r]=typeof n[r]=="string"?n[r]:n[r].toString();break;case"date":a[r]=typeof n[r]!="string"?n[r].format("YYYY-MM-DD"):n[r];break;case"datetime":a[r]=typeof n[r]!="string"?n[r].format():n[r];break;case"password":case"files":case"file":n[r]&&(a[r]=n[r]);break;case"nested":n[r]&&(a["".concat(r,"Attributes")]=Le()(n[r])?n[r].map(function(O){return Ge()(O,["__typename"])}):Ge()(n[r],["__typename"]));break;default:a[r]=n[r];break}}),a}var le=De,kn={skipUndefinedKeys:!0},Xn=function(){function o(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kn;Ae()(this,o),W()(this,"definition",void 0),W()(this,"options",void 0),this.definition=n,this.options=e}return Ze()(o,[{key:"parse",value:function(e){return le(this.definition,e,this.options)}}]),o}(),$n=Xn,Qn=function(n){return n.charAt(0).toUpperCase()+n.slice(1)},Jn=Qn,ne=u(96486),Kn=function(n){return function(e,a){return!n.some(function(i){return!(0,ne.isEqual)(e[i],a[i])})}},qn=Kn,N=u(67294),et=u(92742),nt=u.n(et),t=u(85893),tt=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(typeof n!="string"||!n.includes(`
`))return n;var a=n.split(`
`).filter(function(i){return nt()(i).length>0});return a.map(function(i,r){return(0,t.jsxs)(N.Fragment,{children:[i,(r<a.length-1||e)&&(0,t.jsx)("br",{})]},"line".concat(r))})},Ce=tt,rt=u(42122),S=u.n(rt),at=u(27424),P=u.n(at),Xe=u(40902),it=u(861),fe=u.n(it),ot=u(18698),$e=u.n(ot),lt=u(51589),st=u.n(lt),ve=u(65885),Qe=u(85980),ct=u(38018),dt=u(80129),ut=u.n(dt);function ft(o,n){var e=n||{},a=e.updateLocation,i=a===void 0?!1:a,r=e.enabled,d=r===void 0?!0:r,l=e.debug,g=l===void 0?!1:l,f=e.definition,v=f===void 0?void 0:f,s=e.defaultSearch,m=s===void 0?{}:s,x=e.history;if(!d)return{};var p=(0,ve.Z)("".concat(o,"-page"),1),c=P()(p,2),C=c[0],I=c[1],b=(0,ve.Z)("".concat(o,"-per-page"),25),A=P()(b,2),h=A[0],j=A[1],M=(0,ve.Z)(o,{defaultValue:m}),y=P()(M,2),Z=y[0],D=y[1],w=Z||{};(0,N.useEffect)(function(){if(i){var L=ut().parse(location.search.replace("?",""));if(L){var U=Object.keys(L).map(function(_){return L[_]}).filter(Boolean);U.length>0&&D(v?S()({},le(v,L)):S()({},L))}}},[]);var R=function(U){var _=S()(S()({},Z),U),z=S()(S()({},Z),U);if(v&&(_=le(v,_),z=le(v,z,{skipDate:!0})),g&&console.table({parameters:_,original:U,definition:v}),D(_),i){var G,re=J(z).map(function(K){var ce=P()(K,2),se=st()(ce[0]),xe=se[0],ie=se.slice(1),je=ce[1];return"".concat(xe).concat(ie.map(function(E){return"[".concat(E,"]")}).join(""),"=").concat(je)}).join("&");I(1);var k=((G=window.location)===null||G===void 0?void 0:G.pathname)+"?"+re;x&&x.push(k)}},B=function(){D({}),i&&x&&x.push(window.location.pathname)},F=function(U,_){if(I(h!==_?1:U),j(_),i){var z,G=((z=window.location)===null||z===void 0?void 0:z.pathname)+"?"+ct.stringify(S()(S()({},w),{},{page:U,perPage:_}),{arrayFormat:"bracket",skipNull:!0});x&&x.replace(G)}},H=(0,Qe.Z)(R,{wait:500}),O=H.run,J=function L(U){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.entries(U).reduce(function(z,G){var re=P()(G,2),k=re[0],K=re[1];return K&&($e()(K)==="object"?z.push.apply(z,fe()(L(K,[].concat(fe()(_),[k])))):z.push([[].concat(fe()(_),[k]),K])),z},[])};return{search:v?Gn(v,w):w,page:C?parseInt(C):1,perPage:h?parseInt(h):10,onPageChange:F,onReset:B,set:D,onChange:O}}var Je=ft;function vt(o,n,e){var a=n.query,i=n.debug,r=i===void 0?!1:i,d=n.paginate,l=d===void 0?!0:d,g=n.params,f=g===void 0?{}:g,v=(0,N.useState)(f||{}),s=P()(v,2),m=s[0],x=s[1],p=Je((e==null?void 0:e.key)||o,{debug:r,enabled:!!e,updateLocation:(e==null?void 0:e.updateLocation)||!1,history:e==null?void 0:e.history,definition:e==null?void 0:e.definition}),c=p.search,C=p.onChange,I=p.onReset,b=(0,N.useState)({pageSize:25,page:1}),A=P()(b,2),h=A[0],j=A[1],M=(0,Xe.a)(a,{fetchPolicy:"cache-and-network",variables:S()(S()({perPage:h.pageSize,page:h.page},e?{search:e.definition?le(e.definition,S()(S()({},c||{}),m)):S()(S()({},c),m)}:{}),n.variables||{})}),y=M.data,Z=M.loading,D=M.refetch,w=y?y[o]||{}:{},R;l?R=w[o]||[]:R=y?y[o]:[];var B=l?w.pagination||{}:{},F=function(J,L){j({page:J,pageSize:L})},H=B?{current:B.page,pageSize:B.perPage||25,total:B.total,showSizeChanger:!1,onChange:F}:!1;return{records:R,data:y,loading:Z,pagination:H,search:c,onSearchChange:C,setExtraParams:x,refetch:D,onReset:I}}var gt=vt,mt=u(61655),pt=u.n(mt),ht=u(26389),xt=u.n(ht),jt=/^[A-Za-z][-.+A-Za-z0-9]+:/,St=/^[A-Za-z][-.+A-Za-z0-9]+:\/\//,Ct=/:[^\s]*?[A-Za-z]/,yt=/^[\w]\/\//;function It(o,n,e){return!(n&&!Nt(n)||Mt(o,n)||bt(o,n)||At(e))}function Nt(o){var n=o.match(jt)[0].toLowerCase();return n!=="javascript:"&&n!=="vbscript:"}function Mt(o,n){return!!o&&(!n||!St.test(n))&&o.indexOf(".")===-1}function bt(o,n){return o&&n?!Ct.test(o):!1}function At(o){return!!o&&yt.test(o)}var Zt=/^(https?:\/\/)?(www\.)?/i,Lt=/^mailto:/,Pt=/^\/\//,Dt=function(){function o(n,e,a,i,r,d){Ae()(this,o),this._url=n,this._protocolMailtoMatch=e,this._protocolUrlMatch=a,this._protocolRelativeMatch=i,this.position=r,this.disableUrlStripping=d,this.protocolPrepended=!1}return Ze()(o,[{key:"getUrl",value:function(){var e=this._url;return!this._protocolMailtoMatch&&!this._protocolRelativeMatch&&!this._protocolUrlMatch&&!this.protocolPrepended&&(e=this._url="http://"+e,this.protocolPrepended=!0),e}},{key:"getAnchorHref",value:function(){var e=this.getUrl();return e.replace(/&amp;/g,"&")}},{key:"getAnchorText",value:function(){var e=this.getUrl();return this.disableUrlStripping||(this._protocolRelativeMatch&&(e=this.stripProtocolRelativePrefix(e)),this._protocolMailtoMatch&&(e=this.stripMailtoPrefix(e)),e=this.stripUrlPrefix(e),e=this.removeTrailingSlash(e)),e}},{key:"stripUrlPrefix",value:function(e){return e.replace(Zt,"")}},{key:"stripMailtoPrefix",value:function(e){return e.replace(Lt,"")}},{key:"stripProtocolRelativePrefix",value:function(e){return e.replace(Pt,"")}},{key:"removeTrailingSlash",value:function(e){return e.charAt(e.length-1)==="/"&&(e=e.slice(0,-1)),e}}]),o}(),Ke=/(?:[A-Za-z][-.+A-Za-z0-9]+:(?![A-Za-z][-.+A-Za-z0-9]+:\/\/)(?!\d+\/?)(?:\/\/)?)/,Tt=/(?:www\.)/,Te=/[A-Za-z0-9.-]*[A-Za-z0-9-]/,wt=/(?:(?:[^<>()\\[\]\\.,;:\s@"]+(?:\.[^<>()\\[\]\\.,;:\s@"]+)*)|(?:".+"))@(?:(?:\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(?:(?:[a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/,Et=/\.(?:international|construction|contractors|enterprises|photography|productions|foundation|immobilien|industries|management|properties|technology|christmas|community|directory|education|equipment|institute|marketing|solutions|vacations|bargains|boutique|builders|catering|cleaning|clothing|computer|democrat|diamonds|graphics|holdings|lighting|partners|plumbing|supplies|training|ventures|academy|careers|company|cruises|domains|exposed|flights|florist|gallery|guitars|holiday|kitchen|neustar|okinawa|recipes|rentals|reviews|shiksha|singles|support|systems|agency|berlin|camera|center|coffee|condos|dating|estate|events|expert|futbol|kaufen|luxury|maison|monash|museum|nagoya|photos|repair|report|social|supply|tattoo|tienda|travel|viajes|villas|vision|voting|voyage|actor|build|cards|cheap|codes|dance|email|glass|house|mango|ninja|parts|photo|shoes|solar|today|tokyo|tools|watch|works|aero|arpa|asia|best|bike|blue|buzz|camp|club|cool|coop|farm|fish|gift|guru|info|jobs|kiwi|kred|land|limo|link|menu|mobi|moda|name|pics|pink|post|qpon|rich|ruhr|sexy|tips|vote|voto|wang|wien|wiki|zone|bar|bid|biz|cab|cat|ceo|com|edu|gov|int|kim|mil|net|onl|org|pro|pub|red|tel|uno|wed|xxx|xyz|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)\b/,Ft=/[-A-Za-z0-9+&@#/%=~_()|'$*[\]?!:,.;]*[-A-Za-z0-9+&@#/%=~_()|'$*[\]]/,zt=/^(.)?\/\//,Ot=["(?:","(",Ke.source,wt.source,")","|","(",Ke.source,Te.source,")","|","(?:","(.?//)?",Tt.source,Te.source,")","|","(?:","(.?//)?",Te.source,Et.source,")",")","(?:"+Ft.source+")?"].join("");function Ut(o){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=new RegExp(Ot,"gi"),a=[],i;(i=e.exec(o))!==null;){var r=i,d=P()(r,5),l=d[0],g=d[1],f=d[2],v=d[3],s=d[4],m=v||s;if(m){var x=m.match(zt)[1]||"";x&&(l=l.slice(1),i.index++)}if(It(l,f,m)){var p={start:i.index,end:e.lastIndex};a.push(new Dt(l,g,f,m,p,n))}}return a}var Rt=function(o){pt()(e,o);var n=xt()(e);function e(){return Ae()(this,e),n.apply(this,arguments)}return Ze()(e,[{key:"prepareElements",value:function(i,r){var d=this,l=[],g=0;return i.forEach(function(f){f.position.start!==0&&l.push(N.createElement("span",{},Ce(r.slice(g,f.position.start),!0))),l.push(N.createElement("a",Object.assign({},{href:f.getAnchorHref()},d.props.linkProps),Ce(f.getAnchorText(),!0))),g=f.position.end}),g<r.length&&l.push(N.createElement("span",{},Ce(r.slice(g),!0))),l}},{key:"truncate",value:function(i){var r=this;if(!this.props.maxLength)return i;var d=[],l=0;return i.some(function(g){if(l+=g.props.children.length,l>r.props.maxLength){var f=g.props.children.slice(0,-(l-r.props.maxLength));return d.push(N.cloneElement(g,{},f)),!0}d.push(g)}),d}},{key:"keyElements",value:function(i){return i.map(function(r,d){return N.cloneElement(r,{key:d})})}},{key:"render",value:function(){var i=this.props.text||"",r=this.keyElements(this.truncate(this.prepareElements(Ut(i,this.props.disableUrlStripping),i)));return N.createElement("span",{},r)}}]),e}(N.Component),_t=Rt,Vt=u(70215),we=u.n(Vt),Yt=u(59400),te=u.n(Yt),Ee=u(13013),Bt=Object.defineProperty,qe=Object.getOwnPropertySymbols,Ht=Object.prototype.hasOwnProperty,Wt=Object.prototype.propertyIsEnumerable,en=(o,n,e)=>n in o?Bt(o,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[n]=e,Gt=(o,n)=>{for(var e in n||(n={}))Ht.call(n,e)&&en(o,e,n[e]);if(qe)for(var e of qe(n))Wt.call(n,e)&&en(o,e,n[e]);return o};const wa=o=>React.createElement("svg",Gt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 512"},o),React.createElement("path",{d:"M64 360c30.9 0 56 25.1 56 56s-25.1 56-56 56-56-25.1-56-56 25.1-56 56-56zm0-160c30.9 0 56 25.1 56 56s-25.1 56-56 56-56-25.1-56-56 25.1-56 56-56zm56-104c0 30.9-25.1 56-56 56S8 126.9 8 96s25.1-56 56-56 56 25.1 56 56z"}));var kt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjggNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMi4xIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLi0tPjxwYXRoIGQ9Ik02NCAzNjBjMzAuOSAwIDU2IDI1LjEgNTYgNTZzLTI1LjEgNTYtNTYgNTYtNTYtMjUuMS01Ni01NiAyNS4xLTU2IDU2LTU2em0wLTE2MGMzMC45IDAgNTYgMjUuMSA1NiA1NnMtMjUuMSA1Ni01NiA1Ni01Ni0yNS4xLTU2LTU2IDI1LjEtNTYgNTYtNTZ6bTU2LTEwNGMwIDMwLjktMjUuMSA1Ni01NiA1NlM4IDEyNi45IDggOTZzMjUuMS01NiA1Ni01NiA1NiAyNS4xIDU2IDU2eiIvPjwvc3ZnPg==",ge=u(18872),Xt=["size","className"],nn,tn,rn,$t=(0,ge.iv)(nn||(nn=te()([`
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background-color: transparent;
  padding: 5px;
  transition: all 0.1s linear;
  &:hover {
    background-color: #f5f5f5;
    cursor: pointer;
  }
`]))),an={default:"35",small:"25"},Qt=function(n){var e=n.size,a=e===void 0?"default":e,i=n.className,r=i===void 0?"":i,d=we()(n,Xt),l=typeof a=="number"?"".concat(a,"px"):"".concat(an[a]||an.default,"px");return(0,t.jsx)(Ee.Z,S()(S()({className:"".concat(r," wand-dropdown-menu"),trigger:["click"]},d),{},{children:(0,t.jsx)("span",{className:"".concat($t," ").concat((0,ge.iv)(tn||(tn=te()([`
          height: `,`;
          width: `,`;
          border-radius: `,`;
        `])),l,l,l)," wand-context-menu-handler"),children:(0,t.jsx)("img",{className:`
          `.concat((0,ge.iv)(rn||(rn=te()([`
            width: 4px;
          `]))),`
        `),src:kt})})}))},Jt=Qt,Kt=u(55047),qt=u(20550),V=u(26713),er=["options","children","value","style","className","undefinedText","onChange"],nr=function(n){var e=n.options,a=n.children,i=n.value,r=n.style,d=r===void 0?{}:r,l=n.className,g=l===void 0?"":l,f=n.undefinedText,v=f===void 0?"Undefined":f,s=n.onChange,m=we()(n,er),x=e.filter(function(C){return C.value!==i}).map(function(C){return{key:C.value,label:C.label}}),p=i?e.find(function(C){return C.value===i}):null,c=function(I){var b=I.key;return s(b)};return(0,t.jsx)(Ee.Z,{menu:{items:x,onClick:c},children:(0,t.jsx)(qt.Z,S()(S()({className:g,style:d},m),{},{children:(0,t.jsxs)(V.Z,{children:[a||(p==null?void 0:p.label)||v,(0,t.jsx)(Kt.Z,{})]})}))})},tr=nr,Fe=u(72683),ye=(0,N.createContext)(null),ze={i18n:{debug:!1,preventDefault:!1}},rr=function(n){var e=n.enabled,a=e===void 0?!0:e,i=n.impersonation,r=i===void 0?!1:i,d=n.baseUrl,l=d===void 0?"/ntq_tools":d,g=(0,ve.Z)("ntq-toolbar-config",ze),f=P()(g,2),v=f[0],s=f[1],m=function(c,C){return s(S()(S()(S()({},ze),v||{}),{},{i18n:S()(S()({},(v||{}).i18n||{}),{},W()({},c,C))}))},x=S()(S()(S()({},ze),v||{}),{},{onI18nConfigChange:m,impersonation:r,baseUrl:l});return a?(0,t.jsx)(ye.Provider,{value:x,children:n.children}):n.children},ar=rr,Y={switch:"un701VxxH7QOoCJ8TkOj","ant-switch-checked":"YsUnohMotq4ZUgIPgRRj",tag:"DaKehT1yfgv44VV_APp8",pill:"SbcaIkXpI2wkyMlTr7Yf",enabled:"WdVoI0O0EtsEiuCGsZHx",disabled:"Szti7exhmg68DHdKnyw4",impersonationPopover:"VEprbR4o2o4OWRUNZa0q",popoverContent:"U3NidYOJcestZM0OiHC3",popoverLoading:"egeTzFsBQiI966OAVW4d",impersonationModelName:"f3jtA5j028D4ROm9ZeqU",user:"r7CXMc7AoWkcgIclJORc",padded:"Qdbi2O787U3qivoMbytV",userGroup:"t9pH0AqaMogt5R8nYd9h"},ir=u.p+"static/logo.457bc401.png",me=u(11382),or=u(71230),on=u(15746),Ie=u(55241),lr={headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}},sr=function(n){var e=(0,N.useContext)(ye),a=(0,N.useState)(!1),i=P()(a,2),r=i[0],d=i[1],l=(0,N.useState)(!1),g=P()(l,2),f=g[0],v=g[1],s=(0,N.useState)(),m=P()(s,2),x=m[0],p=m[1],c=function(j){j?(d(!0),x?d(!0):(v(!0),fetch("".concat(e.baseUrl,"/impersonation/users.json"),S()({},lr)).then(function(M){return M.json()}).then(function(M){var y=M.data;p(y),v(!1)}).catch(function(){v(!1)}))):d(!1)},C=function(j,M){window.location.href="".concat(e.baseUrl,"/impersonation/").concat(j,"/").concat(M.id,"/sign_in")},I=Object.keys(x||{}).filter(function(h){var j;return!(e!=null&&(j=e.impersonation)!==null&&j!==void 0&&j.userTypes)||e.impersonation.userTypes.includes(h)}),b=I.length>0,A=(0,t.jsxs)(t.Fragment,{children:[f&&(0,t.jsx)("div",{className:Y.popoverLoading,children:(0,t.jsx)(me.Z,{})}),!f&&x&&(0,t.jsx)("div",{className:Y.popoverContent,children:I.map(function(h){return(0,t.jsxs)(or.Z,{className:Y.userGroup,children:[b&&(0,t.jsx)(on.Z,{className:Y.impersonationModelName,span:24,children:h}),x[h].map(function(j){return(0,t.jsx)(on.Z,{className:"".concat(Y.user," ").concat(b?Y.padded:""),span:24,onClick:function(){return C(h,j)},children:j.label},j.id)})]},h)})})]});return(0,t.jsx)(Ie.Z,{trigger:["click"],open:r,content:A,onOpenChange:c,placement:"bottom",arrowPointAtCenter:!0,children:(0,t.jsx)("span",{className:Y.tag,children:"Connexion utilisateur"})})},cr=sr,ln,sn,cn,dn,dr=Fe.Z.div(ln||(ln=te()([`
  position: fixed;
  top: 0;
  background-color: #000;
  display: flex;
  height: 50px;
  width: 100%;
  color: white;
  padding: 0 16px;
  z-index: 1000;
`]))),ur=Fe.Z.div(sn||(sn=te()([`
  display: flex;
  margin-left: auto;
  align-items: center;
`]))),fr=Fe.Z.div(cn||(cn=te()([`
  display: flex;
  align-items: center;
`]))),un=(0,ge.iv)(dn||(dn=te()([`
  .ant-layout-header,
  .ant-layout-sider {
    margin-top: 50px;
  }
`]))),vr="/ntq_tools",gr=function(n){var e,a,i,r=n.enabled,d=r===void 0?!0:r,l=(0,N.useContext)(ye);if(!d)return null;var g=function(){fetch("".concat(vr,"/translation/refresh"))};(0,N.useEffect)(function(){if(d)return document.body.classList.add(un),document.body.classList.add("ntq-toolbar-enabled"),function(){return document.body.classList.remove(un)}});var f=function(m){return function(){return l.onI18nConfigChange(m,l!=null&&l.i18n?!l.i18n[m]:!0)}},v=[{label:(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"".concat(Y.pill," ").concat(l!=null&&(e=l.i18n)!==null&&e!==void 0&&e.debug?Y.enabled:Y.disabled)}),"Live"]}),key:"debug",onClick:function(){var m;return f("debug")(!(l!=null&&(m=l.i18n)!==null&&m!==void 0&&m.debug))}},{label:(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"".concat(Y.pill," ").concat(l!=null&&(a=l.i18n)!==null&&a!==void 0&&a.preventDefault?Y.enabled:Y.disabled)}),"Prevent default"]}),key:"preventDefault",onClick:function(){var m;return f("preventDefault")(!(l!=null&&(m=l.i18n)!==null&&m!==void 0&&m.preventDefault))}},{label:(0,t.jsx)("span",{children:"Refresh translations"}),key:"refresh",onClick:g}];return(0,t.jsxs)(dr,{children:[(0,t.jsx)(fr,{children:(0,t.jsx)("img",{src:ir,width:"30"})}),(0,t.jsx)(ur,{children:(0,t.jsxs)(V.Z,{children:[!!(l!=null&&l.impersonation)&&(0,t.jsx)(cr,{}),(0,t.jsx)(Ee.Z,{menu:{items:v},trigger:["hover"],children:(0,t.jsxs)("span",{className:"".concat(Y.tag),onClick:f("debug"),children:[(0,t.jsx)("span",{className:"".concat(Y.pill," ").concat(l!=null&&(i=l.i18n)!==null&&i!==void 0&&i.debug?Y.enabled:Y.disabled)}),"Traduction live"]})})]})})]})},mr=gr,pr=u(84847),Oe=u(56264),Ue=u(69677),$=u(71577),hr=["count"],fn,vn="/ntq_tools",gn={headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}},xr=(0,ge.iv)(fn||(fn=te()([`
  font-style: italic;
  color: #4527a0;
  text-decoration-line: underline;
  text-decoration-style: dashed;
  &:hover {
    color: #4527a0;
  }
`]))),jr=function(n){var e=n.translationKey,a=n.preventDefault,i=(0,N.useState)(!1),r=P()(i,2),d=r[0],l=r[1],g=(0,N.useState)(n.value),f=P()(g,2),v=f[0],s=f[1],m=(0,N.useState)(!1),x=P()(m,2),p=x[0],c=x[1],C=function(){fetch("".concat(vn,"/translation"),S()(S()({},gn),{},{method:"PUT",body:JSON.stringify({key:e,value:v})})).then(function(j){return j.json()}).then(function(j){var M=j.data;M&&l(!1)})},I=d?(0,t.jsx)("div",{style:{minWidth:150,minHeight:75},children:p?(0,t.jsx)("div",{style:{height:75,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)(me.Z,{})}):(0,t.jsxs)("div",{children:[(0,t.jsx)(Ue.Z.TextArea,{value:v,onChange:function(j){var M=j.target.value;return s(M)},autoSize:!0}),(0,t.jsx)("div",{style:{marginTop:10,textAlign:"right"},children:(0,t.jsx)($.Z,{onClick:C,size:"small",type:"primary",children:"Modifier"})})]})}):null,b=function(j){l(j),c(!0),fetch("".concat(vn,"/translation?key=").concat(e),gn).then(function(M){return M.json()}).then(function(M){var y=M.data;s(y),c(!1)})},A=function(j){a&&j.stopPropagation()};return(0,t.jsx)(Ie.Z,{title:p?null:e,content:I,open:d,trigger:"click",onOpenChange:b,children:(0,t.jsx)("a",{onClick:A,className:xr,children:n.value||e})})},Sr=function(n){var e=n||{},a=e.debug,i=a===void 0?!1:a,r=(0,N.useContext)(ye),d=(0,pr.Z)(),l=function(s){return d.formatMessage({id:s})!==s},g=function(s){var m,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=x.count,c=we()(x,hr),C=s;if(x&&x.count!==void 0){var I="zero";x.count>1?I="other":x.count===1&&(I="one"),C="".concat(s,".").concat(I)}C=(0,Oe.decamelize)(C);var b=d.formatMessage({id:C},x);if(i||r!=null&&(m=r.i18n)!==null&&m!==void 0&&m.debug){var A;return(0,t.jsx)(jr,{translationKey:C,value:b,preventDefault:r==null||(A=r.i18n)===null||A===void 0?void 0:A.preventDefault})}return b},f=function(s,m){return g("activerecord.attributes.".concat((0,Oe.decamelize)(s),".").concat((0,Oe.decamelize)(m)))};return{t:g,translate:g,tAttribute:f,isTranslated:l}},Cr=Sr,mn={container:"ux2_qjNZthMeMslgWP2R",item:"k5GBX5RFIiUIq1fasqpb"},yr=function(n){var e=n.header,a=n.values,i=n.description;return(0,t.jsxs)(V.Z,{align:"start",className:"".concat(mn.item," wand-csv-notice-item"),children:[(0,t.jsx)("code",{children:e}),(0,t.jsxs)("div",{children:[i,a&&a.length>0&&(0,t.jsx)("ul",{children:a.map(function(r){var d=r.value,l=r.description;return(0,t.jsx)("li",{children:(0,t.jsxs)(V.Z,{children:[(0,t.jsx)("strong",{children:d}),l]})},d)})})]})]},e)},Ir=function(n){var e=n.schema,a=e===void 0?[]:e;return(0,t.jsx)("div",{className:"".concat(mn.container," wand-csv-notice-container"),children:(0,t.jsx)(V.Z,{direction:"vertical",style:{width:"100%"},children:a.map(function(i){return(0,t.jsx)(yr,S()({},i),i.header)})})})},pn=Ir,Nr=u(23680),Mr=u(69309),br=u(2482),q=u(2587),Re=u(16757),Ar=u(85402),Zr=u(79718),Lr=function(n){var e=n.configuration,a=n.importType,i=(0,N.useState)(!1),r=P()(i,2),d=r[0],l=r[1],g=(0,N.useState)(void 0),f=P()(g,2),v=f[0],s=f[1],m=(0,N.useState)(void 0),x=P()(m,2),p=x[0],c=x[1],C=function(Z){var D;return Z?(D=e.client)===null||D===void 0?void 0:D.get("/".concat(e.rootUrl,"/imports/").concat(Z)):new Promise(function(w,R){return w({})})},I=(0,Zr.Z)(C,{pollingInterval:3e3,pollingWhenHidden:!0,manual:!0,onSuccess:function(Z){Z.id&&c(Z)}}),b=I.run,A=I.cancel,h=function(Z){var D=new FormData;return D.append("file",Z,Z.name),e.client&&e.client.post("/".concat(e.rootUrl,"/imports/").concat(a),D,{headers:{"Content-Type":"multipart/form-data"}}).then(function(w){return w.id&&(b(w.id),c(w)),!1}),!1};(0,N.useEffect)(function(){e.client&&e.client.get("/".concat(e.rootUrl,"/importers/").concat(a)).then(function(y){s(y)})},[a]),(0,N.useEffect)(function(){["checked","imported"].includes(p==null?void 0:p.state)&&A()},[p==null?void 0:p.state]);var j=function(){c(void 0),l(!1),A()},M=function(){e.client&&(A(),c(S()(S()({},p),{},{state:"importing"})),e.client.put("/".concat(e.rootUrl,"/imports/").concat(p.id),{to_state:"import"}).then(function(Z){Z.id&&(b(Z.id),c(Z))}))};return{loading:d,importer:v,importFile:p,onImport:h,onProcessImport:M,onReset:j}},Pr=Lr,Ne={descriptions:"MHJ6za7mLjIFQZVdbgb8",label:"JNi1IaAyOABvuOXyeW0z",required:"k7g_8q77vuMd09rEHDBX",checkDescriptions:"cZDwyf6DcWzNZBFNCKwl",actions:"_bu6DPtaXGUWtHz6I2fX",sampleFileLink:"Df9K6V6SyUolWL794UtS"},_e=u(84273),Dr=Nr.Z.Dragger,pe={rootUrl:"excelsior"},Tr=function(n){return n?n.state==="pending"||n.state==="buffering"?{status:"progress",icon:(0,t.jsx)(_e.Z,{})}:{status:"finish"}:{status:"progress"}},wr=function(n){return n?n.state==="checking"?{status:"progress",icon:(0,t.jsx)(_e.Z,{})}:["buffered","checked","importing","imported"].includes(n.state)?{status:"finish"}:{status:"wait"}:{status:"wait"}},Er=function(n){return n?n.state==="importing"?{status:"progress",icon:(0,t.jsx)(_e.Z,{})}:n.state==="imported"?{status:"finish"}:{status:"wait"}:{status:"wait"}},Fr=function(n){var e,a,i,r,d=n.importType,l=n.onCancel,g=n.onCompleted,f=Pr({configuration:pe,importType:d,onCompleted:g}),v=f.importer,s=f.importFile,m=f.onReset,x=f.onImport,p=f.onProcessImport,c=n.translate||pe.translate,C=[S()({title:c?c("excelsior_modal.upload_file"):"Upload file"},Tr(s)),S()({title:c?c("excelsior_modal.verify_file"):"Verify file"},wr(s)),S()({title:c?c("excelsior_modal.import_file"):"Import file"},Er(s))],I=(0,t.jsx)(Mr.Z,{style:{paddingRight:30,marginBottom:16},items:C});if(!s||["buffering","buffered","pending"].includes(s.state))return(0,t.jsxs)(t.Fragment,{children:[I,(0,t.jsx)(me.Z,{delay:200,spinning:["buffering","pending"].includes(s==null?void 0:s.state),tip:c?c("excelsior_modal.uploading_file"):"Uploading...",children:(0,t.jsxs)(V.Z,{direction:"vertical",style:{width:"100%"},children:[(0,t.jsx)(Dr,{name:"file",showUploadList:!1,multiple:!1,beforeUpload:x,children:(0,t.jsx)("p",{className:"ant-upload-hint",children:c?c("excelsior_modal.upload_format"):"Upload a .xlsx or a .csv file"})}),v&&v.notice&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(br.Z.Title,{style:{marginBottom:0},level:5,children:(0,t.jsxs)(V.Z,{children:[c?c("excelsior_modal.expected_columns"):"Expected cols",v.sample_file&&(0,t.jsx)("a",{className:Ne.sampleFileLink,href:v.sample_file,target:"_blank",children:c?c("excelsior_modal.download_sample_file"):"Download sample file"})]})}),(0,t.jsx)(pn,{schema:v.notice})]})]})})]});if(["checking","checked"].includes(s.state))return(0,t.jsxs)(t.Fragment,{children:[I,(0,t.jsxs)(me.Z,{delay:200,spinning:["checking"].includes(s==null?void 0:s.state),tip:c?c("excelsior_modal.checking_file"):"Checking...",children:[(0,t.jsxs)(q.Z,{bordered:!0,className:Ne.checkDescriptions,size:"small",colon:!1,layout:"vertical",column:4,children:[(0,t.jsx)(q.Z.Item,{span:4,label:c?c("excelsior_modal.number_of_error_lines"):"Error lines count",children:s.state==="checking"?"":s.errors_count.toLocaleString()}),(0,t.jsx)(q.Z.Item,{span:4,label:c?c("excelsior_modal.number_of_success_lines"):"Correct lines count",children:s.state==="checking"?"":s.success_count.toLocaleString()}),(0,t.jsx)(q.Z.Item,{span:2,label:c?c("excelsior_modal.number_of_creation"):"Create",children:s.state==="checking"?"":s.create_count.toLocaleString()}),(0,t.jsx)(q.Z.Item,{span:2,label:c?c("excelsior_modal.number_of_update"):"Update",children:s.state==="checking"?"":s.update_count.toLocaleString()})]}),(0,t.jsx)("div",{className:Ne.actions,children:(0,t.jsxs)(V.Z,{children:[(0,t.jsx)($.Z,{onClick:l,type:"text",children:c?c("excelsior_modal.cancel"):"Cancel"}),(0,t.jsx)($.Z,{onClick:p,type:"primary",children:c?c("excelsior_modal.import"):"Cancel"})]})})]})]});var b=(0,t.jsxs)(q.Z,{bordered:!0,className:Ne.checkDescriptions,size:"small",colon:!1,layout:"vertical",column:4,children:[(0,t.jsx)(q.Z.Item,{span:4,label:c?c("excelsior_modal.number_of_error_lines"):"Error lines count",children:((e=s.errors_count)===null||e===void 0?void 0:e.toLocaleString())||"0"}),(0,t.jsx)(q.Z.Item,{span:4,label:c?c("excelsior_modal.number_of_success_lines"):"Correct lines count",children:((a=s.success_count)===null||a===void 0?void 0:a.toLocaleString())||"0"}),(0,t.jsx)(q.Z.Item,{span:2,label:c?c("excelsior_modal.number_of_creation"):"Create",children:((i=s.create_count)===null||i===void 0?void 0:i.toLocaleString())||"0"}),(0,t.jsx)(q.Z.Item,{span:2,label:c?c("excelsior_modal.number_of_update"):"Update",children:((r=s.update_count)===null||r===void 0?void 0:r.toLocaleString())||"0"})]});return["importing","imported"].includes(s.state)?(0,t.jsxs)(t.Fragment,{children:[I,(0,t.jsxs)(me.Z,{delay:200,spinning:["importing"].includes(s==null?void 0:s.state),tip:c?c("excelsior_modal.importing_file"):"Importing...",children:[s.state=="imported"&&(0,t.jsx)(Re.ZP,{status:"success",title:c?c("excelsior_modal.file_successfully_imported"):"File successfully importer",extra:[(0,t.jsx)($.Z,{type:"text",onClick:l,children:c?c("excelsior_modal.finish_and_close"):"Finish and close"},"reset"),(0,t.jsx)($.Z,{type:"primary",onClick:m,children:c?c("excelsior_modal.new_import"):"New import"},"close")]}),b]})]}):s.state==="error"?s.error_message=="header_not_found"?(0,t.jsx)(Re.ZP,{status:"error",title:c?c("excelsior_modal.missing_header"):"Error",subTitle:(0,t.jsxs)("div",{children:[c?c("excelsior_modal.following_headers_are_missing"):"Error",":\xA0",(s.missing_headers||[]).join(", ")]}),extra:[(0,t.jsx)($.Z,{type:"text",onClick:l,children:c?c("excelsior_modal.finish_and_close"):"Finish and close"},"reset"),(0,t.jsx)($.Z,{type:"primary",onClick:m,children:c?c("excelsior_modal.new_import"):"New import"},"close")]}):(0,t.jsxs)(t.Fragment,{children:[I,(0,t.jsx)(Re.ZP,{status:"error",title:c?c("excelsior_modal.error_on_file"):"Error",subTitle:s.error_file?(0,t.jsx)("a",{href:s.error_file,target:"_blank",children:c?c("excelsior_modal.click_here_for_download_error_file"):"Error"}):null,extra:[(0,t.jsx)($.Z,{type:"text",onClick:l,children:c?c("excelsior_modal.finish_and_close"):"Finish and close"},"reset"),(0,t.jsx)($.Z,{type:"primary",onClick:m,children:c?c("excelsior_modal.new_import"):"New import"},"close")]})]}):(0,t.jsx)("div",{children:I})},zr=function(n){var e=n.open,a=n.translate,i=n.onCancel,r=n.title;return e?(0,t.jsx)(Ar.Z,{open:!0,width:1e3,footer:!1,title:r,onCancel:i,children:(0,t.jsx)(Fr,S()({translate:a},n))}):null},Or=function(n){return pe=S()(S()({},pe),n),pe},Ur=zr,hn=Ur;hn.configure=Or;var Rr=hn,_r=u(12576),Me=u(50319),Vr=u(13448),xn,Yr=function(n){Vr.Z[n.type||"open"]({message:n.message,description:null,placement:"bottomRight",duration:2})},Ve=function(n){var e=n.data;if(e){var a=Object.keys(e);a.forEach(function(i){var r;(((r=e[i])===null||r===void 0?void 0:r.flashMessages)||[]).forEach(function(d){Yr(JSON.parse(d))})})}return n},be=function(n,e,a,i){var r,d,l=a?(r=a.definitions.find(function(f){return f.kind==="FragmentDefinition"&&f.name.kind==="Name"}))===null||r===void 0||(d=r.name)===null||d===void 0?void 0:d.value:void 0,g=(i==null?void 0:i.inputName)||"".concat((0,ne.upperFirst)(e)).concat((0,ne.upperFirst)(n),"Input");return(0,_r.Ps)(xn||(xn=te()([`
    mutation `,"($input: ",`!) {
      `,`(input: $input) {
        `,` {
          ...`,`
        }
        `,`
      }
    }
    `,`
  `])),i.mutationName,g,i.mutationName,n,l,i.flashMessages?"flashMessages":"",a)};function Br(o,n){var e=n.flashMessages,a=e===void 0?!1:e,i=n.definition,r=n.queries,d=r===void 0?{}:r,l=d.fetch,g=n.defaultMutationNames,f=g===void 0?{}:g,v=n.defaultInputNames,s=v===void 0?{}:v,m=n.mutations,x=m===void 0?{}:m,p=n.fragment,c=x.create,C=f.create||"create".concat((0,ne.upperFirst)(o));if(!c&&p){var I;s&&(typeof s=="function"?I=s("create",o):s.create&&(I=s.create)),c=be(o,"create",p,{inputName:I,flashMessages:a,mutationName:C})}var b=x.update,A=f.update||"update".concat((0,ne.upperFirst)(o));if(!b&&p){var h;s&&(typeof s=="function"?h=s("update",o):s.update&&(h=s.update)),b=be(o,"update",p,{inputName:h,flashMessages:a,mutationName:A})}var j=x.delete,M=f.delete||"delete".concat((0,ne.upperFirst)(o));if(!j&&p){var y;s&&(typeof s=="function"?y=s("delete",o):s.delete&&(y=s.delete)),j=be(o,"delete",p,{inputName:y,flashMessages:a,mutationName:M})}var Z=x.import,D=f.import||"import".concat((0,ne.upperFirst)(o),"s");if(!Z&&p){var w;s&&(typeof s=="function"?w=s("import",o):s.delete&&(w=s.import)),Z=be(o,"import",p,{inputName:w,flashMessages:a,mutationName:D})}return function(R,B){var F=B||{},H=F.mutationOptions,O=H===void 0?{}:H,J=F.fetch,L=J===void 0?!1:J,U=F.singleton,_=U===void 0?!1:U,z=F.queries,G=i&&(Object.values(i).includes("File")||Object.values(i).includes("Files")),re=function(ae){return console.log(ae)},k=l||z!=null&&z.fetch?(0,Xe.a)((z==null?void 0:z.fetch)||l,S()({variables:{id:R},skip:!L||!R&&!_||!l,fetchPolicy:"cache-and-network",onError:re},$e()(L)==="object"?L:{})):{},K=k.data,ce=K===void 0?{}:K,se=k.loading,xe=se===void 0?!1:se,ie=k.refetch,je=ie===void 0?void 0:ie,E=ce[o]||{},Q=(0,N.useState)(void 0),ee=P()(Q,2),Sa=ee[0],An=ee[1],Ca=c?(0,Me.D)(c,S()(S()({},O||{}),{},{context:{hasUpload:G}})):[],Zn=P()(Ca,2),Ln=Zn[0],ya=Zn[1].loading,Ia=b?(0,Me.D)(b,S()(S()({},O||{}),{},{context:{hasUpload:G}})):[],Pn=P()(Ia,2),Dn=Pn[0],Na=Pn[1].loading,Ma=j?(0,Me.D)(j,S()({},O||{})):[],ba=P()(Ma,1),Tn=ba[0],Aa=Z?(0,Me.D)(Z,S()({},O||{})):[],Za=P()(Aa,1),wn=Za[0],La=function(ae,T){var Se=i||T!=null&&T.definition?le((T==null?void 0:T.definition)||i,ae):ae;n.debug&&console.log("attributes",Se);var oe=function(Be){var En=Be.recordErrors;a&&Ve(Be),An(En||void 0),T!=null&&T.onCompleted&&T.onCompleted(Be)};R||T.id||_?Dn&&Dn({variables:{input:S()({id:R||T.id,attributes:Se},(T==null?void 0:T.variables)||{})},onCompleted:oe}):Ln&&Ln({variables:{input:S()({attributes:Se},(T==null?void 0:T.variables)||{})},onCompleted:oe})},Pa=function(ae,T){n.debug&&console.log("DELETE",ae),Tn&&Tn({variables:{input:{id:ae||T.id}},onCompleted:function(oe){a&&Ve(oe),T!=null&&T.onCompleted&&T.onCompleted(oe)}})},Da=function(ae,T){wn&&wn({context:{hasUpload:!0},variables:{input:{file:ae}},onCompleted:function(oe){a&&Ve(oe),T!=null&&T.onCompleted&&T.onCompleted(oe)}})};return{onSave:La,onDelete:Pa,onImport:Da,refetch:je,record:E,loading:xe,submitting:ya||Na,errors:Sa}}}var Hr=Br,jn=u(97847),he=u(32808),Wr=u(63922),Sn=u(81757),Gr=Object.defineProperty,Cn=Object.getOwnPropertySymbols,kr=Object.prototype.hasOwnProperty,Xr=Object.prototype.propertyIsEnumerable,yn=(o,n,e)=>n in o?Gr(o,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[n]=e,$r=(o,n)=>{for(var e in n||(n={}))kr.call(n,e)&&yn(o,e,n[e]);if(Cn)for(var e of Cn(n))Xr.call(n,e)&&yn(o,e,n[e]);return o};const Ea=o=>React.createElement("svg",$r({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},o),React.createElement("path",{d:"M11.499 6.5a5 5 0 1 0-10 0 5 5 0 0 0 10 0Zm-.966 5.096A6.498 6.498 0 0 1 0 6.5C0 2.91 2.91 0 6.5 0a6.498 6.498 0 0 1 5.096 10.533l4.184 4.184a.75.75 0 0 1-1.06 1.06l-4.187-4.181Z",fill:"#343434"}));var Qr="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTExLjQ5OSA2LjVhNSA1IDAgMSAwLTEwIDAgNSA1IDAgMCAwIDEwIDBabS0uOTY2IDUuMDk2QTYuNDk4IDYuNDk4IDAgMCAxIDAgNi41QzAgMi45MSAyLjkxIDAgNi41IDBhNi40OTggNi40OTggMCAwIDEgNS4wOTYgMTAuNTMzbDQuMTg0IDQuMTg0YS43NS43NSAwIDAgMS0xLjA2IDEuMDZsLTQuMTg3LTQuMTgxWiIgZmlsbD0iIzM0MzQzNCIvPjwvc3ZnPg==",In=u(23638),Jr=function(n){var e=n.field,a=n.value,i=n.onChange,r=e.input||{},d=r.inputProps,l=d===void 0?{}:d,g=(0,N.useState)((0,Pe.isMoment)(a)?a:X()(a).isValid()?X()(a):void 0),f=P()(g,2),v=f[0],s=f[1];(0,N.useEffect)(function(){s((0,Pe.isMoment)(a)?a:X()(a).isValid()?X()(a):void 0)},[a]);var m=function(p){s(p),i(W()({},e.name,p))};return(0,t.jsx)(In.Z,S()(S()({},l),{},{placeholder:e.label,className:"wand__inline-filter__datepicker ".concat(v?"wand__inline-filter__datepicker--filled":""),value:v,onChange:m}))},Kr=Jr,qr=function(n){var e=n.field,a=n.value,i=n.onChange,r=e.input||{},d=r.inputProps,l=d===void 0?{}:d,g=l.placeholder,f=l.className,v=(0,N.useState)(!1),s=P()(v,2),m=s[0],x=s[1],p=(0,N.useState)(void 0),c=P()(p,2),C=c[0],I=c[1];(0,N.useEffect)(function(){I(a)},[a]);var b=function(j){I(j.target.value),i(W()({},e.name,j.target.value))},A=["wand__inline-filter__string-input",f,e.className,m||C&&C.length>0?"wand__inline-filter__string-input--is-focused":void 0].filter(Boolean);return(0,t.jsx)(Ue.Z,{className:A.join(" "),onFocus:function(){return x(!0)},onBlur:function(){return x(!1)},style:e.style||{},value:C,onChange:b,addonBefore:e.icon,placeholder:g})},ea=qr,na=function(n){var e=n.field,a=n.value,i=n.onChange,r=e.input||{},d=r.inputProps,l=d===void 0?{}:d,g=l.inverted,f=g===void 0?!1:g,v=l.className,s=l.text,m=(0,N.useState)(!1),x=P()(m,2),p=x[0],c=x[1];(0,N.useEffect)(function(){c(a)},[a]);var C=function(b){c(!p),i(W()({},e.name,!p))};return(0,t.jsx)("div",{onClick:C,className:"wand__inline-filter__filter wand__inline-filter__boolean ".concat(p?"wand__inline-filter__boolean--checked":""),children:(0,t.jsxs)(V.Z,{children:[(0,t.jsx)(he.Z,{checked:p}),e.label]})})},ta=na,ra=In.Z.RangePicker,aa=function(n){var e=n.field,a=n.value,i=n.onChange,r=e.input||{},d=r.inputProps,l=d===void 0?{}:d,g=P()(e.name,2),f=g[0],v=g[1],s=(0,N.useState)(a||{}),m=P()(s,2),x=m[0],p=m[1];(0,N.useEffect)(function(){p(a||{})},[a]);var c=function(j){var M,y=(M={},W()(M,f,j?j[0]:void 0),W()(M,v,j?j[1]:void 0),M);i(y),p(y)},C=x[f];C&&!X().isMoment(C)&&(C=X()(C).startOf("day"));var I=x[v];I&&!X().isMoment(I)&&(I=X()(I).startOf("day"));var b=[C,I],A=b.filter(Boolean).length>0;return(0,t.jsx)(ra,S()(S()({},l||{}),{},{className:"wand__inline-filter__datepicker ".concat(A?"wand__inline-filter__datepicker--filled":""),value:b,onChange:c}))},ia=aa,oa=function(){return(0,t.jsx)(V.Z,{children:"Render date"})},Fa=function(n){var e=n.field,a=n.value;return _jsx(Space,{children:e.label})},za={date:oa},la={select:Nn,date:Kr,string:ea,boolean:ta,daterange:ia},sa=function(n,e){return e.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").indexOf(n.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))>=0},ca=function(n){return function(e,a){return n.includes(e.value)&&!n.includes(a.value)?1:!n.includes(e.value)&&n.includes(a.value)?-1:0}},da=function(n){var e,a=n.field,i=n.value,r=n.onChange,d=(a==null?void 0:a.input)||{},l=d.inputProps,g=l===void 0?{}:l,f=g.multiple,v=f===void 0?!1:f,s=g.allowSearch,m=s===void 0?!0:s,x=g.searchPlaceholder,p=x===void 0?void 0:x,c=g.selectAllText,C=c===void 0?"All":c,I=g.options,b=I===void 0?[]:I,A=(0,Sn.Z)(b.map(function(E){return E.value}),i?Array.isArray(i||[])?i:[i]:[]),h=A.selected,j=A.setSelected,M=A.allSelected,y=A.partiallySelected,Z=A.unSelectAll,D=A.selectAll,w=A.toggle,R=(0,N.useState)(void 0),B=P()(R,2),F=B[0],H=B[1],O=(0,N.useState)(!1),J=P()(O,2),L=J[0],U=J[1],_=(0,N.useState)(!1),z=P()(_,2),G=z[0],re=z[1],k=(0,N.useRef)();(0,N.useEffect)(function(){j(i?Array.isArray(i||[])?i:[i]:[])},[i,v]),(0,N.useEffect)(function(){k&&k.current&&setTimeout(function(){k.current.select()},0)},[L]);var K=function(Q){var ee;return H((ee=Q.target)===null||ee===void 0?void 0:ee.value)},ce=function(Q){if(v)if(h.includes(Q)){var ee=fe()(h);ee.splice(ee.indexOf(Q),1),r(W()({},a.name,ee))}else r(W()({},a.name,[].concat(fe()(h),[Q])));else r(W()({},a.name,h.includes(Q)?void 0:Q))},se=function(){r(W()({},a.name,b.map(function(Q){return Q.value}))),D()},xe=function(){r(W()({},a.name,void 0)),Z()},ie=b.filter(function(E){return!F||sa(F,E)||h.includes(E.value)});F&&F.length>0&&(ie=ie.sort(ca(h)));var je=(0,t.jsxs)(t.Fragment,{children:[m&&(0,t.jsx)(Ue.Z,{ref:k,value:F,onChange:K,onFocus:function(){return re(!0)},onBlur:function(){return re(!1)},placeholder:G?void 0:p,addonBefore:(0,t.jsx)("div",{className:"wand__inline-filter__search-input__icon-wrapper",children:(0,t.jsx)(jn.Z,{src:Qr,height:15})}),className:"wand__inline-filter__search-input ".concat(G||F?"wand__inline-filter__search-input--is-focused":"")}),(0,t.jsxs)("div",{className:"wand__inline-filter__options-container",children:[v&&!F&&(0,t.jsx)("div",{className:"wand__inline-filter__option ".concat(M?"wand__inline-filter__option--is-selected":""),onClick:M?xe:se,children:(0,t.jsxs)(V.Z,{children:[(0,t.jsx)(he.Z,{indeterminate:y,checked:M}),C]})},"select-all"),ie.map(function(E){return(0,t.jsx)("div",{className:"wand__inline-filter__option ".concat(h!=null&&h.includes(E.value)?"wand__inline-filter__option--is-selected":""),onClick:function(){return ce(E.value)},children:(0,t.jsxs)(V.Z,{children:[v&&(0,t.jsx)(he.Z,{checked:h==null?void 0:h.includes(E.value)}),E.children||E.label]})},E.value)})]})]});return(0,t.jsx)(Ie.Z,{showArrow:!1,open:L,content:je,placement:"bottom",onOpenChange:U,trigger:"click",overlayClassName:"wand__inline-filter__popover",children:(0,t.jsx)("div",{className:"wand__inline-filter__filter ".concat(h.length>0?"wand__inline-filter__filter--filled":""," ").concat(h.length>0||L?"wand__inline-filter__filter--focused":""),children:(0,t.jsxs)(V.Z,{children:[(0,t.jsxs)("span",{className:"wand__inline-filter__label",children:[a.label,h.length>0&&!v&&(0,t.jsxs)("span",{children:["\xA0:\xA0",(e=b.find(function(E){return E.value===h[0]}))===null||e===void 0?void 0:e.label]})]}),h.length>0&&v?(0,t.jsx)(Wr.Z,{className:"wand__inline-filter__badge",count:h.length}):a.icon]})})})},Nn=da,ua=Object.defineProperty,Mn=Object.getOwnPropertySymbols,fa=Object.prototype.hasOwnProperty,va=Object.prototype.propertyIsEnumerable,bn=(o,n,e)=>n in o?ua(o,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[n]=e,ga=(o,n)=>{for(var e in n||(n={}))fa.call(n,e)&&bn(o,e,n[e]);if(Mn)for(var e of Mn(n))va.call(n,e)&&bn(o,e,n[e]);return o};const Oa=o=>React.createElement("svg",ga({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},o),React.createElement("path",{d:"M0 71.5C0 49.7 17.7 32 39.5 32h433c21.8 0 39.5 17.7 39.5 39.5 0 9.2-3.2 18.1-9.1 25.2L320 317.8v128.3c0 18.7-15.2 33.9-33.9 33.9-7.5 0-14.8-2.5-20.8-7.1l-61-47.4c-7.8-6.1-12.4-15.4-12.4-25.3v-82.4L9.1 96.7C3.2 89.6 0 80.7 0 71.5zM39.5 64c-4.2 0-7.5 3.4-7.5 7.5 0 1.8.6 3.4 1.7 4.8l186.6 225.5c2.4 2.9 3.7 6.5 3.7 10.2v88.2l61 47.4c.3.3.7.4 1.1.4 1 0 1.9-.8 1.9-1.9V312c0-3.7 1.3-7.3 3.7-10.2L478.3 76.3c1.1-1.3 1.7-3 1.7-4.8 0-4.2-3.4-7.5-7.5-7.5h-433z"}));var ma="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuNC4wIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIzIEZvbnRpY29ucywgSW5jLi0tPjxwYXRoIGQ9Ik0wIDcxLjVDMCA0OS43IDE3LjcgMzIgMzkuNSAzMmg0MzNjMjEuOCAwIDM5LjUgMTcuNyAzOS41IDM5LjUgMCA5LjItMy4yIDE4LjEtOS4xIDI1LjJMMzIwIDMxNy44djEyOC4zYzAgMTguNy0xNS4yIDMzLjktMzMuOSAzMy45LTcuNSAwLTE0LjgtMi41LTIwLjgtNy4xbC02MS00Ny40Yy03LjgtNi4xLTEyLjQtMTUuNC0xMi40LTI1LjN2LTgyLjRMOS4xIDk2LjdDMy4yIDg5LjYgMCA4MC43IDAgNzEuNXpNMzkuNSA2NGMtNC4yIDAtNy41IDMuNC03LjUgNy41IDAgMS44LjYgMy40IDEuNyA0LjhsMTg2LjYgMjI1LjVjMi40IDIuOSAzLjcgNi41IDMuNyAxMC4ydjg4LjJsNjEgNDcuNGMuMy4zLjcuNCAxLjEuNCAxIDAgMS45LS44IDEuOS0xLjlWMzEyYzAtMy43IDEuMy03LjMgMy43LTEwLjJMNDc4LjMgNzYuM2MxLjEtMS4zIDEuNy0zIDEuNy00LjggMC00LjItMy40LTcuNS03LjUtNy41aC00MzN6Ii8+PC9zdmc+",pa=function(n){var e=n.schema,a=n.icon,i=a===void 0?(0,t.jsx)(jn.Z,{src:ma,height:15}):a,r=n.text,d=r===void 0?"Filters":r,l=n.selectAllText,g=l===void 0?"All filters":l,f=n.cancelText,v=f===void 0?"Cancel":f,s=n.okText,m=s===void 0?"Valider":s,x=n.value,p=n.onChange,c=e.filter(function(L){return L.name&&(L.toggleable||L.toggleable===void 0)}),C=(0,N.useState)(!1),I=P()(C,2),b=I[0],A=I[1],h=(0,Sn.Z)(c.map(function(L){return L.name}),x||[]),j=h.selected,M=h.unSelect,y=h.setSelected,Z=h.select,D=h.noneSelected,w=h.partiallySelected,R=h.unSelectAll,B=h.selectAll,F=function(U){j.includes(U)?M(U):Z(U)},H=function(){A(!1),y(x||[])},O=function(){A(!1),p(j)},J=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"wand__inline-filter__options-container",children:[(0,t.jsx)("div",{className:"wand__inline-filter__option ".concat(D?"wand__inline-filter__option--is-selected":""),onClick:D?B:R,children:(0,t.jsxs)(V.Z,{children:[(0,t.jsx)(he.Z,{indeterminate:w,checked:D}),g]})},"select-all"),c.map(function(L){return(0,t.jsx)("div",{className:"wand__inline-filter__option ".concat(j!=null&&j.includes(L.name)?"":"wand__inline-filter__option--is-selected"),onClick:function(_){return F(L.name)},children:(0,t.jsxs)(V.Z,{children:[(0,t.jsx)(he.Z,{checked:!(j!=null&&j.includes(L.name))}),L.icon,L.title||L.label]})},L.name)})]}),(0,t.jsx)("div",{className:"wand__inline-filter__footer",children:(0,t.jsxs)(V.Z,{size:"small",children:[(0,t.jsx)($.Z,{type:"text",onClick:H,children:v}),(0,t.jsx)($.Z,{type:"primary",onClick:O,children:m})]})})]});return(0,t.jsx)(Ie.Z,{showArrow:!1,open:b,content:J,placement:"bottom",onOpenChange:A,trigger:"click",overlayClassName:"wand__inline-filter__popover",children:(0,t.jsx)("div",{className:"wand__filter-toggler__button",children:(0,t.jsxs)(V.Z,{children:[d,(0,t.jsx)("span",{className:"wand__filter-toggler__icon",children:i})]})})})},ha=pa,xa=function(n){var e=n.schema,a=n.value,i=n.delay,r=i===void 0?200:i,d=n.resetText,l=n.toggle,g=n.onReset,f=(0,ve.Z)(l!=null&&l.key?"".concat(l==null?void 0:l.key,"-filters"):"filter-toggle"),v=P()(f,2),s=v[0],m=v[1],x=(0,N.useState)(a),p=P()(x,2),c=p[0],C=p[1],I=(0,Qe.Z)(function(y){n.onChange&&n.onChange(y)},{wait:r}),b=I.run;(0,N.useEffect)(function(){C(a)},[a]);var A=function(Z){C(Z),b(Z)},h=function(Z){return A((0,ne.omit)(S()(S()({},c),Z),l?s:[]))},j=function(Z){m(Z),A((0,ne.omit)(S()({},c),l?Z:[]))},M=e;return l&&s&&s.length>0&&(M=M.filter(function(y){return y.toggleable!==void 0&&!y.toggleable||!s.includes(y.name)})),(0,t.jsxs)(V.Z,{style:{width:"100%"},wrap:!0,children:[M.map(function(y){var Z=la[y.input.type]||Nn;return(0,t.jsx)(Z,{field:y,value:Array.isArray(y.name)?y.name.reduce(function(D,w){return D[w]=c[w],D},{}):c[y.name],onChange:h},Array.isArray(y.name)?y.name.join("--"):y.name)}),l&&(0,t.jsx)(ha,S()({schema:e,value:s,onChange:j},l||{})),g&&(0,t.jsx)($.Z,{type:"text",onClick:g,children:d||"Reset filters"})]})},ja=xa},24654:function(){}}]);
