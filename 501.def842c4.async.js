(self.webpackChunk_9troisquarts_wand=self.webpackChunk_9troisquarts_wand||[]).push([[501],{90095:function(Ya,Ge,d){"use strict";d.r(Ge),d.d(Ge,{AutoLink:function(){return kt},CSVNotice:function(){return Sn},ContextMenu:function(){return ar},DropdownTag:function(){return cr},ExcelsiorImportModal:function(){return Wr},ExcelsiorImportModalContent:function(){return Hr},InlineFilters:function(){return La},ModelDefinition:function(){return Je},NtqToolbar:function(){return Cr},NtqToolbarProvider:function(){return ur},capitalize:function(){return rt},castAttributesFromDefinition:function(){return ve},memoOnlyForKeys:function(){return it},nl2br:function(){return de},useGraphqlModel:function(){return Qr},useI18n:function(){return Zr},useSearchFilters:function(){return nn},useTableList:function(){return yt}});var ke=d(27484),k=d.n(ke),_n=d(56176),Vn=d.n(_n),Yn=d(56690),Le=d.n(Yn),Bn=d(89728),Pe=d.n(Bn),Hn=d(38416),X=d.n(Hn),Wn=d(62620),$e=d.n(Wn),Gn=d(13218),kn=d.n(Gn),$n=d(57557),Xe=d.n($n),Xn=d(1469),De=d.n(Xn),Qn=d(14293),ce=d.n(Qn),Jn=d(30381),Ce=d.n(Jn),Ie=function(e){return parseFloat(e.toString().replace(/\,/g,"."))},Kn={skipUndefinedKeys:!0},fe=function(e,n){if(!ce()(n))switch(e.toLowerCase()){case"float":return Ie(n);case"integer":return parseInt(n,10);case"string":return typeof n=="string"?n:n.toString();case"date":var r=n;return!k().isDayjs(r)&&!Ce().isMoment(r)&&(r=k()(r)),r.isValid()?r.format("YYYY-MM-DD"):null;case"datetime":var a=n;return!k().isDayjs(a)&&!Ce().isMoment(a)&&(r=k()(a)),a.isValid()?a.format():null;case"password":case"files":case"file":return n||void 0;default:return n}},Qe=function(e,n){var r,a,i,c,l;switch(e.toLowerCase()){case"files":return n.filter(function(g){return g instanceof File});case"file":return n;case"location":return{location:{formattedAddress:(n==null||(r=n.location)===null||r===void 0?void 0:r.formattedAddress)||(n==null?void 0:n.formattedAddress),lat:n!=null&&(a=n.location)!==null&&a!==void 0&&a.lat||n!=null&&n.lat?Ie(((i=n.location)===null||i===void 0?void 0:i.lat)||(n==null?void 0:n.lat)):void 0,lng:n!=null&&(c=n.location)!==null&&c!==void 0&&c.lng||n!=null&&n.lat?Ie(((l=n.location)===null||l===void 0?void 0:l.lng)||(n==null?void 0:n.lng)):void 0},proximity:n.proximity?parseInt(n.proximity,10):void 0};case"boolean":return n?n==="true"||n==="1"||n:null;case"float":return Ie(n);case"integer":return parseInt(n,10);case"string":return typeof n=="string"?n:n.toString();case"datetime":case"date":return k().isDayjs(n)||Ce().isMoment(n)?n:k()(n);default:return n}},qn=function(e,n){var r={};return $e()(e,function(a,i){Array.isArray(a)&&!ce()(n[i])?r[i]=n[i].map(function(c){return Qe(a[0],c)}):ce()(n[i])||(r[i]=Qe(a,n[i]))}),r};function Te(o,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Kn,r={};return $e()(o,function(a,i){if(kn()(a)){if(a.type==="Places"){var c,l,g,v,y,u,x,j,p,f,C,A,I,s,h,m,b,N,F,O;if(r[((c=a.options)===null||c===void 0?void 0:c.formattedAddress)||i]=(l=e[i])===null||l===void 0?void 0:l.formattedAddress,r[((g=a.options)===null||g===void 0?void 0:g.city)||"city"]=(v=e[i])===null||v===void 0?void 0:v.city,r[((y=a.options)===null||y===void 0?void 0:y.lat)||"lat"]=(u=e[i])===null||u===void 0?void 0:u.lat,r[((x=a.options)===null||x===void 0?void 0:x.lng)||"lng"]=(j=e[i])===null||j===void 0?void 0:j.lng,(p=a.options)!==null&&p!==void 0&&p.countryIso&&(r[((f=a.options)===null||f===void 0?void 0:f.countryIso)||"countryIso"]=(C=e[i])===null||C===void 0?void 0:C.countryIso),(A=a.options)!==null&&A!==void 0&&A.country&&(r[((I=a.options)===null||I===void 0?void 0:I.country)||"country"]=(s=e[i])===null||s===void 0?void 0:s.country),(h=a.options)!==null&&h!==void 0&&h.administrativeLevelOne&&(r[a.options.administrativeLevelOne]=(m=e[i])===null||m===void 0||(b=m.administrativeAreaLevels)===null||b===void 0||(N=b.find(function(E){return E.types.includes("administrative_area_level_1")}))===null||N===void 0?void 0:N.long_name),(F=a.options)!==null&&F!==void 0&&F.administrativeLevelTwo){var U,D,w;r[a.options.administrativeLevelTwo]=(U=e[i])===null||U===void 0||(D=U.administrativeAreaLevels)===null||D===void 0||(w=D.find(function(E){return E.types.includes("administrative_area_level_2")}))===null||w===void 0?void 0:w.long_name}if((O=a.options)!==null&&O!==void 0&&O.zipCode){var T;r[a.options.zipCode]=(T=e[i])===null||T===void 0?void 0:T.zipCode}}else if(De()(a)&&!ce()(e[i]))r[i]=e[i].map(function(E){return fe(a[0],E)});else if(!ce()(e[i])){var R=e[i];R&&(r["".concat(i,"Attributes")]=De()(R)?R.map(function(E){return Te(a,E)}):Te(a,R))}}else if(ce()(e[i]))a!=="password"&&a!=="nested"&&a!=="id"&&a!=="Attachment"&&(!n.skipUndefinedKeys||e.hasOwnProperty(i))&&(r[i]=null);else switch(a.toLowerCase()){case"attachment":e[i].id&&(r["".concat(i,"Id")]=e[i].id);break;case"files":e[i]&&(r[i]=fe("Files",e[i]));break;case"file":e[i]&&e[i]instanceof File&&(r[i]=fe("File",e[i]));break;case"password":e[i]&&(r[i]=fe("String",e[i]));break;case"nested":e[i]&&(r["".concat(i,"Attributes")]=De()(e[i])?e[i].map(function(E){return Xe()(E,["__typename"])}):Xe()(e[i],["__typename"]));break;default:r[i]=fe(a.toLowerCase(),e[i]);break}}),r}var ve=Te,et={skipUndefinedKeys:!0},nt=function(){function o(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:et;Le()(this,o),X()(this,"definition",void 0),X()(this,"options",void 0),this.definition=e,this.options=n}return Pe()(o,[{key:"parse",value:function(n){return ve(this.definition,n,this.options)}}]),o}(),Je=nt,tt=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},rt=tt,re=d(96486),at=function(e){return function(n,r){return!e.some(function(a){return!(0,re.isEqual)(n[a],r[a])})}},it=at,M=d(67294),ot=d(92742),lt=d.n(ot),t=d(85893),st=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(typeof e!="string"||!e.includes(`
`))return e;var r=e.split(`
`).filter(function(a){return lt()(a).length>0});return r.map(function(a,i){return(0,t.jsxs)(M.Fragment,{children:[a,(i<r.length-1||n)&&(0,t.jsx)("br",{})]},"line".concat(i))})},de=st,ct=d(42122),S=d.n(ct),dt=d(27424),Z=d.n(dt),Ke=d(40902),ut=d(51589),ft=d.n(ut),vt=d(861),ge=d.n(vt),gt=d(18698),qe=d.n(gt),me=d(65885),en=d(85980),mt=d(38018),pt=d(80129),ht=d.n(pt),xt=function o(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.entries(e).reduce(function(r,a){var i=Z()(a,2),c=i[0],l=i[1];return l&&(qe()(l)==="object"?r.push.apply(r,ge()(o(l,[].concat(ge()(n),[c])))):r.push([[].concat(ge()(n),[c]),l])),r},[])},jt=function(e,n){var r=n||{},a=r.updateLocation,i=a===void 0?!1:a,c=r.enabled,l=c===void 0?!0:c,g=r.debug,v=g===void 0?!1:g,y=r.definition,u=y===void 0?void 0:y,x=r.defaultSearch,j=x===void 0?{}:x,p=r.history;if(!l)return{};var f=(0,me.Z)("".concat(e,"-page"),1),C=Z()(f,2),A=C[0],I=C[1],s=(0,me.Z)("".concat(e,"-per-page"),25),h=Z()(s,2),m=h[0],b=h[1],N=(0,me.Z)(e,{defaultValue:j}),F=Z()(N,2),O=F[0],U=F[1],D=O||{};(0,M.useEffect)(function(){if(i){var L=ht().parse(location.search.replace("?",""));if(L){var z=Object.keys(L).map(function(Y){return L[Y]}).filter(Boolean);z.length>0&&U(u?S()({},ve(u,L)):S()({},L))}}},[]);var w=function(z){var Y=S()(S()({},O),z),V=S()(S()({},O),z);if(u){var q=new Je(u);Y=q.parse(Y)}if(v&&console.table({parameters:Y,original:z,definition:u}),U(Y),i){var J,G=xt(V).map(function(ee){var ie=Z()(ee,2),ue=ft()(ie[0]),le=ue[0],Se=ue.slice(1),_=ie[1];return"".concat(le).concat(Se.map(function($){return"[".concat($,"]")}).join(""),"=").concat(_)}).join("&");I(1);var H=((J=window.location)===null||J===void 0?void 0:J.pathname)+"?"+G;p&&p.push(H)}},T=function(){U({}),i&&p&&p.push(window.location.pathname)},R=function(z,Y){if(I(m!==Y?1:z),b(Y),i){var V,q=Object.keys(D||{}).reduce(function(G,H){return k().isDayjs(D[H])&&(G[H]=D[H].format("YYYY-MM-DD")),Ce().isMoment(D[H])?G[H]=D[H].format("YYYY-MM-DD"):G[H]=D[H],G},{}),J=((V=window.location)===null||V===void 0?void 0:V.pathname)+"?"+mt.stringify(S()(S()({},q),{},{page:z,perPage:Y}),{arrayFormat:"bracket",skipNull:!0});p&&p.replace(J)}},E=(0,en.Z)(w,{wait:500}),K=E.run;return{search:u?qn(u,D):D,page:A?parseInt(A):1,perPage:m?parseInt(m):10,onPageChange:R,onReset:T,set:U,onChange:K}},nn=jt;function St(o,e,n){var r=e.query,a=e.debug,i=a===void 0?!1:a,c=e.resetPaginationOnComplete,l=c===void 0?!0:c,g=e.paginate,v=g===void 0?!0:g,y=e.onCompleted,u=n||{},x=u.params,j=x===void 0?{}:x,p=(0,M.useState)(j||{}),f=Z()(p,2),C=f[0],A=f[1],I=nn((n==null?void 0:n.key)||o,{debug:i,enabled:!!n,defaultSearch:(n==null?void 0:n.defaultSearch)||{},updateLocation:(n==null?void 0:n.updateLocation)||!1,history:n==null?void 0:n.history,definition:n==null?void 0:n.definition}),s=I.search,h=I.onChange,m=I.onReset,b=(0,M.useState)(!1),N=Z()(b,2),F=N[0],O=N[1],U=(0,M.useState)({pageSize:25,page:1}),D=Z()(U,2),w=D[0],T=D[1],R=(0,Ke.a)(r,{fetchPolicy:"cache-and-network",variables:S()(S()({perPage:w.pageSize,page:w.page},n?{search:n.definition?ve(n.definition,S()(S()({},s||{}),C)):S()(S()({},s),C)}:{}),e.variables||{}),onCompleted:function(ee){O(!1),l&&F&&T(S()(S()({},w),{},{page:1})),y&&y(ee)}}),E=R.data,K=R.loading,L=R.refetch,z=E?E[o]||{}:{},Y;v?Y=z[o]||[]:Y=E?E[o]:[];var V=v?z.pagination||{}:{},q=function(ee,ie){T({page:ee,pageSize:ie})},J=V?{current:V.page,pageSize:V.perPage||25,total:V.total,showSizeChanger:!1,onChange:q}:!1,G=function(ee){O(!0),h&&h(ee)};return{records:Y,data:E,loading:K,pagination:J,search:s,onSearchChange:G,setExtraParams:A,refetch:L,onReset:m}}var yt=St,Ct=d(61655),It=d.n(Ct),Mt=d(26389),Nt=d.n(Mt),At=/^[A-Za-z][-.+A-Za-z0-9]+:/,bt=/^[A-Za-z][-.+A-Za-z0-9]+:\/\//,Zt=/:[^\s]*?[A-Za-z]/,Lt=/^[\w]\/\//;function Pt(o,e,n){return!(e&&!Dt(e)||Tt(o,e)||Ft(o,e)||wt(n))}function Dt(o){var e=o.match(At)[0].toLowerCase();return e!=="javascript:"&&e!=="vbscript:"}function Tt(o,e){return!!o&&(!e||!bt.test(e))&&o.indexOf(".")===-1}function Ft(o,e){return o&&e?!Zt.test(o):!1}function wt(o){return!!o&&Lt.test(o)}var Et=/^(https?:\/\/)?(www\.)?/i,zt=/^mailto:/,Ot=/^\/\//,Ut=function(){function o(e,n,r,a,i,c){Le()(this,o),this._url=e,this._protocolMailtoMatch=n,this._protocolUrlMatch=r,this._protocolRelativeMatch=a,this.position=i,this.disableUrlStripping=c,this.protocolPrepended=!1}return Pe()(o,[{key:"getUrl",value:function(){var n=this._url;return!this._protocolMailtoMatch&&!this._protocolRelativeMatch&&!this._protocolUrlMatch&&!this.protocolPrepended&&(n=this._url="http://"+n,this.protocolPrepended=!0),n}},{key:"getAnchorHref",value:function(){var n=this.getUrl();return n.replace(/&amp;/g,"&")}},{key:"getAnchorText",value:function(){var n=this.getUrl();return this.disableUrlStripping||(this._protocolRelativeMatch&&(n=this.stripProtocolRelativePrefix(n)),this._protocolMailtoMatch&&(n=this.stripMailtoPrefix(n)),n=this.stripUrlPrefix(n),n=this.removeTrailingSlash(n)),n}},{key:"stripUrlPrefix",value:function(n){return n.replace(Et,"")}},{key:"stripMailtoPrefix",value:function(n){return n.replace(zt,"")}},{key:"stripProtocolRelativePrefix",value:function(n){return n.replace(Ot,"")}},{key:"removeTrailingSlash",value:function(n){return n.charAt(n.length-1)==="/"&&(n=n.slice(0,-1)),n}}]),o}(),tn=/(?:[A-Za-z][-.+A-Za-z0-9]+:(?![A-Za-z][-.+A-Za-z0-9]+:\/\/)(?!\d+\/?)(?:\/\/)?)/,Rt=/(?:www\.)/,Fe=/[A-Za-z0-9.-]*[A-Za-z0-9-]/,_t=/(?:(?:[^<>()\\[\]\\.,;:\s@"]+(?:\.[^<>()\\[\]\\.,;:\s@"]+)*)|(?:".+"))@(?:(?:\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(?:(?:[a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/,Vt=/\.(?:international|construction|contractors|enterprises|photography|productions|foundation|immobilien|industries|management|properties|technology|christmas|community|directory|education|equipment|institute|marketing|solutions|vacations|bargains|boutique|builders|catering|cleaning|clothing|computer|democrat|diamonds|graphics|holdings|lighting|partners|plumbing|supplies|training|ventures|academy|careers|company|cruises|domains|exposed|flights|florist|gallery|guitars|holiday|kitchen|neustar|okinawa|recipes|rentals|reviews|shiksha|singles|support|systems|agency|berlin|camera|center|coffee|condos|dating|estate|events|expert|futbol|kaufen|luxury|maison|monash|museum|nagoya|photos|repair|report|social|supply|tattoo|tienda|travel|viajes|villas|vision|voting|voyage|actor|build|cards|cheap|codes|dance|email|glass|house|mango|ninja|parts|photo|shoes|solar|today|tokyo|tools|watch|works|aero|arpa|asia|best|bike|blue|buzz|camp|club|cool|coop|farm|fish|gift|guru|info|jobs|kiwi|kred|land|limo|link|menu|mobi|moda|name|pics|pink|post|qpon|rich|ruhr|sexy|tips|vote|voto|wang|wien|wiki|zone|bar|bid|biz|cab|cat|ceo|com|edu|gov|int|kim|mil|net|onl|org|pro|pub|red|tel|uno|wed|xxx|xyz|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)\b/,Yt=/[-A-Za-z0-9+&@#/%=~_()|'$*[\]?!:,.;]*[-A-Za-z0-9+&@#/%=~_()|'$*[\]]/,Bt=/^(.)?\/\//,Ht=["(?:","(",tn.source,_t.source,")","|","(",tn.source,Fe.source,")","|","(?:","(.?//)?",Rt.source,Fe.source,")","|","(?:","(.?//)?",Fe.source,Vt.source,")",")","(?:"+Yt.source+")?"].join("");function Wt(o){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=new RegExp(Ht,"gi"),r=[],a;(a=n.exec(o))!==null;){var i=a,c=Z()(i,5),l=c[0],g=c[1],v=c[2],y=c[3],u=c[4],x=y||u;if(x){var j=x.match(Bt)[1]||"";j&&(l=l.slice(1),a.index++)}if(Pt(l,v,x)){var p={start:a.index,end:n.lastIndex};r.push(new Ut(l,g,v,x,p,e))}}return r}var Gt=function(o){It()(n,o);var e=Nt()(n);function n(){return Le()(this,n),e.apply(this,arguments)}return Pe()(n,[{key:"prepareElements",value:function(a,i){var c=this,l=[],g=0;return a.forEach(function(v){v.position.start!==0&&l.push(M.createElement("span",{},de(i.slice(g,v.position.start),!0))),l.push(M.createElement("a",Object.assign({},{href:v.getAnchorHref()},c.props.linkProps),de(v.getAnchorText(),!0))),g=v.position.end}),g<i.length&&l.push(M.createElement("span",{},de(i.slice(g),!0))),l}},{key:"truncate",value:function(a){var i=this;if(!this.props.maxLength)return a;var c=[],l=0;return a.some(function(g){if(l+=g.props.children.length,l>i.props.maxLength){var v=g.props.children.slice(0,-(l-i.props.maxLength));return c.push(M.cloneElement(g,{},v)),!0}c.push(g)}),c}},{key:"keyElements",value:function(a){return a.map(function(i,c){return M.cloneElement(i,{key:c})})}},{key:"render",value:function(){var a=this.props.text||"",i=this.keyElements(this.truncate(this.prepareElements(Wt(a,this.props.disableUrlStripping),a)));return M.createElement("span",{},i)}}]),n}(M.Component),kt=Gt,$t=d(70215),we=d.n($t),Xt=d(59400),ae=d.n(Xt),Ee=d(13013),Qt=Object.defineProperty,rn=Object.getOwnPropertySymbols,Jt=Object.prototype.hasOwnProperty,Kt=Object.prototype.propertyIsEnumerable,an=(o,e,n)=>e in o?Qt(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n,qt=(o,e)=>{for(var n in e||(e={}))Jt.call(e,n)&&an(o,n,e[n]);if(rn)for(var n of rn(e))Kt.call(e,n)&&an(o,n,e[n]);return o};const Ba=o=>React.createElement("svg",qt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 512"},o),React.createElement("path",{d:"M64 360c30.9 0 56 25.1 56 56s-25.1 56-56 56-56-25.1-56-56 25.1-56 56-56zm0-160c30.9 0 56 25.1 56 56s-25.1 56-56 56-56-25.1-56-56 25.1-56 56-56zm56-104c0 30.9-25.1 56-56 56S8 126.9 8 96s25.1-56 56-56 56 25.1 56 56z"}));var er="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjggNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMi4xIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLi0tPjxwYXRoIGQ9Ik02NCAzNjBjMzAuOSAwIDU2IDI1LjEgNTYgNTZzLTI1LjEgNTYtNTYgNTYtNTYtMjUuMS01Ni01NiAyNS4xLTU2IDU2LTU2em0wLTE2MGMzMC45IDAgNTYgMjUuMSA1NiA1NnMtMjUuMSA1Ni01NiA1Ni01Ni0yNS4xLTU2LTU2IDI1LjEtNTYgNTYtNTZ6bTU2LTEwNGMwIDMwLjktMjUuMSA1Ni01NiA1NlM4IDEyNi45IDggOTZzMjUuMS01NiA1Ni01NiA1NiAyNS4xIDU2IDU2eiIvPjwvc3ZnPg==",pe=d(18872),nr=["size","className"],on,ln,sn,tr=(0,pe.iv)(on||(on=ae()([`
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background-color: transparent;
  padding: 5px;
  transition: all 0.1s linear;
  &:hover {
    background-color: #f5f5f5;
    cursor: pointer;
  }
`]))),cn={default:"35",small:"25"},rr=function(e){var n=e.size,r=n===void 0?"default":n,a=e.className,i=a===void 0?"":a,c=we()(e,nr),l=typeof r=="number"?"".concat(r,"px"):"".concat(cn[r]||cn.default,"px");return(0,t.jsx)(Ee.Z,S()(S()({className:"".concat(i," wand-dropdown-menu"),trigger:["click"]},c),{},{children:(0,t.jsx)("span",{className:"".concat(tr," ").concat((0,pe.iv)(ln||(ln=ae()([`
          height: `,`;
          width: `,`;
          border-radius: `,`;
        `])),l,l,l)," wand-context-menu-handler"),children:(0,t.jsx)("img",{className:`
          `.concat((0,pe.iv)(sn||(sn=ae()([`
            width: 4px;
          `]))),`
        `),src:er})})}))},ar=rr,ir=d(55047),or=d(20550),B=d(26713),lr=["options","children","value","style","className","undefinedText","onChange"],sr=function(e){var n=e.options,r=e.children,a=e.value,i=e.style,c=i===void 0?{}:i,l=e.className,g=l===void 0?"":l,v=e.undefinedText,y=v===void 0?"Undefined":v,u=e.onChange,x=we()(e,lr),j=n.filter(function(C){return C.value!==a}).map(function(C){return{key:C.value,label:C.label}}),p=a?n.find(function(C){return C.value===a}):null,f=function(A){var I=A.key;return u(I)};return(0,t.jsx)(Ee.Z,{menu:{items:j,onClick:f},children:(0,t.jsx)(or.Z,S()(S()({className:g,style:c},x),{},{children:(0,t.jsxs)(B.Z,{children:[r||(p==null?void 0:p.label)||y,(0,t.jsx)(ir.Z,{})]})}))})},cr=sr,ze=d(72683),Me=(0,M.createContext)(null),Oe={i18n:{debug:!1,preventDefault:!1}},dr=function(e){var n=e.enabled,r=n===void 0?!0:n,a=e.impersonation,i=a===void 0?!1:a,c=e.baseUrl,l=c===void 0?"/ntq_tools":c,g=(0,me.Z)("ntq-toolbar-config",Oe),v=Z()(g,2),y=v[0],u=v[1],x=function(f,C){return u(S()(S()(S()({},Oe),y||{}),{},{i18n:S()(S()({},(y||{}).i18n||{}),{},X()({},f,C))}))},j=S()(S()(S()({},Oe),y||{}),{},{onI18nConfigChange:x,impersonation:i,baseUrl:l});return r?(0,t.jsx)(Me.Provider,{value:j,children:e.children}):e.children},ur=dr,W={switch:"un701VxxH7QOoCJ8TkOj","ant-switch-checked":"YsUnohMotq4ZUgIPgRRj",tag:"DaKehT1yfgv44VV_APp8",pill:"SbcaIkXpI2wkyMlTr7Yf",enabled:"WdVoI0O0EtsEiuCGsZHx",disabled:"Szti7exhmg68DHdKnyw4",impersonationPopover:"VEprbR4o2o4OWRUNZa0q",popoverContent:"U3NidYOJcestZM0OiHC3",popoverLoading:"egeTzFsBQiI966OAVW4d",impersonationModelName:"f3jtA5j028D4ROm9ZeqU",user:"r7CXMc7AoWkcgIclJORc",padded:"Qdbi2O787U3qivoMbytV",userGroup:"t9pH0AqaMogt5R8nYd9h"},fr=d.p+"static/logo.457bc401.png",he=d(11382),vr=d(71230),dn=d(15746),Ne=d(55241),gr={headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}},mr=function(e){var n=(0,M.useContext)(Me),r=(0,M.useState)(!1),a=Z()(r,2),i=a[0],c=a[1],l=(0,M.useState)(!1),g=Z()(l,2),v=g[0],y=g[1],u=(0,M.useState)(),x=Z()(u,2),j=x[0],p=x[1],f=function(m){m?(c(!0),j?c(!0):(y(!0),fetch("".concat(n.baseUrl,"/impersonation/users.json"),S()({},gr)).then(function(b){return b.json()}).then(function(b){var N=b.data;p(N),y(!1)}).catch(function(){y(!1)}))):c(!1)},C=function(m,b){window.location.href="".concat(n.baseUrl,"/impersonation/").concat(m,"/").concat(b.id,"/sign_in")},A=Object.keys(j||{}).filter(function(h){var m;return!(n!=null&&(m=n.impersonation)!==null&&m!==void 0&&m.userTypes)||n.impersonation.userTypes.includes(h)}),I=A.length>0,s=(0,t.jsxs)(t.Fragment,{children:[v&&(0,t.jsx)("div",{className:W.popoverLoading,children:(0,t.jsx)(he.Z,{})}),!v&&j&&(0,t.jsx)("div",{className:W.popoverContent,children:A.map(function(h){return(0,t.jsxs)(vr.Z,{className:W.userGroup,children:[I&&(0,t.jsx)(dn.Z,{className:W.impersonationModelName,span:24,children:h}),j[h].map(function(m){return(0,t.jsx)(dn.Z,{className:"".concat(W.user," ").concat(I?W.padded:""),span:24,onClick:function(){return C(h,m)},children:m.label},m.id)})]},h)})})]});return(0,t.jsx)(Ne.Z,{trigger:["click"],open:i,content:s,onOpenChange:f,placement:"bottom",arrowPointAtCenter:!0,children:(0,t.jsx)("span",{className:W.tag,children:"Connexion utilisateur"})})},pr=mr,un,fn,vn,gn,hr=ze.Z.div(un||(un=ae()([`
  position: fixed;
  top: 0;
  background-color: #000;
  display: flex;
  height: 50px;
  width: 100%;
  color: white;
  padding: 0 16px;
  z-index: 100000000;
`]))),xr=ze.Z.div(fn||(fn=ae()([`
  display: flex;
  margin-left: auto;
  align-items: center;
`]))),jr=ze.Z.div(vn||(vn=ae()([`
  display: flex;
  align-items: center;
`]))),mn=(0,pe.iv)(gn||(gn=ae()([`
  .ant-layout-header,
  .ant-layout-sider {
    margin-top: 50px;
  }
`]))),Sr="/ntq_tools",yr=function(e){var n,r,a,i=e.enabled,c=i===void 0?!0:i,l=(0,M.useContext)(Me);if(!c)return null;var g=function(){fetch("".concat(Sr,"/translation/refresh"))};(0,M.useEffect)(function(){if(c)return document.body.classList.add(mn),document.body.classList.add("ntq-toolbar-enabled"),function(){return document.body.classList.remove(mn)}});var v=function(x){return function(){return l.onI18nConfigChange(x,l!=null&&l.i18n?!l.i18n[x]:!0)}},y=[{label:(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"".concat(W.pill," ").concat(l!=null&&(n=l.i18n)!==null&&n!==void 0&&n.debug?W.enabled:W.disabled)}),"Live"]}),key:"debug",onClick:function(){var x;return v("debug")(!(l!=null&&(x=l.i18n)!==null&&x!==void 0&&x.debug))}},{label:(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"".concat(W.pill," ").concat(l!=null&&(r=l.i18n)!==null&&r!==void 0&&r.preventDefault?W.enabled:W.disabled)}),"Prevent default"]}),key:"preventDefault",onClick:function(){var x;return v("preventDefault")(!(l!=null&&(x=l.i18n)!==null&&x!==void 0&&x.preventDefault))}},{label:(0,t.jsx)("span",{children:"Refresh translations"}),key:"refresh",onClick:g}];return(0,t.jsxs)(hr,{children:[(0,t.jsx)(jr,{children:(0,t.jsx)("img",{src:fr,width:"30"})}),(0,t.jsx)(xr,{children:(0,t.jsxs)(B.Z,{children:[!!(l!=null&&l.impersonation)&&(0,t.jsx)(pr,{}),(0,t.jsx)(Ee.Z,{menu:{items:y},trigger:["hover"],children:(0,t.jsxs)("span",{className:"".concat(W.tag),onClick:v("debug"),children:[(0,t.jsx)("span",{className:"".concat(W.pill," ").concat(l!=null&&(a=l.i18n)!==null&&a!==void 0&&a.debug?W.enabled:W.disabled)}),"Traduction live"]})})]})})]})},Cr=yr,Ir=d(84847),Ue=d(56264),Re=d(69677),Q=d(71577),Mr=["count"],pn,hn="/ntq_tools",xn={headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}},Nr=(0,pe.iv)(pn||(pn=ae()([`
  font-style: italic;
  color: #4527a0;
  text-decoration-line: underline;
  text-decoration-style: dashed;
  &:hover {
    color: #4527a0;
  }
`]))),Ar=function(e){var n=e.translationKey,r=e.preventDefault,a=(0,M.useState)(!1),i=Z()(a,2),c=i[0],l=i[1],g=(0,M.useState)(e.value),v=Z()(g,2),y=v[0],u=v[1],x=(0,M.useState)(!1),j=Z()(x,2),p=j[0],f=j[1],C=function(){fetch("".concat(hn,"/translation"),S()(S()({},xn),{},{method:"PUT",body:JSON.stringify({key:n,value:y})})).then(function(m){return m.json()}).then(function(m){var b=m.data;b&&l(!1)})},A=c?(0,t.jsx)("div",{style:{minWidth:150,minHeight:75},children:p?(0,t.jsx)("div",{style:{height:75,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)(he.Z,{})}):(0,t.jsxs)("div",{children:[(0,t.jsx)(Re.Z.TextArea,{value:y,onChange:function(m){var b=m.target.value;return u(b)},autoSize:!0}),(0,t.jsx)("div",{style:{marginTop:10,textAlign:"right"},children:(0,t.jsx)(Q.Z,{onClick:C,size:"small",type:"primary",children:"Modifier"})})]})}):null,I=function(m){l(m),f(!0),fetch("".concat(hn,"/translation?key=").concat(n),xn).then(function(b){return b.json()}).then(function(b){var N=b.data;u(N),f(!1)})},s=function(m){r&&m.stopPropagation()};return(0,t.jsx)(Ne.Z,{title:p?null:n,content:A,open:c,trigger:"click",onOpenChange:I,children:(0,t.jsx)("a",{onClick:s,className:Nr,children:e.value||n})})},br=function(e){var n=e||{},r=n.debug,a=r===void 0?!1:r,i=(0,M.useContext)(Me),c=(0,Ir.Z)(),l=function(u){return c.formatMessage({id:u})!==u},g=function(u){var x,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=j.count,f=we()(j,Mr),C=u;if(j&&j.count!==void 0){var A="zero";j.count>1?A="other":j.count===1&&(A="one"),C="".concat(u,".").concat(A)}C=(0,Ue.decamelize)(C);var I=c.formatMessage({id:C},j);if(a||i!=null&&(x=i.i18n)!==null&&x!==void 0&&x.debug){var s;return(0,t.jsx)(Ar,{translationKey:C,value:I,preventDefault:i==null||(s=i.i18n)===null||s===void 0?void 0:s.preventDefault})}return I},v=function(u,x){return g("activerecord.attributes.".concat((0,Ue.decamelize)(u),".").concat((0,Ue.decamelize)(x)))};return{t:g,translate:g,tAttribute:v,isTranslated:l}},Zr=br,jn={container:"ux2_qjNZthMeMslgWP2R",item:"k5GBX5RFIiUIq1fasqpb"},Lr=function(e){var n=e.header,r=e.values,a=e.description;return(0,t.jsxs)(B.Z,{align:"start",className:"".concat(jn.item," wand-csv-notice-item"),children:[(0,t.jsx)("code",{children:n}),(0,t.jsxs)("div",{children:[de(a),r&&r.length>0&&(0,t.jsx)("ul",{children:r.map(function(i){var c=i.value,l=i.description;return(0,t.jsx)("li",{children:(0,t.jsxs)(B.Z,{children:[(0,t.jsx)("strong",{children:c}),l]})},c)})})]})]},n)},Pr=function(e){var n=e.schema,r=n===void 0?[]:n;return(0,t.jsx)("div",{className:"".concat(jn.container," wand-csv-notice-container"),children:(0,t.jsx)(B.Z,{direction:"vertical",style:{width:"100%"},children:r.map(function(a){return(0,t.jsx)(Lr,S()({},a),a.header)})})})},Sn=Pr,Dr=d(23680),Tr=d(69309),yn=d(2482),ne=d(2587),_e=d(16757),Fr=d(85402),wr=d(79718),Er=function(e){var n=e.configuration,r=e.importType,a=e.defaultValue,i=a===void 0?void 0:a,c=e.defaultImportFile,l=c===void 0?void 0:c,g=(0,M.useState)(!1),v=Z()(g,2),y=v[0],u=v[1],x=(0,M.useState)(i),j=Z()(x,2),p=j[0],f=j[1],C=(0,M.useState)(l),A=Z()(C,2),I=A[0],s=A[1],h=function(w){var T;return w?(T=n.client)===null||T===void 0?void 0:T.get("/".concat(n.rootUrl,"/imports/").concat(w)):new Promise(function(R,E){return R({})})},m=(0,wr.Z)(h,{pollingInterval:3e3,pollingWhenHidden:!0,manual:!0,onSuccess:function(w){w.id&&s(w)}}),b=m.run,N=m.cancel,F=function(w){var T=new FormData;return T.append("file",w,w.name),n.client&&n.client.post("/".concat(n.rootUrl,"/imports/").concat(r),T,{headers:{"Content-Type":"multipart/form-data"}}).then(function(R){return R.id&&(b(R.id),s(R)),!1}),!1};(0,M.useEffect)(function(){n.client&&n.client.get("/".concat(n.rootUrl,"/importers/").concat(r)).then(function(D){f(D)})},[r]),(0,M.useEffect)(function(){["checked","imported"].includes(I==null?void 0:I.state)&&N()},[I==null?void 0:I.state]);var O=function(){s(void 0),u(!1),N()},U=function(){n.client&&(N(),s(S()(S()({},I),{},{state:"importing"})),n.client.put("/".concat(n.rootUrl,"/imports/").concat(I.id),{to_state:"import"}).then(function(w){w.id&&(b(w.id),s(w))}))};return{loading:y,importer:p,importFile:I,onImport:F,onProcessImport:U,onReset:O}},zr=Er,Ae={descriptions:"MHJ6za7mLjIFQZVdbgb8",label:"JNi1IaAyOABvuOXyeW0z",required:"k7g_8q77vuMd09rEHDBX",checkDescriptions:"cZDwyf6DcWzNZBFNCKwl",actions:"_bu6DPtaXGUWtHz6I2fX",sampleFileLink:"Df9K6V6SyUolWL794UtS"},Ve=d(84273),Or=Dr.Z.Dragger,xe={rootUrl:"excelsior"},Ur=function(e){return e?e.state==="pending"||e.state==="buffering"?{status:"progress",icon:(0,t.jsx)(Ve.Z,{})}:{status:"finish"}:{status:"progress"}},Rr=function(e){return e?e.state==="checking"?{status:"progress",icon:(0,t.jsx)(Ve.Z,{})}:["buffered","checked","importing","imported"].includes(e.state)?{status:"finish"}:{status:"wait"}:{status:"wait"}},_r=function(e){return e?e.state==="importing"?{status:"progress",icon:(0,t.jsx)(Ve.Z,{})}:e.state==="imported"?{status:"finish"}:{status:"wait"}:{status:"wait"}},Cn=function(e){var n,r,a,i,c=e.importType,l=e.allowImportOnError,g=l===void 0?!1:l,v=e.debug,y=v===void 0?!1:v,u=e.onCancel,x=e.onCompleted,j=zr({configuration:xe,importType:c,defaultImporter:e.importer,defaultImportFile:e.importFile,onCompleted:x}),p=j.importer,f=j.importFile,C=j.onReset,A=j.onImport,I=j.onProcessImport;y&&(console.log("importer",p),console.log("importFile",f));var s=e.translate||xe.translate,h=[S()({title:s?s("excelsior_modal.upload_file"):"Upload file"},Ur(f)),S()({title:s?s("excelsior_modal.verify_file"):"Verify file"},Rr(f)),S()({title:s?s("excelsior_modal.import_file"):"Import file"},_r(f))],m=(0,t.jsx)(Tr.Z,{style:{paddingRight:30,marginBottom:16},items:h});if(!f||["buffering","buffered","pending"].includes(f.state))return(0,t.jsxs)(t.Fragment,{children:[m,(0,t.jsx)(he.Z,{delay:200,spinning:["buffering","pending"].includes(f==null?void 0:f.state),tip:s?s("excelsior_modal.uploading_file"):"Uploading...",children:(0,t.jsxs)(B.Z,{direction:"vertical",style:{width:"100%"},children:[p.description&&(0,t.jsx)(yn.Z.Paragraph,{children:de(p.description)}),(0,t.jsx)(Or,{name:"file",showUploadList:!1,multiple:!1,beforeUpload:A,children:(0,t.jsx)("p",{className:"ant-upload-hint",children:s?s("excelsior_modal.upload_format"):"Upload a .xlsx or a .csv file"})}),p&&p.notice&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(yn.Z.Title,{style:{marginBottom:0},level:5,children:(0,t.jsxs)(B.Z,{children:[s?s("excelsior_modal.expected_columns"):"Expected cols",p.sample_file&&(0,t.jsx)("a",{className:Ae.sampleFileLink,href:p.sample_file,target:"_blank",children:s?s("excelsior_modal.download_sample_file"):"Download sample file"})]})}),(0,t.jsx)(Sn,{schema:p.notice})]})]})})]});if(["checking","checked"].includes(f.state))return(0,t.jsxs)(t.Fragment,{children:[m,(0,t.jsxs)(he.Z,{delay:200,spinning:["checking"].includes(f==null?void 0:f.state),tip:s?s("excelsior_modal.checking_file"):"Checking...",children:[(0,t.jsxs)(ne.Z,{bordered:!0,className:Ae.checkDescriptions,size:"small",colon:!1,layout:"vertical",column:4,children:[(0,t.jsx)(ne.Z.Item,{span:4,label:s?s("excelsior_modal.number_of_error_lines"):"Error lines count",children:f.state==="checking"?"":f.errors_count.toLocaleString()}),(0,t.jsx)(ne.Z.Item,{span:4,label:s?s("excelsior_modal.number_of_success_lines"):"Correct lines count",children:f.state==="checking"?"":f.success_count.toLocaleString()}),(0,t.jsx)(ne.Z.Item,{span:2,label:s?s("excelsior_modal.number_of_creation"):"Create",children:f.state==="checking"?"":f.create_count.toLocaleString()}),(0,t.jsx)(ne.Z.Item,{span:2,label:s?s("excelsior_modal.number_of_update"):"Update",children:f.state==="checking"?"":f.update_count.toLocaleString()})]}),(0,t.jsx)("div",{className:Ae.actions,children:(0,t.jsxs)(B.Z,{children:[(0,t.jsx)(Q.Z,{onClick:u,type:"text",children:s?s("excelsior_modal.cancel"):"Cancel"}),(0,t.jsx)(Q.Z,{onClick:I,type:"primary",children:s?s("excelsior_modal.import"):"Import"})]})})]})]});var b=(0,t.jsxs)(ne.Z,{bordered:!0,className:Ae.checkDescriptions,size:"small",colon:!1,layout:"vertical",column:4,children:[(0,t.jsx)(ne.Z.Item,{span:4,label:s?s("excelsior_modal.number_of_error_lines"):"Error lines count",children:((n=f.errors_count)===null||n===void 0?void 0:n.toLocaleString())||"0"}),(0,t.jsx)(ne.Z.Item,{span:4,label:s?s("excelsior_modal.number_of_success_lines"):"Correct lines count",children:((r=f.success_count)===null||r===void 0?void 0:r.toLocaleString())||"0"}),(0,t.jsx)(ne.Z.Item,{span:2,label:s?s("excelsior_modal.number_of_creation"):"Create",children:((a=f.create_count)===null||a===void 0?void 0:a.toLocaleString())||"0"}),(0,t.jsx)(ne.Z.Item,{span:2,label:s?s("excelsior_modal.number_of_update"):"Update",children:((i=f.update_count)===null||i===void 0?void 0:i.toLocaleString())||"0"})]});return["importing","imported"].includes(f.state)?(0,t.jsxs)(t.Fragment,{children:[m,(0,t.jsxs)(he.Z,{delay:200,spinning:["importing"].includes(f==null?void 0:f.state),tip:s?s("excelsior_modal.importing_file"):"Importing...",children:[f.state=="imported"&&(0,t.jsx)(_e.ZP,{status:"success",title:s?s("excelsior_modal.file_successfully_imported"):"File successfully importer",extra:[(0,t.jsx)(Q.Z,{type:"text",onClick:u,children:s?s("excelsior_modal.finish_and_close"):"Finish and close"},"reset"),(0,t.jsx)(Q.Z,{type:"primary",onClick:C,children:s?s("excelsior_modal.new_import"):"New import"},"close")]}),b]})]}):f.state==="error"?f.error_message=="header_not_found"?(0,t.jsx)(_e.ZP,{status:"error",title:s?s("excelsior_modal.missing_header"):"Error",subTitle:(0,t.jsxs)("div",{children:[s?s("excelsior_modal.following_headers_are_missing"):"Error",":\xA0",(f.missing_headers||[]).join(", ")]}),extra:[(0,t.jsx)(Q.Z,{type:"text",onClick:u,children:s?s("excelsior_modal.finish_and_close"):"Finish and close"},"reset"),(0,t.jsx)(Q.Z,{type:"primary",onClick:C,children:s?s("excelsior_modal.new_import"):"New import"},"close")]}):(0,t.jsxs)(t.Fragment,{children:[m,(0,t.jsx)(_e.ZP,{status:"error",title:s?s("excelsior_modal.error_on_file"):"Error",subTitle:f.error_file?(0,t.jsx)("a",{href:f.error_file,target:"_blank",children:s?s("excelsior_modal.click_here_for_download_error_file"):"Error"}):null,extra:[(0,t.jsx)(Q.Z,{type:"text",onClick:u,children:s?s("excelsior_modal.finish_and_close"):"Finish and close"},"reset"),(0,t.jsx)(Q.Z,{type:"primary",onClick:C,children:s?s("excelsior_modal.new_import"):"New import"},"close")]})]}):(0,t.jsx)("div",{children:m})},Vr=function(e){var n=e.open,r=e.translate,a=e.onCancel,i=e.title;return n?(0,t.jsx)(Fr.Z,{open:!0,width:1e3,footer:!1,title:i,onCancel:a,children:(0,t.jsx)(Cn,S()({translate:r},e))}):null},Yr=function(e){return xe=S()(S()({},xe),e),xe},Br=Vr,In=Br;In.configure=Yr;var Hr=Cn,Wr=In,Gr=d(12576),be=d(50319),kr=d(13448),Mn,$r=function(e){kr.Z[e.type||"open"]({message:e.message,description:null,placement:"bottomRight",duration:2})},Ye=function(e){var n=e.data;if(n){var r=Object.keys(n);r.forEach(function(a){var i;(((i=n[a])===null||i===void 0?void 0:i.flashMessages)||[]).forEach(function(c){$r(JSON.parse(c))})})}return e},Ze=function(e,n,r,a){var i,c,l=r?(i=r.definitions.find(function(v){return v.kind==="FragmentDefinition"&&v.name.kind==="Name"}))===null||i===void 0||(c=i.name)===null||c===void 0?void 0:c.value:void 0,g=(a==null?void 0:a.inputName)||"".concat((0,re.upperFirst)(n)).concat((0,re.upperFirst)(e),"Input");return(0,Gr.Ps)(Mn||(Mn=ae()([`
    mutation `,"($input: ",`!) {
      `,`(input: $input) {
        `,` {
          ...`,`
        }
        `,`
      }
    }
    `,`
  `])),a.mutationName,g,a.mutationName,e,l,a.flashMessages?"flashMessages":"",r)};function Xr(o,e){var n=e.flashMessages,r=n===void 0?!1:n,a=e.definition,i=e.queries,c=i===void 0?{}:i,l=c.fetch,g=e.defaultMutationNames,v=g===void 0?{}:g,y=e.defaultInputNames,u=y===void 0?{}:y,x=e.mutations,j=x===void 0?{}:x,p=e.fragment,f=j.create,C=v.create||"create".concat((0,re.upperFirst)(o));if(!f&&p){var A;u&&(typeof u=="function"?A=u("create",o):u.create&&(A=u.create)),f=Ze(o,"create",p,{inputName:A,flashMessages:r,mutationName:C})}var I=j.update,s=v.update||"update".concat((0,re.upperFirst)(o));if(!I&&p){var h;u&&(typeof u=="function"?h=u("update",o):u.update&&(h=u.update)),I=Ze(o,"update",p,{inputName:h,flashMessages:r,mutationName:s})}var m=j.delete,b=v.delete||"delete".concat((0,re.upperFirst)(o));if(!m&&p){var N;u&&(typeof u=="function"?N=u("delete",o):u.delete&&(N=u.delete)),m=Ze(o,"delete",p,{inputName:N,flashMessages:r,mutationName:b})}var F=j.import,O=v.import||"import".concat((0,re.upperFirst)(o),"s");if(!F&&p){var U;u&&(typeof u=="function"?U=u("import",o):u.delete&&(U=u.import)),F=Ze(o,"import",p,{inputName:U,flashMessages:r,mutationName:O})}return function(D,w){var T=w||{},R=T.mutationOptions,E=R===void 0?{}:R,K=T.fetch,L=K===void 0?!1:K,z=T.singleton,Y=z===void 0?!1:z,V=T.queries,q=a&&(Object.values(a).includes("File")||Object.values(a).includes("Files")),J=function(oe){return console.log(oe)},G=l||V!=null&&V.fetch?(0,Ke.a)((V==null?void 0:V.fetch)||l,S()({variables:{id:D},skip:!L||!D&&!Y||!l,fetchPolicy:"cache-and-network",onError:J},qe()(L)==="object"?L:{})):{},H=G.data,ee=H===void 0?{}:H,ie=G.loading,ue=ie===void 0?!1:ie,le=G.refetch,Se=le===void 0?void 0:le,_=ee[o]||{},$=(0,M.useState)(void 0),te=Z()($,2),Pa=te[0],Be=te[1];(0,M.useEffect)(function(){Be(void 0)},[D]);var Da=f?(0,be.D)(f,S()(S()({},E||{}),{},{context:{hasUpload:q}})):[],Fn=Z()(Da,2),wn=Fn[0],Ta=Fn[1].loading,Fa=I?(0,be.D)(I,S()(S()({},E||{}),{},{context:{hasUpload:q}})):[],En=Z()(Fa,2),zn=En[0],wa=En[1].loading,Ea=m?(0,be.D)(m,S()({},E||{})):[],za=Z()(Ea,1),On=za[0],Oa=F?(0,be.D)(F,S()({},E||{})):[],Ua=Z()(Oa,1),Un=Ua[0],Ra=function(oe,P){var ye=a||P!=null&&P.definition?ve((P==null?void 0:P.definition)||a,oe):oe;e.debug&&console.log("attributes",ye);var se=function(We){var Rn=We.recordErrors;r&&Ye(We),Be(Rn||void 0),P!=null&&P.onCompleted&&P.onCompleted(We)};D||P!=null&&P.id||Y?zn&&zn({variables:{input:S()({id:D||(P==null?void 0:P.id),attributes:ye},(P==null?void 0:P.variables)||{})},onCompleted:se}):wn&&wn({variables:{input:S()({attributes:ye},(P==null?void 0:P.variables)||{})},onCompleted:se})},_a=function(oe,P){e.debug&&console.log("DELETE",oe),On&&On({variables:{input:{id:oe||P.id}},onCompleted:function(se){r&&Ye(se),P!=null&&P.onCompleted&&P.onCompleted(se)}})},Va=function(oe,P){Un&&Un({context:{hasUpload:!0},variables:{input:{file:oe}},onCompleted:function(se){r&&Ye(se),P!=null&&P.onCompleted&&P.onCompleted(se)}})};return{onSave:Ra,onDelete:_a,onImport:Va,refetch:Se,record:_,loading:ue,submitting:Ta||wa,errors:Pa}}}var Qr=Xr,Nn=d(80708),je=d(32808),Jr=d(63922),An=d(81757),Kr=Object.defineProperty,bn=Object.getOwnPropertySymbols,qr=Object.prototype.hasOwnProperty,ea=Object.prototype.propertyIsEnumerable,Zn=(o,e,n)=>e in o?Kr(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n,na=(o,e)=>{for(var n in e||(e={}))qr.call(e,n)&&Zn(o,n,e[n]);if(bn)for(var n of bn(e))ea.call(e,n)&&Zn(o,n,e[n]);return o};const Ha=o=>React.createElement("svg",na({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},o),React.createElement("path",{d:"M11.499 6.5a5 5 0 1 0-10 0 5 5 0 0 0 10 0Zm-.966 5.096A6.498 6.498 0 0 1 0 6.5C0 2.91 2.91 0 6.5 0a6.498 6.498 0 0 1 5.096 10.533l4.184 4.184a.75.75 0 0 1-1.06 1.06l-4.187-4.181Z",fill:"#343434"}));var ta="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTExLjQ5OSA2LjVhNSA1IDAgMSAwLTEwIDAgNSA1IDAgMCAwIDEwIDBabS0uOTY2IDUuMDk2QTYuNDk4IDYuNDk4IDAgMCAxIDAgNi41QzAgMi45MSAyLjkxIDAgNi41IDBhNi40OTggNi40OTggMCAwIDEgNS4wOTYgMTAuNTMzbDQuMTg0IDQuMTg0YS43NS43NSAwIDAgMS0xLjA2IDEuMDZsLTQuMTg3LTQuMTgxWiIgZmlsbD0iIzM0MzQzNCIvPjwvc3ZnPg==",ra=d(23638),Ln=function(e){if(e){if((0,ke.isDayjs)(e))return e;if(k()(e).isValid())return k()(e)}return e},aa=function(e){var n=e.field,r=e.value,a=e.onChange,i=n.input||{},c=i.inputProps,l=c===void 0?{}:c,g=(0,M.useState)(Ln(r)),v=Z()(g,2),y=v[0],u=v[1];(0,M.useEffect)(function(){u(Ln(r))},[r]);var x=function(p){u(p),a(X()({},n.name,p))};return(0,t.jsx)(ra.Z,S()(S()({},l),{},{placeholder:n.label,className:"wand__inline-filter__datepicker ".concat(y?"wand__inline-filter__datepicker--filled":""),value:y,onChange:x}))},ia=aa,oa=function(e){var n=e.field,r=e.value,a=e.onChange,i=n.input||{},c=i.inputProps,l=c===void 0?{}:c,g=l.placeholder,v=l.className,y=(0,M.useState)(!1),u=Z()(y,2),x=u[0],j=u[1],p=(0,M.useState)(r),f=Z()(p,2),C=f[0],A=f[1];(0,M.useEffect)(function(){r||A(void 0)},[r]);var I=function(m){A(m.target.value),a(X()({},n.name,m.target.value))},s=["wand__inline-filter__string-input",v,n.className,x||C&&C.length>0?"wand__inline-filter__string-input--is-focused":void 0].filter(Boolean);return(0,t.jsx)(Re.Z,{className:s.join(" "),onFocus:function(){return j(!0)},onBlur:function(){return j(!1)},style:n.style||{},value:C,onChange:I,addonBefore:n.icon,placeholder:g})},la=oa,sa=function(e){var n=e.field,r=e.value,a=e.onChange,i=n.input||{},c=i.inputProps,l=c===void 0?{}:c,g=l.inverted,v=g===void 0?!1:g,y=l.className,u=l.text,x=(0,M.useState)(!1),j=Z()(x,2),p=j[0],f=j[1];(0,M.useEffect)(function(){f(r)},[r]);var C=function(I){f(!p),a(X()({},n.name,!p))};return(0,t.jsx)("div",{onClick:C,className:"wand__inline-filter__filter wand__inline-filter__boolean ".concat(p?"wand__inline-filter__boolean--checked":""),children:(0,t.jsxs)(B.Z,{children:[(0,t.jsx)(je.Z,{checked:p}),n.label]})})},ca=sa,da=d(75977),ua=d(45418),fa=(0,ua.default)(da.Z),va=fa.RangePicker,ga=function(e){var n=e.field,r=e.value,a=e.onChange,i=n.input||{},c=i.inputProps,l=c===void 0?{}:c,g=Z()(n.name,2),v=g[0],y=g[1],u=(0,M.useState)(r||{}),x=Z()(u,2),j=x[0],p=x[1];(0,M.useEffect)(function(){p(r||{})},[r]);var f=function(m){var b,N=(b={},X()(b,v,m?m[0]:void 0),X()(b,y,m?m[1]:void 0),b);a(N),p(N)},C=j[v];C&&!k().isDayjs(C)&&(C=k()(C).startOf("day"));var A=j[y];A&&!k().isDayjs(A)&&(A=k()(A).startOf("day"));var I=[C,A],s=I.filter(Boolean).length>0;return(0,t.jsx)(va,S()(S()({},l||{}),{},{className:"wand__inline-filter__datepicker ".concat(s?"wand__inline-filter__datepicker--filled":""),value:I,onChange:f}))},ma=ga,pa=function(){return(0,t.jsx)(B.Z,{children:"Render date"})},Wa=function(e){var n=e.field;return _jsx(Space,{children:n.label})},Ga={date:pa},ha={select:Pn,date:ia,string:la,boolean:ca,daterange:ma},xa=function(e,n){return n.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").indexOf(e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))>=0},ja=function(e){return function(n,r){return e.includes(n.value)&&!e.includes(r.value)?1:!e.includes(n.value)&&e.includes(r.value)?-1:0}},Sa=function(e){var n,r=e.field,a=e.value,i=e.onChange,c=(r==null?void 0:r.input)||{},l=c.inputProps,g=l===void 0?{}:l,v=g.multiple,y=v===void 0?!1:v,u=g.allowSearch,x=u===void 0?!0:u,j=g.searchPlaceholder,p=j===void 0?void 0:j,f=g.selectAllText,C=f===void 0?"All":f,A=g.options,I=A===void 0?[]:A,s=(0,An.Z)(I.map(function(_){return _.value}),a?Array.isArray(a||[])?a:[a]:[]),h=s.selected,m=s.setSelected,b=s.allSelected,N=s.partiallySelected,F=s.unSelectAll,O=s.selectAll,U=s.toggle,D=(0,M.useState)(void 0),w=Z()(D,2),T=w[0],R=w[1],E=(0,M.useState)(!1),K=Z()(E,2),L=K[0],z=K[1],Y=(0,M.useState)(!1),V=Z()(Y,2),q=V[0],J=V[1],G=(0,M.useRef)();(0,M.useEffect)(function(){m(a?Array.isArray(a||[])?a:[a]:[])},[a,y]),(0,M.useEffect)(function(){G&&G.current&&setTimeout(function(){G.current.select()},0)},[L]);var H=function($){var te;return R((te=$.target)===null||te===void 0?void 0:te.value)},ee=function($){if(y)if(h.includes($)){var te=ge()(h);te.splice(te.indexOf($),1),i(X()({},r.name,te))}else i(X()({},r.name,[].concat(ge()(h),[$])));else i(X()({},r.name,h.includes($)?void 0:$))},ie=function(){i(X()({},r.name,I.map(function($){return $.value}))),O()},ue=function(){i(X()({},r.name,void 0)),F()},le=I.filter(function(_){return!T||xa(T,_)||h.includes(_.value)});T&&T.length>0&&(le=le.sort(ja(h)));var Se=(0,t.jsxs)(t.Fragment,{children:[x&&(0,t.jsx)(Re.Z,{ref:G,value:T,onChange:H,onFocus:function(){return J(!0)},onBlur:function(){return J(!1)},placeholder:q?void 0:p,addonBefore:(0,t.jsx)("div",{className:"wand__inline-filter__search-input__icon-wrapper",children:(0,t.jsx)(Nn.Z,{src:ta,height:15})}),className:"wand__inline-filter__search-input ".concat(q||T?"wand__inline-filter__search-input--is-focused":"")}),(0,t.jsxs)("div",{className:"wand__inline-filter__options-container",children:[y&&!T&&(0,t.jsx)("div",{className:"wand__inline-filter__option ".concat(b?"wand__inline-filter__option--is-selected":""),onClick:b?ue:ie,children:(0,t.jsxs)(B.Z,{children:[(0,t.jsx)(je.Z,{indeterminate:N,checked:b}),C]})},"select-all"),le.map(function(_){return(0,t.jsx)("div",{className:"wand__inline-filter__option ".concat(h!=null&&h.includes(_.value)?"wand__inline-filter__option--is-selected":""),onClick:function(){return ee(_.value)},children:(0,t.jsxs)(B.Z,{children:[y&&(0,t.jsx)(je.Z,{checked:h==null?void 0:h.includes(_.value)}),_.children||_.label]})},_.value)})]})]});return(0,t.jsx)(Ne.Z,{showArrow:!1,open:L,content:Se,placement:"bottom",onOpenChange:z,trigger:"click",overlayClassName:"wand__inline-filter__popover",children:(0,t.jsx)("div",{className:"wand__inline-filter__filter ".concat(h.length>0?"wand__inline-filter__filter--filled":""," ").concat(h.length>0||L?"wand__inline-filter__filter--focused":""),children:(0,t.jsxs)(B.Z,{children:[(0,t.jsxs)("span",{className:"wand__inline-filter__label",children:[r.label,h.length>0&&!y&&(0,t.jsxs)("span",{children:["\xA0:\xA0",(n=I.find(function(_){return _.value===h[0]}))===null||n===void 0?void 0:n.label]})]}),h.length>0&&y?(0,t.jsx)(Jr.Z,{className:"wand__inline-filter__badge",count:h.length}):r.icon]})})})},Pn=Sa,ya=Object.defineProperty,Dn=Object.getOwnPropertySymbols,Ca=Object.prototype.hasOwnProperty,Ia=Object.prototype.propertyIsEnumerable,Tn=(o,e,n)=>e in o?ya(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n,Ma=(o,e)=>{for(var n in e||(e={}))Ca.call(e,n)&&Tn(o,n,e[n]);if(Dn)for(var n of Dn(e))Ia.call(e,n)&&Tn(o,n,e[n]);return o};const ka=o=>React.createElement("svg",Ma({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},o),React.createElement("path",{d:"M0 71.5C0 49.7 17.7 32 39.5 32h433c21.8 0 39.5 17.7 39.5 39.5 0 9.2-3.2 18.1-9.1 25.2L320 317.8v128.3c0 18.7-15.2 33.9-33.9 33.9-7.5 0-14.8-2.5-20.8-7.1l-61-47.4c-7.8-6.1-12.4-15.4-12.4-25.3v-82.4L9.1 96.7C3.2 89.6 0 80.7 0 71.5zM39.5 64c-4.2 0-7.5 3.4-7.5 7.5 0 1.8.6 3.4 1.7 4.8l186.6 225.5c2.4 2.9 3.7 6.5 3.7 10.2v88.2l61 47.4c.3.3.7.4 1.1.4 1 0 1.9-.8 1.9-1.9V312c0-3.7 1.3-7.3 3.7-10.2L478.3 76.3c1.1-1.3 1.7-3 1.7-4.8 0-4.2-3.4-7.5-7.5-7.5h-433z"}));var Na="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuNC4wIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIzIEZvbnRpY29ucywgSW5jLi0tPjxwYXRoIGQ9Ik0wIDcxLjVDMCA0OS43IDE3LjcgMzIgMzkuNSAzMmg0MzNjMjEuOCAwIDM5LjUgMTcuNyAzOS41IDM5LjUgMCA5LjItMy4yIDE4LjEtOS4xIDI1LjJMMzIwIDMxNy44djEyOC4zYzAgMTguNy0xNS4yIDMzLjktMzMuOSAzMy45LTcuNSAwLTE0LjgtMi41LTIwLjgtNy4xbC02MS00Ny40Yy03LjgtNi4xLTEyLjQtMTUuNC0xMi40LTI1LjN2LTgyLjRMOS4xIDk2LjdDMy4yIDg5LjYgMCA4MC43IDAgNzEuNXpNMzkuNSA2NGMtNC4yIDAtNy41IDMuNC03LjUgNy41IDAgMS44LjYgMy40IDEuNyA0LjhsMTg2LjYgMjI1LjVjMi40IDIuOSAzLjcgNi41IDMuNyAxMC4ydjg4LjJsNjEgNDcuNGMuMy4zLjcuNCAxLjEuNCAxIDAgMS45LS44IDEuOS0xLjlWMzEyYzAtMy43IDEuMy03LjMgMy43LTEwLjJMNDc4LjMgNzYuM2MxLjEtMS4zIDEuNy0zIDEuNy00LjggMC00LjItMy40LTcuNS03LjUtNy41aC00MzN6Ii8+PC9zdmc+",Aa=function(e){var n=e.schema,r=e.icon,a=r===void 0?(0,t.jsx)(Nn.Z,{src:Na,height:15}):r,i=e.text,c=i===void 0?"Filters":i,l=e.selectAllText,g=l===void 0?"All filters":l,v=e.cancelText,y=v===void 0?"Cancel":v,u=e.okText,x=u===void 0?"Valider":u,j=e.value,p=e.onChange,f=n.filter(function(L){return L.name&&(L.toggleable||L.toggleable===void 0)}),C=(0,M.useState)(!1),A=Z()(C,2),I=A[0],s=A[1],h=(0,An.Z)(f.map(function(L){return Array.isArray(L.name)?L.name.join("//="):L.name}),j||[]),m=h.selected,b=h.unSelect,N=h.setSelected,F=h.select,O=h.noneSelected,U=h.partiallySelected,D=h.unSelectAll,w=h.selectAll,T=function(z){m.includes(z)?b(z):F(z)},R=function(){s(!1),N(j||[])},E=function(){s(!1),p(m)},K=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"wand__inline-filter__options-container",children:[(0,t.jsx)("div",{className:"wand__inline-filter__option ".concat(O?"wand__inline-filter__option--is-selected":""),onClick:O?w:D,children:(0,t.jsxs)(B.Z,{children:[(0,t.jsx)(je.Z,{indeterminate:U,checked:O}),g]})},"select-all"),f.map(function(L){var z=Array.isArray(L.name)?L.name.join("//="):L.name;return(0,t.jsx)("div",{className:"wand__inline-filter__option ".concat(m!=null&&m.includes(z)?"":"wand__inline-filter__option--is-selected"),onClick:function(V){return T(z)},children:(0,t.jsxs)(B.Z,{children:[(0,t.jsx)(je.Z,{checked:!(m!=null&&m.includes(z))}),L.icon,L.title||L.label]})},z)})]}),(0,t.jsx)("div",{className:"wand__inline-filter__footer",children:(0,t.jsxs)(B.Z,{size:"small",children:[(0,t.jsx)(Q.Z,{type:"text",onClick:R,children:y}),(0,t.jsx)(Q.Z,{type:"primary",onClick:E,children:x})]})})]});return(0,t.jsx)(Ne.Z,{showArrow:!1,open:I,content:K,placement:"bottom",onOpenChange:s,trigger:"click",overlayClassName:"wand__inline-filter__popover",children:(0,t.jsx)("div",{className:"wand__filter-toggler__button",children:(0,t.jsxs)(B.Z,{children:[c,(0,t.jsx)("span",{className:"wand__filter-toggler__icon",children:a})]})})})},ba=Aa,Za=function(e){var n=e.schema,r=e.value,a=e.delay,i=a===void 0?200:a,c=e.resetText,l=e.toggle,g=e.onReset,v=(0,me.Z)(l!=null&&l.key?"".concat(l==null?void 0:l.key,"-filters"):"filter-toggle"),y=Z()(v,2),u=y[0],x=y[1],j=(0,M.useState)(r),p=Z()(j,2),f=p[0],C=p[1],A=(0,en.Z)(function(N){e.onChange&&e.onChange(N)},{wait:i}),I=A.run;(0,M.useEffect)(function(){C(r)},[r]);var s=function(F){C(F),I(F)},h=function(F){return s((0,re.omit)(S()(S()({},f),F),l?u:[]))},m=function(F){x(F),s((0,re.omit)(S()({},f),l?F:[]))},b=n;return l&&u&&u.length>0&&(b=b.filter(function(N){return N.toggleable!==void 0&&!N.toggleable||!u.includes(Array.isArray(N.name)?N.name.join("//="):N.name)})),(0,t.jsxs)(B.Z,{style:{width:"100%"},wrap:!0,children:[b.map(function(N){var F=ha[N.input.type]||Pn;return(0,t.jsx)(F,{field:N,value:Array.isArray(N.name)?N.name.reduce(function(O,U){return O[U]=f[U],O},{}):f[N.name],onChange:h},Array.isArray(N.name)?N.name.join("--"):N.name)}),l&&(0,t.jsx)(ba,S()({schema:n,value:u,onChange:m},l||{})),g&&(0,t.jsx)(Q.Z,{type:"text",onClick:g,children:c||"Reset filters"})]})},La=Za;k().extend(Vn()),k()().format("L LT")},24654:function(){}}]);
