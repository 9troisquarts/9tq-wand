(self.webpackChunk_9troisquarts_wand=self.webpackChunk_9troisquarts_wand||[]).push([[501],{90095:function(Fa,ke,u){"use strict";u.r(ke),u.d(ke,{AutoLink:function(){return Bt},CSVNotice:function(){return hn},ContextMenu:function(){return er},DropdownTag:function(){return ir},ExcelsiorImportModal:function(){return Yr},ExcelsiorImportModalContent:function(){return Vr},InlineFilters:function(){return Ca},ModelDefinition:function(){return Jn},NtqToolbar:function(){return xr},NtqToolbarProvider:function(){return lr},capitalize:function(){return qn},castAttributesFromDefinition:function(){return le},memoOnlyForKeys:function(){return nt},nl2br:function(){return Ce},useGraphqlModel:function(){return Gr},useI18n:function(){return Mr},useSearchFilters:function(){return Ke},useTableList:function(){return ht}});var _n=u(56690),Ze=u.n(_n),Un=u(89728),Le=u.n(Un),Rn=u(38416),W=u.n(Rn),Vn=u(62620),He=u.n(Vn),Yn=u(13218),Bn=u.n(Yn),kn=u(57557),We=u.n(kn),Hn=u(1469),Pe=u.n(Hn),Wn=u(14293),ce=u.n(Wn),Ge=u(30381),G=u.n(Ge),ye=function(n){return parseFloat(n.toString().replace(/\,/g,"."))},Gn={skipUndefinedKeys:!0},ue=function(n,e){if(!ce()(e))switch(n.toLowerCase()){case"float":return ye(e);case"integer":return parseInt(e,10);case"string":return typeof e=="string"?e:e.toString();case"date":var r=G().isMoment(e)?e:G()(e);return r.isValid()?r.format("YYYY-MM-DD"):null;case"datetime":var a=G().isMoment(e)?e:G()(e);return a.isValid()?a.format():null;case"password":case"files":case"file":return e||void 0;default:return e}},$e=function(n,e){var r,a,i,c,l;switch(n.toLowerCase()){case"files":return e.filter(function(v){return v instanceof File});case"file":return e;case"location":return{location:{formattedAddress:(e==null||(r=e.location)===null||r===void 0?void 0:r.formattedAddress)||(e==null?void 0:e.formattedAddress),lat:e!=null&&(a=e.location)!==null&&a!==void 0&&a.lat||e!=null&&e.lat?ye(((i=e.location)===null||i===void 0?void 0:i.lat)||(e==null?void 0:e.lat)):void 0,lng:e!=null&&(c=e.location)!==null&&c!==void 0&&c.lng||e!=null&&e.lat?ye(((l=e.location)===null||l===void 0?void 0:l.lng)||(e==null?void 0:e.lng)):void 0},proximity:e.proximity?parseInt(e.proximity,10):void 0};case"boolean":return e?e==="true"||e==="1"||e:null;case"float":return ye(e);case"integer":return parseInt(e,10);case"string":return typeof e=="string"?e:e.toString();case"datetime":case"date":return G().isMoment(e)?e:G()(e);default:return e}},$n=function(n,e){var r={};return He()(n,function(a,i){Array.isArray(a)&&!ce()(e[i])?r[i]=e[i].map(function(c){return $e(a[0],c)}):ce()(e[i])||(r[i]=$e(a,e[i]))}),r};function Te(o,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Gn,r={};return He()(o,function(a,i){if(Bn()(a)){if(a.type==="Places"){var c,l,v,g,y,d,x,j,p,f,C,M,I,s,h,m,A,N,T,O;if(r[((c=a.options)===null||c===void 0?void 0:c.formattedAddress)||i]=(l=n[i])===null||l===void 0?void 0:l.formattedAddress,r[((v=a.options)===null||v===void 0?void 0:v.city)||"city"]=(g=n[i])===null||g===void 0?void 0:g.city,r[((y=a.options)===null||y===void 0?void 0:y.lat)||"lat"]=(d=n[i])===null||d===void 0?void 0:d.lat,r[((x=a.options)===null||x===void 0?void 0:x.lng)||"lng"]=(j=n[i])===null||j===void 0?void 0:j.lng,(p=a.options)!==null&&p!==void 0&&p.countryIso&&(r[((f=a.options)===null||f===void 0?void 0:f.countryIso)||"countryIso"]=(C=n[i])===null||C===void 0?void 0:C.countryIso),(M=a.options)!==null&&M!==void 0&&M.country&&(r[((I=a.options)===null||I===void 0?void 0:I.country)||"country"]=(s=n[i])===null||s===void 0?void 0:s.country),(h=a.options)!==null&&h!==void 0&&h.administrativeLevelOne&&(r[a.options.administrativeLevelOne]=(m=n[i])===null||m===void 0||(A=m.administrativeAreaLevels)===null||A===void 0||(N=A.find(function(z){return z.types.includes("administrative_area_level_1")}))===null||N===void 0?void 0:N.long_name),(T=a.options)!==null&&T!==void 0&&T.administrativeLevelTwo){var E,w,F;r[a.options.administrativeLevelTwo]=(E=n[i])===null||E===void 0||(w=E.administrativeAreaLevels)===null||w===void 0||(F=w.find(function(z){return z.types.includes("administrative_area_level_2")}))===null||F===void 0?void 0:F.long_name}if((O=a.options)!==null&&O!==void 0&&O.zipCode){var D;r[a.options.zipCode]=(D=n[i])===null||D===void 0?void 0:D.zipCode}}else if(Pe()(a)&&!ce()(n[i]))r[i]=n[i].map(function(z){return ue(a[0],z)});else if(!ce()(n[i])){var U=n[i];U&&(r["".concat(i,"Attributes")]=Pe()(U)?U.map(function(z){return Te(a,z)}):Te(a,U))}}else if(ce()(n[i]))a!=="password"&&a!=="nested"&&a!=="id"&&a!=="Attachment"&&(!e.skipUndefinedKeys||n.hasOwnProperty(i))&&(r[i]=null);else switch(a.toLowerCase()){case"attachment":n[i].id&&(r["".concat(i,"Id")]=n[i].id);break;case"files":n[i]&&(r[i]=ue("Files",n[i]));break;case"file":n[i]&&n[i]instanceof File&&(r[i]=ue("File",n[i]));break;case"password":n[i]&&(r[i]=ue("String",n[i]));break;case"nested":n[i]&&(r["".concat(i,"Attributes")]=Pe()(n[i])?n[i].map(function(z){return We()(z,["__typename"])}):We()(n[i],["__typename"]));break;default:r[i]=ue(a.toLowerCase(),n[i]);break}}),r}var le=Te,Xn={skipUndefinedKeys:!0},Qn=function(){function o(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xn;Ze()(this,o),W()(this,"definition",void 0),W()(this,"options",void 0),this.definition=n,this.options=e}return Le()(o,[{key:"parse",value:function(e){return le(this.definition,e,this.options)}}]),o}(),Jn=Qn,Kn=function(n){return n.charAt(0).toUpperCase()+n.slice(1)},qn=Kn,ne=u(96486),et=function(n){return function(e,r){return!n.some(function(a){return!(0,ne.isEqual)(e[a],r[a])})}},nt=et,b=u(67294),tt=u(92742),rt=u.n(tt),t=u(85893),at=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(typeof n!="string"||!n.includes(`
`))return n;var r=n.split(`
`).filter(function(a){return rt()(a).length>0});return r.map(function(a,i){return(0,t.jsxs)(b.Fragment,{children:[a,(i<r.length-1||e)&&(0,t.jsx)("br",{})]},"line".concat(i))})},Ce=at,it=u(42122),S=u.n(it),ot=u(27424),L=u.n(ot),Xe=u(40902),lt=u(51589),st=u.n(lt),ct=u(861),fe=u.n(ct),dt=u(18698),Qe=u.n(dt),ve=u(65885),Je=u(85980),ut=u(38018),ft=u(80129),vt=u.n(ft),gt=function o(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.entries(n).reduce(function(r,a){var i=L()(a,2),c=i[0],l=i[1];return l&&(Qe()(l)==="object"?r.push.apply(r,fe()(o(l,[].concat(fe()(e),[c])))):r.push([[].concat(fe()(e),[c]),l])),r},[])},mt=function(n,e){var r=e||{},a=r.updateLocation,i=a===void 0?!1:a,c=r.enabled,l=c===void 0?!0:c,v=r.debug,g=v===void 0?!1:v,y=r.definition,d=y===void 0?void 0:y,x=r.defaultSearch,j=x===void 0?{}:x,p=r.history;if(!l)return{};var f=(0,ve.Z)("".concat(n,"-page"),1),C=L()(f,2),M=C[0],I=C[1],s=(0,ve.Z)("".concat(n,"-per-page"),25),h=L()(s,2),m=h[0],A=h[1],N=(0,ve.Z)(n,{defaultValue:j}),T=L()(N,2),O=T[0],E=T[1],w=O||{};(0,b.useEffect)(function(){if(i){var Z=vt().parse(location.search.replace("?",""));if(Z){var _=Object.keys(Z).map(function(Y){return Z[Y]}).filter(Boolean);_.length>0&&E(d?S()({},le(d,Z)):S()({},Z))}}},[]);var F=function(_){var Y=S()(S()({},O),_),V=S()(S()({},O),_);if(d&&(Y=le(d,Y),V=le(d,V,{skipDate:!0})),g&&console.table({parameters:Y,original:_,definition:d}),E(Y),i){var $,ae=gt(V).map(function(Q){var de=L()(Q,2),se=st()(de[0]),xe=se[0],ie=se.slice(1),je=de[1];return"".concat(xe).concat(ie.map(function(R){return"[".concat(R,"]")}).join(""),"=").concat(je)}).join("&");I(1);var H=(($=window.location)===null||$===void 0?void 0:$.pathname)+"?"+ae;p&&p.push(H)}},D=function(){E({}),i&&p&&p.push(window.location.pathname)},U=function(_,Y){if(I(m!==Y?1:_),A(Y),i){var V,$=Object.keys(w||{}).reduce(function(H,Q){return G().isMoment(w[Q])?H[Q]=w[Q].format("YYYY-MM-DD"):H[Q]=w[Q],H},{}),ae=((V=window.location)===null||V===void 0?void 0:V.pathname)+"?"+ut.stringify(S()(S()({},$),{},{page:_,perPage:Y}),{arrayFormat:"bracket",skipNull:!0});p&&p.replace(ae)}},z=(0,Je.Z)(F,{wait:500}),K=z.run;return{search:d?$n(d,w):w,page:M?parseInt(M):1,perPage:m?parseInt(m):10,onPageChange:U,onReset:D,set:E,onChange:K}},Ke=mt;function pt(o,n,e){var r=n.query,a=n.debug,i=a===void 0?!1:a,c=n.paginate,l=c===void 0?!0:c,v=n.refreshPageOnSearch,g=v===void 0?!0:v,y=e||{},d=y.params,x=d===void 0?{}:d,j=(0,b.useState)(x||{}),p=L()(j,2),f=p[0],C=p[1],M=Ke((e==null?void 0:e.key)||o,{debug:i,enabled:!!e,defaultSearch:(e==null?void 0:e.defaultSearch)||{},updateLocation:(e==null?void 0:e.updateLocation)||!1,history:e==null?void 0:e.history,definition:e==null?void 0:e.definition}),I=M.search,s=M.onChange,h=M.onReset,m=(0,b.useState)({pageSize:25,page:1}),A=L()(m,2),N=A[0],T=A[1],O=(0,Xe.a)(r,{fetchPolicy:"cache-and-network",variables:S()(S()({perPage:N.pageSize,page:N.page},e?{search:e.definition?le(e.definition,S()(S()({},I||{}),f)):S()(S()({},I),f)}:{}),n.variables||{}),onCompleted:function(){g&&T(S()(S()({},N),{},{page:1}))}}),E=O.data,w=O.loading,F=O.refetch,D=E?E[o]||{}:{},U;l?U=D[o]||[]:U=E?E[o]:[];var z=l?D.pagination||{}:{},K=function(V,$){T({page:V,pageSize:$})},Z=z?{current:z.page,pageSize:z.perPage||25,total:z.total,showSizeChanger:!1,onChange:K}:!1,_=function(V){s&&s(V)};return{records:U,data:E,loading:w,pagination:Z,search:I,onSearchChange:_,setExtraParams:C,refetch:F,onReset:h}}var ht=pt,xt=u(61655),jt=u.n(xt),St=u(26389),yt=u.n(St),Ct=/^[A-Za-z][-.+A-Za-z0-9]+:/,It=/^[A-Za-z][-.+A-Za-z0-9]+:\/\//,Mt=/:[^\s]*?[A-Za-z]/,Nt=/^[\w]\/\//;function bt(o,n,e){return!(n&&!At(n)||Zt(o,n)||Lt(o,n)||Pt(e))}function At(o){var n=o.match(Ct)[0].toLowerCase();return n!=="javascript:"&&n!=="vbscript:"}function Zt(o,n){return!!o&&(!n||!It.test(n))&&o.indexOf(".")===-1}function Lt(o,n){return o&&n?!Mt.test(o):!1}function Pt(o){return!!o&&Nt.test(o)}var Tt=/^(https?:\/\/)?(www\.)?/i,Dt=/^mailto:/,wt=/^\/\//,Et=function(){function o(n,e,r,a,i,c){Ze()(this,o),this._url=n,this._protocolMailtoMatch=e,this._protocolUrlMatch=r,this._protocolRelativeMatch=a,this.position=i,this.disableUrlStripping=c,this.protocolPrepended=!1}return Le()(o,[{key:"getUrl",value:function(){var e=this._url;return!this._protocolMailtoMatch&&!this._protocolRelativeMatch&&!this._protocolUrlMatch&&!this.protocolPrepended&&(e=this._url="http://"+e,this.protocolPrepended=!0),e}},{key:"getAnchorHref",value:function(){var e=this.getUrl();return e.replace(/&amp;/g,"&")}},{key:"getAnchorText",value:function(){var e=this.getUrl();return this.disableUrlStripping||(this._protocolRelativeMatch&&(e=this.stripProtocolRelativePrefix(e)),this._protocolMailtoMatch&&(e=this.stripMailtoPrefix(e)),e=this.stripUrlPrefix(e),e=this.removeTrailingSlash(e)),e}},{key:"stripUrlPrefix",value:function(e){return e.replace(Tt,"")}},{key:"stripMailtoPrefix",value:function(e){return e.replace(Dt,"")}},{key:"stripProtocolRelativePrefix",value:function(e){return e.replace(wt,"")}},{key:"removeTrailingSlash",value:function(e){return e.charAt(e.length-1)==="/"&&(e=e.slice(0,-1)),e}}]),o}(),qe=/(?:[A-Za-z][-.+A-Za-z0-9]+:(?![A-Za-z][-.+A-Za-z0-9]+:\/\/)(?!\d+\/?)(?:\/\/)?)/,Ft=/(?:www\.)/,De=/[A-Za-z0-9.-]*[A-Za-z0-9-]/,zt=/(?:(?:[^<>()\\[\]\\.,;:\s@"]+(?:\.[^<>()\\[\]\\.,;:\s@"]+)*)|(?:".+"))@(?:(?:\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(?:(?:[a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/,Ot=/\.(?:international|construction|contractors|enterprises|photography|productions|foundation|immobilien|industries|management|properties|technology|christmas|community|directory|education|equipment|institute|marketing|solutions|vacations|bargains|boutique|builders|catering|cleaning|clothing|computer|democrat|diamonds|graphics|holdings|lighting|partners|plumbing|supplies|training|ventures|academy|careers|company|cruises|domains|exposed|flights|florist|gallery|guitars|holiday|kitchen|neustar|okinawa|recipes|rentals|reviews|shiksha|singles|support|systems|agency|berlin|camera|center|coffee|condos|dating|estate|events|expert|futbol|kaufen|luxury|maison|monash|museum|nagoya|photos|repair|report|social|supply|tattoo|tienda|travel|viajes|villas|vision|voting|voyage|actor|build|cards|cheap|codes|dance|email|glass|house|mango|ninja|parts|photo|shoes|solar|today|tokyo|tools|watch|works|aero|arpa|asia|best|bike|blue|buzz|camp|club|cool|coop|farm|fish|gift|guru|info|jobs|kiwi|kred|land|limo|link|menu|mobi|moda|name|pics|pink|post|qpon|rich|ruhr|sexy|tips|vote|voto|wang|wien|wiki|zone|bar|bid|biz|cab|cat|ceo|com|edu|gov|int|kim|mil|net|onl|org|pro|pub|red|tel|uno|wed|xxx|xyz|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)\b/,_t=/[-A-Za-z0-9+&@#/%=~_()|'$*[\]?!:,.;]*[-A-Za-z0-9+&@#/%=~_()|'$*[\]]/,Ut=/^(.)?\/\//,Rt=["(?:","(",qe.source,zt.source,")","|","(",qe.source,De.source,")","|","(?:","(.?//)?",Ft.source,De.source,")","|","(?:","(.?//)?",De.source,Ot.source,")",")","(?:"+_t.source+")?"].join("");function Vt(o){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=new RegExp(Rt,"gi"),r=[],a;(a=e.exec(o))!==null;){var i=a,c=L()(i,5),l=c[0],v=c[1],g=c[2],y=c[3],d=c[4],x=y||d;if(x){var j=x.match(Ut)[1]||"";j&&(l=l.slice(1),a.index++)}if(bt(l,g,x)){var p={start:a.index,end:e.lastIndex};r.push(new Et(l,v,g,x,p,n))}}return r}var Yt=function(o){jt()(e,o);var n=yt()(e);function e(){return Ze()(this,e),n.apply(this,arguments)}return Le()(e,[{key:"prepareElements",value:function(a,i){var c=this,l=[],v=0;return a.forEach(function(g){g.position.start!==0&&l.push(b.createElement("span",{},Ce(i.slice(v,g.position.start),!0))),l.push(b.createElement("a",Object.assign({},{href:g.getAnchorHref()},c.props.linkProps),Ce(g.getAnchorText(),!0))),v=g.position.end}),v<i.length&&l.push(b.createElement("span",{},Ce(i.slice(v),!0))),l}},{key:"truncate",value:function(a){var i=this;if(!this.props.maxLength)return a;var c=[],l=0;return a.some(function(v){if(l+=v.props.children.length,l>i.props.maxLength){var g=v.props.children.slice(0,-(l-i.props.maxLength));return c.push(b.cloneElement(v,{},g)),!0}c.push(v)}),c}},{key:"keyElements",value:function(a){return a.map(function(i,c){return b.cloneElement(i,{key:c})})}},{key:"render",value:function(){var a=this.props.text||"",i=this.keyElements(this.truncate(this.prepareElements(Vt(a,this.props.disableUrlStripping),a)));return b.createElement("span",{},i)}}]),e}(b.Component),Bt=Yt,kt=u(70215),we=u.n(kt),Ht=u(59400),te=u.n(Ht),Ee=u(13013),Wt=Object.defineProperty,en=Object.getOwnPropertySymbols,Gt=Object.prototype.hasOwnProperty,$t=Object.prototype.propertyIsEnumerable,nn=(o,n,e)=>n in o?Wt(o,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[n]=e,Xt=(o,n)=>{for(var e in n||(n={}))Gt.call(n,e)&&nn(o,e,n[e]);if(en)for(var e of en(n))$t.call(n,e)&&nn(o,e,n[e]);return o};const za=o=>React.createElement("svg",Xt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 512"},o),React.createElement("path",{d:"M64 360c30.9 0 56 25.1 56 56s-25.1 56-56 56-56-25.1-56-56 25.1-56 56-56zm0-160c30.9 0 56 25.1 56 56s-25.1 56-56 56-56-25.1-56-56 25.1-56 56-56zm56-104c0 30.9-25.1 56-56 56S8 126.9 8 96s25.1-56 56-56 56 25.1 56 56z"}));var Qt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjggNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMi4xIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLi0tPjxwYXRoIGQ9Ik02NCAzNjBjMzAuOSAwIDU2IDI1LjEgNTYgNTZzLTI1LjEgNTYtNTYgNTYtNTYtMjUuMS01Ni01NiAyNS4xLTU2IDU2LTU2em0wLTE2MGMzMC45IDAgNTYgMjUuMSA1NiA1NnMtMjUuMSA1Ni01NiA1Ni01Ni0yNS4xLTU2LTU2IDI1LjEtNTYgNTYtNTZ6bTU2LTEwNGMwIDMwLjktMjUuMSA1Ni01NiA1NlM4IDEyNi45IDggOTZzMjUuMS01NiA1Ni01NiA1NiAyNS4xIDU2IDU2eiIvPjwvc3ZnPg==",ge=u(18872),Jt=["size","className"],tn,rn,an,Kt=(0,ge.iv)(tn||(tn=te()([`
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background-color: transparent;
  padding: 5px;
  transition: all 0.1s linear;
  &:hover {
    background-color: #f5f5f5;
    cursor: pointer;
  }
`]))),on={default:"35",small:"25"},qt=function(n){var e=n.size,r=e===void 0?"default":e,a=n.className,i=a===void 0?"":a,c=we()(n,Jt),l=typeof r=="number"?"".concat(r,"px"):"".concat(on[r]||on.default,"px");return(0,t.jsx)(Ee.Z,S()(S()({className:"".concat(i," wand-dropdown-menu"),trigger:["click"]},c),{},{children:(0,t.jsx)("span",{className:"".concat(Kt," ").concat((0,ge.iv)(rn||(rn=te()([`
          height: `,`;
          width: `,`;
          border-radius: `,`;
        `])),l,l,l)," wand-context-menu-handler"),children:(0,t.jsx)("img",{className:`
          `.concat((0,ge.iv)(an||(an=te()([`
            width: 4px;
          `]))),`
        `),src:Qt})})}))},er=qt,nr=u(55047),tr=u(20550),B=u(26713),rr=["options","children","value","style","className","undefinedText","onChange"],ar=function(n){var e=n.options,r=n.children,a=n.value,i=n.style,c=i===void 0?{}:i,l=n.className,v=l===void 0?"":l,g=n.undefinedText,y=g===void 0?"Undefined":g,d=n.onChange,x=we()(n,rr),j=e.filter(function(C){return C.value!==a}).map(function(C){return{key:C.value,label:C.label}}),p=a?e.find(function(C){return C.value===a}):null,f=function(M){var I=M.key;return d(I)};return(0,t.jsx)(Ee.Z,{menu:{items:j,onClick:f},children:(0,t.jsx)(tr.Z,S()(S()({className:v,style:c},x),{},{children:(0,t.jsxs)(B.Z,{children:[r||(p==null?void 0:p.label)||y,(0,t.jsx)(nr.Z,{})]})}))})},ir=ar,Fe=u(72683),Ie=(0,b.createContext)(null),ze={i18n:{debug:!1,preventDefault:!1}},or=function(n){var e=n.enabled,r=e===void 0?!0:e,a=n.impersonation,i=a===void 0?!1:a,c=n.baseUrl,l=c===void 0?"/ntq_tools":c,v=(0,ve.Z)("ntq-toolbar-config",ze),g=L()(v,2),y=g[0],d=g[1],x=function(f,C){return d(S()(S()(S()({},ze),y||{}),{},{i18n:S()(S()({},(y||{}).i18n||{}),{},W()({},f,C))}))},j=S()(S()(S()({},ze),y||{}),{},{onI18nConfigChange:x,impersonation:i,baseUrl:l});return r?(0,t.jsx)(Ie.Provider,{value:j,children:n.children}):n.children},lr=or,k={switch:"un701VxxH7QOoCJ8TkOj","ant-switch-checked":"YsUnohMotq4ZUgIPgRRj",tag:"DaKehT1yfgv44VV_APp8",pill:"SbcaIkXpI2wkyMlTr7Yf",enabled:"WdVoI0O0EtsEiuCGsZHx",disabled:"Szti7exhmg68DHdKnyw4",impersonationPopover:"VEprbR4o2o4OWRUNZa0q",popoverContent:"U3NidYOJcestZM0OiHC3",popoverLoading:"egeTzFsBQiI966OAVW4d",impersonationModelName:"f3jtA5j028D4ROm9ZeqU",user:"r7CXMc7AoWkcgIclJORc",padded:"Qdbi2O787U3qivoMbytV",userGroup:"t9pH0AqaMogt5R8nYd9h"},sr=u.p+"static/logo.457bc401.png",me=u(11382),cr=u(71230),ln=u(15746),Me=u(55241),dr={headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}},ur=function(n){var e=(0,b.useContext)(Ie),r=(0,b.useState)(!1),a=L()(r,2),i=a[0],c=a[1],l=(0,b.useState)(!1),v=L()(l,2),g=v[0],y=v[1],d=(0,b.useState)(),x=L()(d,2),j=x[0],p=x[1],f=function(m){m?(c(!0),j?c(!0):(y(!0),fetch("".concat(e.baseUrl,"/impersonation/users.json"),S()({},dr)).then(function(A){return A.json()}).then(function(A){var N=A.data;p(N),y(!1)}).catch(function(){y(!1)}))):c(!1)},C=function(m,A){window.location.href="".concat(e.baseUrl,"/impersonation/").concat(m,"/").concat(A.id,"/sign_in")},M=Object.keys(j||{}).filter(function(h){var m;return!(e!=null&&(m=e.impersonation)!==null&&m!==void 0&&m.userTypes)||e.impersonation.userTypes.includes(h)}),I=M.length>0,s=(0,t.jsxs)(t.Fragment,{children:[g&&(0,t.jsx)("div",{className:k.popoverLoading,children:(0,t.jsx)(me.Z,{})}),!g&&j&&(0,t.jsx)("div",{className:k.popoverContent,children:M.map(function(h){return(0,t.jsxs)(cr.Z,{className:k.userGroup,children:[I&&(0,t.jsx)(ln.Z,{className:k.impersonationModelName,span:24,children:h}),j[h].map(function(m){return(0,t.jsx)(ln.Z,{className:"".concat(k.user," ").concat(I?k.padded:""),span:24,onClick:function(){return C(h,m)},children:m.label},m.id)})]},h)})})]});return(0,t.jsx)(Me.Z,{trigger:["click"],open:i,content:s,onOpenChange:f,placement:"bottom",arrowPointAtCenter:!0,children:(0,t.jsx)("span",{className:k.tag,children:"Connexion utilisateur"})})},fr=ur,sn,cn,dn,un,vr=Fe.Z.div(sn||(sn=te()([`
  position: fixed;
  top: 0;
  background-color: #000;
  display: flex;
  height: 50px;
  width: 100%;
  color: white;
  padding: 0 16px;
  z-index: 100000000;
`]))),gr=Fe.Z.div(cn||(cn=te()([`
  display: flex;
  margin-left: auto;
  align-items: center;
`]))),mr=Fe.Z.div(dn||(dn=te()([`
  display: flex;
  align-items: center;
`]))),fn=(0,ge.iv)(un||(un=te()([`
  .ant-layout-header,
  .ant-layout-sider {
    margin-top: 50px;
  }
`]))),pr="/ntq_tools",hr=function(n){var e,r,a,i=n.enabled,c=i===void 0?!0:i,l=(0,b.useContext)(Ie);if(!c)return null;var v=function(){fetch("".concat(pr,"/translation/refresh"))};(0,b.useEffect)(function(){if(c)return document.body.classList.add(fn),document.body.classList.add("ntq-toolbar-enabled"),function(){return document.body.classList.remove(fn)}});var g=function(x){return function(){return l.onI18nConfigChange(x,l!=null&&l.i18n?!l.i18n[x]:!0)}},y=[{label:(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"".concat(k.pill," ").concat(l!=null&&(e=l.i18n)!==null&&e!==void 0&&e.debug?k.enabled:k.disabled)}),"Live"]}),key:"debug",onClick:function(){var x;return g("debug")(!(l!=null&&(x=l.i18n)!==null&&x!==void 0&&x.debug))}},{label:(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"".concat(k.pill," ").concat(l!=null&&(r=l.i18n)!==null&&r!==void 0&&r.preventDefault?k.enabled:k.disabled)}),"Prevent default"]}),key:"preventDefault",onClick:function(){var x;return g("preventDefault")(!(l!=null&&(x=l.i18n)!==null&&x!==void 0&&x.preventDefault))}},{label:(0,t.jsx)("span",{children:"Refresh translations"}),key:"refresh",onClick:v}];return(0,t.jsxs)(vr,{children:[(0,t.jsx)(mr,{children:(0,t.jsx)("img",{src:sr,width:"30"})}),(0,t.jsx)(gr,{children:(0,t.jsxs)(B.Z,{children:[!!(l!=null&&l.impersonation)&&(0,t.jsx)(fr,{}),(0,t.jsx)(Ee.Z,{menu:{items:y},trigger:["hover"],children:(0,t.jsxs)("span",{className:"".concat(k.tag),onClick:g("debug"),children:[(0,t.jsx)("span",{className:"".concat(k.pill," ").concat(l!=null&&(a=l.i18n)!==null&&a!==void 0&&a.debug?k.enabled:k.disabled)}),"Traduction live"]})})]})})]})},xr=hr,jr=u(84847),Oe=u(56264),_e=u(69677),X=u(71577),Sr=["count"],vn,gn="/ntq_tools",mn={headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}},yr=(0,ge.iv)(vn||(vn=te()([`
  font-style: italic;
  color: #4527a0;
  text-decoration-line: underline;
  text-decoration-style: dashed;
  &:hover {
    color: #4527a0;
  }
`]))),Cr=function(n){var e=n.translationKey,r=n.preventDefault,a=(0,b.useState)(!1),i=L()(a,2),c=i[0],l=i[1],v=(0,b.useState)(n.value),g=L()(v,2),y=g[0],d=g[1],x=(0,b.useState)(!1),j=L()(x,2),p=j[0],f=j[1],C=function(){fetch("".concat(gn,"/translation"),S()(S()({},mn),{},{method:"PUT",body:JSON.stringify({key:e,value:y})})).then(function(m){return m.json()}).then(function(m){var A=m.data;A&&l(!1)})},M=c?(0,t.jsx)("div",{style:{minWidth:150,minHeight:75},children:p?(0,t.jsx)("div",{style:{height:75,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)(me.Z,{})}):(0,t.jsxs)("div",{children:[(0,t.jsx)(_e.Z.TextArea,{value:y,onChange:function(m){var A=m.target.value;return d(A)},autoSize:!0}),(0,t.jsx)("div",{style:{marginTop:10,textAlign:"right"},children:(0,t.jsx)(X.Z,{onClick:C,size:"small",type:"primary",children:"Modifier"})})]})}):null,I=function(m){l(m),f(!0),fetch("".concat(gn,"/translation?key=").concat(e),mn).then(function(A){return A.json()}).then(function(A){var N=A.data;d(N),f(!1)})},s=function(m){r&&m.stopPropagation()};return(0,t.jsx)(Me.Z,{title:p?null:e,content:M,open:c,trigger:"click",onOpenChange:I,children:(0,t.jsx)("a",{onClick:s,className:yr,children:n.value||e})})},Ir=function(n){var e=n||{},r=e.debug,a=r===void 0?!1:r,i=(0,b.useContext)(Ie),c=(0,jr.Z)(),l=function(d){return c.formatMessage({id:d})!==d},v=function(d){var x,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=j.count,f=we()(j,Sr),C=d;if(j&&j.count!==void 0){var M="zero";j.count>1?M="other":j.count===1&&(M="one"),C="".concat(d,".").concat(M)}C=(0,Oe.decamelize)(C);var I=c.formatMessage({id:C},j);if(a||i!=null&&(x=i.i18n)!==null&&x!==void 0&&x.debug){var s;return(0,t.jsx)(Cr,{translationKey:C,value:I,preventDefault:i==null||(s=i.i18n)===null||s===void 0?void 0:s.preventDefault})}return I},g=function(d,x){return v("activerecord.attributes.".concat((0,Oe.decamelize)(d),".").concat((0,Oe.decamelize)(x)))};return{t:v,translate:v,tAttribute:g,isTranslated:l}},Mr=Ir,pn={container:"ux2_qjNZthMeMslgWP2R",item:"k5GBX5RFIiUIq1fasqpb"},Nr=function(n){var e=n.header,r=n.values,a=n.description;return(0,t.jsxs)(B.Z,{align:"start",className:"".concat(pn.item," wand-csv-notice-item"),children:[(0,t.jsx)("code",{children:e}),(0,t.jsxs)("div",{children:[a,r&&r.length>0&&(0,t.jsx)("ul",{children:r.map(function(i){var c=i.value,l=i.description;return(0,t.jsx)("li",{children:(0,t.jsxs)(B.Z,{children:[(0,t.jsx)("strong",{children:c}),l]})},c)})})]})]},e)},br=function(n){var e=n.schema,r=e===void 0?[]:e;return(0,t.jsx)("div",{className:"".concat(pn.container," wand-csv-notice-container"),children:(0,t.jsx)(B.Z,{direction:"vertical",style:{width:"100%"},children:r.map(function(a){return(0,t.jsx)(Nr,S()({},a),a.header)})})})},hn=br,Ar=u(23680),Zr=u(69309),Lr=u(2482),q=u(2587),Ue=u(16757),Pr=u(85402),Tr=u(79718),Dr=function(n){var e=n.configuration,r=n.importType,a=n.defaultValue,i=a===void 0?{}:a,c=n.defaultImportFile,l=c===void 0?{}:c,v=(0,b.useState)(!1),g=L()(v,2),y=g[0],d=g[1],x=(0,b.useState)(i),j=L()(x,2),p=j[0],f=j[1],C=(0,b.useState)(l),M=L()(C,2),I=M[0],s=M[1],h=function(F){var D;return F?(D=e.client)===null||D===void 0?void 0:D.get("/".concat(e.rootUrl,"/imports/").concat(F)):new Promise(function(U,z){return U({})})},m=(0,Tr.Z)(h,{pollingInterval:3e3,pollingWhenHidden:!0,manual:!0,onSuccess:function(F){F.id&&s(F)}}),A=m.run,N=m.cancel,T=function(F){var D=new FormData;return D.append("file",F,F.name),e.client&&e.client.post("/".concat(e.rootUrl,"/imports/").concat(r),D,{headers:{"Content-Type":"multipart/form-data"}}).then(function(U){return U.id&&(A(U.id),s(U)),!1}),!1};(0,b.useEffect)(function(){e.client&&e.client.get("/".concat(e.rootUrl,"/importers/").concat(r)).then(function(w){f(w)})},[r]),(0,b.useEffect)(function(){["checked","imported"].includes(I==null?void 0:I.state)&&N()},[I==null?void 0:I.state]);var O=function(){s(void 0),d(!1),N()},E=function(){e.client&&(N(),s(S()(S()({},I),{},{state:"importing"})),e.client.put("/".concat(e.rootUrl,"/imports/").concat(I.id),{to_state:"import"}).then(function(F){F.id&&(A(F.id),s(F))}))};return{loading:y,importer:p,importFile:I,onImport:T,onProcessImport:E,onReset:O}},wr=Dr,Ne={descriptions:"MHJ6za7mLjIFQZVdbgb8",label:"JNi1IaAyOABvuOXyeW0z",required:"k7g_8q77vuMd09rEHDBX",checkDescriptions:"cZDwyf6DcWzNZBFNCKwl",actions:"_bu6DPtaXGUWtHz6I2fX",sampleFileLink:"Df9K6V6SyUolWL794UtS"},Re=u(84273),Er=Ar.Z.Dragger,pe={rootUrl:"excelsior"},Fr=function(n){return n?n.state==="pending"||n.state==="buffering"?{status:"progress",icon:(0,t.jsx)(Re.Z,{})}:{status:"finish"}:{status:"progress"}},zr=function(n){return n?n.state==="checking"?{status:"progress",icon:(0,t.jsx)(Re.Z,{})}:["buffered","checked","importing","imported"].includes(n.state)?{status:"finish"}:{status:"wait"}:{status:"wait"}},Or=function(n){return n?n.state==="importing"?{status:"progress",icon:(0,t.jsx)(Re.Z,{})}:n.state==="imported"?{status:"finish"}:{status:"wait"}:{status:"wait"}},xn=function(n){var e,r,a,i,c=n.importType,l=n.allowImportOnError,v=l===void 0?!1:l,g=n.debug,y=g===void 0?!1:g,d=n.onCancel,x=n.onCompleted,j=wr({configuration:pe,importType:c,defaultImporter:n.importer||{},defaultImportFile:n.importFile||{},onCompleted:x}),p=j.importer,f=j.importFile,C=j.onReset,M=j.onImport,I=j.onProcessImport,s=n.translate||pe.translate,h=[S()({title:s?s("excelsior_modal.upload_file"):"Upload file"},Fr(f)),S()({title:s?s("excelsior_modal.verify_file"):"Verify file"},zr(f)),S()({title:s?s("excelsior_modal.import_file"):"Import file"},Or(f))],m=(0,t.jsx)(Zr.Z,{style:{paddingRight:30,marginBottom:16},items:h});if(!f||["buffering","buffered","pending"].includes(f.state))return(0,t.jsxs)(t.Fragment,{children:[m,(0,t.jsx)(me.Z,{delay:200,spinning:["buffering","pending"].includes(f==null?void 0:f.state),tip:s?s("excelsior_modal.uploading_file"):"Uploading...",children:(0,t.jsxs)(B.Z,{direction:"vertical",style:{width:"100%"},children:[(0,t.jsx)(Er,{name:"file",showUploadList:!1,multiple:!1,beforeUpload:M,children:(0,t.jsx)("p",{className:"ant-upload-hint",children:s?s("excelsior_modal.upload_format"):"Upload a .xlsx or a .csv file"})}),p&&p.notice&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Lr.Z.Title,{style:{marginBottom:0},level:5,children:(0,t.jsxs)(B.Z,{children:[s?s("excelsior_modal.expected_columns"):"Expected cols",p.sample_file&&(0,t.jsx)("a",{className:Ne.sampleFileLink,href:p.sample_file,target:"_blank",children:s?s("excelsior_modal.download_sample_file"):"Download sample file"})]})}),(0,t.jsx)(hn,{schema:p.notice})]})]})})]});if(["checking","checked"].includes(f.state))return(0,t.jsxs)(t.Fragment,{children:[m,(0,t.jsxs)(me.Z,{delay:200,spinning:["checking"].includes(f==null?void 0:f.state),tip:s?s("excelsior_modal.checking_file"):"Checking...",children:[(0,t.jsxs)(q.Z,{bordered:!0,className:Ne.checkDescriptions,size:"small",colon:!1,layout:"vertical",column:4,children:[(0,t.jsx)(q.Z.Item,{span:4,label:s?s("excelsior_modal.number_of_error_lines"):"Error lines count",children:f.state==="checking"?"":f.errors_count.toLocaleString()}),(0,t.jsx)(q.Z.Item,{span:4,label:s?s("excelsior_modal.number_of_success_lines"):"Correct lines count",children:f.state==="checking"?"":f.success_count.toLocaleString()}),(0,t.jsx)(q.Z.Item,{span:2,label:s?s("excelsior_modal.number_of_creation"):"Create",children:f.state==="checking"?"":f.create_count.toLocaleString()}),(0,t.jsx)(q.Z.Item,{span:2,label:s?s("excelsior_modal.number_of_update"):"Update",children:f.state==="checking"?"":f.update_count.toLocaleString()})]}),(0,t.jsx)("div",{className:Ne.actions,children:(0,t.jsxs)(B.Z,{children:[(0,t.jsx)(X.Z,{onClick:d,type:"text",children:s?s("excelsior_modal.cancel"):"Cancel"}),(0,t.jsx)(X.Z,{onClick:I,type:"primary",children:s?s("excelsior_modal.import"):"Import"})]})})]})]});var A=(0,t.jsxs)(q.Z,{bordered:!0,className:Ne.checkDescriptions,size:"small",colon:!1,layout:"vertical",column:4,children:[(0,t.jsx)(q.Z.Item,{span:4,label:s?s("excelsior_modal.number_of_error_lines"):"Error lines count",children:((e=f.errors_count)===null||e===void 0?void 0:e.toLocaleString())||"0"}),(0,t.jsx)(q.Z.Item,{span:4,label:s?s("excelsior_modal.number_of_success_lines"):"Correct lines count",children:((r=f.success_count)===null||r===void 0?void 0:r.toLocaleString())||"0"}),(0,t.jsx)(q.Z.Item,{span:2,label:s?s("excelsior_modal.number_of_creation"):"Create",children:((a=f.create_count)===null||a===void 0?void 0:a.toLocaleString())||"0"}),(0,t.jsx)(q.Z.Item,{span:2,label:s?s("excelsior_modal.number_of_update"):"Update",children:((i=f.update_count)===null||i===void 0?void 0:i.toLocaleString())||"0"})]});return["importing","imported"].includes(f.state)?(0,t.jsxs)(t.Fragment,{children:[m,(0,t.jsxs)(me.Z,{delay:200,spinning:["importing"].includes(f==null?void 0:f.state),tip:s?s("excelsior_modal.importing_file"):"Importing...",children:[f.state=="imported"&&(0,t.jsx)(Ue.ZP,{status:"success",title:s?s("excelsior_modal.file_successfully_imported"):"File successfully importer",extra:[(0,t.jsx)(X.Z,{type:"text",onClick:d,children:s?s("excelsior_modal.finish_and_close"):"Finish and close"},"reset"),(0,t.jsx)(X.Z,{type:"primary",onClick:C,children:s?s("excelsior_modal.new_import"):"New import"},"close")]}),A]})]}):f.state==="error"?f.error_message=="header_not_found"?(0,t.jsx)(Ue.ZP,{status:"error",title:s?s("excelsior_modal.missing_header"):"Error",subTitle:(0,t.jsxs)("div",{children:[s?s("excelsior_modal.following_headers_are_missing"):"Error",":\xA0",(f.missing_headers||[]).join(", ")]}),extra:[(0,t.jsx)(X.Z,{type:"text",onClick:d,children:s?s("excelsior_modal.finish_and_close"):"Finish and close"},"reset"),(0,t.jsx)(X.Z,{type:"primary",onClick:C,children:s?s("excelsior_modal.new_import"):"New import"},"close")]}):(0,t.jsxs)(t.Fragment,{children:[m,(0,t.jsx)(Ue.ZP,{status:"error",title:s?s("excelsior_modal.error_on_file"):"Error",subTitle:f.error_file?(0,t.jsx)("a",{href:f.error_file,target:"_blank",children:s?s("excelsior_modal.click_here_for_download_error_file"):"Error"}):null,extra:[(0,t.jsx)(X.Z,{type:"text",onClick:d,children:s?s("excelsior_modal.finish_and_close"):"Finish and close"},"reset"),(0,t.jsx)(X.Z,{type:"primary",onClick:C,children:s?s("excelsior_modal.new_import"):"New import"},"close")]})]}):(0,t.jsx)("div",{children:m})},_r=function(n){var e=n.open,r=n.translate,a=n.onCancel,i=n.title;return e?(0,t.jsx)(Pr.Z,{open:!0,width:1e3,footer:!1,title:i,onCancel:a,children:(0,t.jsx)(xn,S()({translate:r},n))}):null},Ur=function(n){return pe=S()(S()({},pe),n),pe},Rr=_r,jn=Rr;jn.configure=Ur;var Vr=xn,Yr=jn,Br=u(12576),be=u(50319),kr=u(13448),Sn,Hr=function(n){kr.Z[n.type||"open"]({message:n.message,description:null,placement:"bottomRight",duration:2})},Ve=function(n){var e=n.data;if(e){var r=Object.keys(e);r.forEach(function(a){var i;(((i=e[a])===null||i===void 0?void 0:i.flashMessages)||[]).forEach(function(c){Hr(JSON.parse(c))})})}return n},Ae=function(n,e,r,a){var i,c,l=r?(i=r.definitions.find(function(g){return g.kind==="FragmentDefinition"&&g.name.kind==="Name"}))===null||i===void 0||(c=i.name)===null||c===void 0?void 0:c.value:void 0,v=(a==null?void 0:a.inputName)||"".concat((0,ne.upperFirst)(e)).concat((0,ne.upperFirst)(n),"Input");return(0,Br.Ps)(Sn||(Sn=te()([`
    mutation `,"($input: ",`!) {
      `,`(input: $input) {
        `,` {
          ...`,`
        }
        `,`
      }
    }
    `,`
  `])),a.mutationName,v,a.mutationName,n,l,a.flashMessages?"flashMessages":"",r)};function Wr(o,n){var e=n.flashMessages,r=e===void 0?!1:e,a=n.definition,i=n.queries,c=i===void 0?{}:i,l=c.fetch,v=n.defaultMutationNames,g=v===void 0?{}:v,y=n.defaultInputNames,d=y===void 0?{}:y,x=n.mutations,j=x===void 0?{}:x,p=n.fragment,f=j.create,C=g.create||"create".concat((0,ne.upperFirst)(o));if(!f&&p){var M;d&&(typeof d=="function"?M=d("create",o):d.create&&(M=d.create)),f=Ae(o,"create",p,{inputName:M,flashMessages:r,mutationName:C})}var I=j.update,s=g.update||"update".concat((0,ne.upperFirst)(o));if(!I&&p){var h;d&&(typeof d=="function"?h=d("update",o):d.update&&(h=d.update)),I=Ae(o,"update",p,{inputName:h,flashMessages:r,mutationName:s})}var m=j.delete,A=g.delete||"delete".concat((0,ne.upperFirst)(o));if(!m&&p){var N;d&&(typeof d=="function"?N=d("delete",o):d.delete&&(N=d.delete)),m=Ae(o,"delete",p,{inputName:N,flashMessages:r,mutationName:A})}var T=j.import,O=g.import||"import".concat((0,ne.upperFirst)(o),"s");if(!T&&p){var E;d&&(typeof d=="function"?E=d("import",o):d.delete&&(E=d.import)),T=Ae(o,"import",p,{inputName:E,flashMessages:r,mutationName:O})}return function(w,F){var D=F||{},U=D.mutationOptions,z=U===void 0?{}:U,K=D.fetch,Z=K===void 0?!1:K,_=D.singleton,Y=_===void 0?!1:_,V=D.queries,$=a&&(Object.values(a).includes("File")||Object.values(a).includes("Files")),ae=function(re){return console.log(re)},H=l||V!=null&&V.fetch?(0,Xe.a)((V==null?void 0:V.fetch)||l,S()({variables:{id:w},skip:!Z||!w&&!Y||!l,fetchPolicy:"cache-and-network",onError:ae},Qe()(Z)==="object"?Z:{})):{},Q=H.data,de=Q===void 0?{}:Q,se=H.loading,xe=se===void 0?!1:se,ie=H.refetch,je=ie===void 0?void 0:ie,R=de[o]||{},J=(0,b.useState)(void 0),ee=L()(J,2),Ia=ee[0],Pn=ee[1],Ma=f?(0,be.D)(f,S()(S()({},z||{}),{},{context:{hasUpload:$}})):[],Tn=L()(Ma,2),Dn=Tn[0],Na=Tn[1].loading,ba=I?(0,be.D)(I,S()(S()({},z||{}),{},{context:{hasUpload:$}})):[],wn=L()(ba,2),En=wn[0],Aa=wn[1].loading,Za=m?(0,be.D)(m,S()({},z||{})):[],La=L()(Za,1),Fn=La[0],Pa=T?(0,be.D)(T,S()({},z||{})):[],Ta=L()(Pa,1),zn=Ta[0],Da=function(re,P){var Se=a||P!=null&&P.definition?le((P==null?void 0:P.definition)||a,re):re;n.debug&&console.log("attributes",Se);var oe=function(Be){var On=Be.recordErrors;r&&Ve(Be),Pn(On||void 0),P!=null&&P.onCompleted&&P.onCompleted(Be)};w||P!=null&&P.id||Y?En&&En({variables:{input:S()({id:w||(P==null?void 0:P.id),attributes:Se},(P==null?void 0:P.variables)||{})},onCompleted:oe}):Dn&&Dn({variables:{input:S()({attributes:Se},(P==null?void 0:P.variables)||{})},onCompleted:oe})},wa=function(re,P){n.debug&&console.log("DELETE",re),Fn&&Fn({variables:{input:{id:re||P.id}},onCompleted:function(oe){r&&Ve(oe),P!=null&&P.onCompleted&&P.onCompleted(oe)}})},Ea=function(re,P){zn&&zn({context:{hasUpload:!0},variables:{input:{file:re}},onCompleted:function(oe){r&&Ve(oe),P!=null&&P.onCompleted&&P.onCompleted(oe)}})};return{onSave:Da,onDelete:wa,onImport:Ea,refetch:je,record:R,loading:xe,submitting:Na||Aa,errors:Ia}}}var Gr=Wr,yn=u(97847),he=u(32808),$r=u(63922),Cn=u(81757),Xr=Object.defineProperty,In=Object.getOwnPropertySymbols,Qr=Object.prototype.hasOwnProperty,Jr=Object.prototype.propertyIsEnumerable,Mn=(o,n,e)=>n in o?Xr(o,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[n]=e,Kr=(o,n)=>{for(var e in n||(n={}))Qr.call(n,e)&&Mn(o,e,n[e]);if(In)for(var e of In(n))Jr.call(n,e)&&Mn(o,e,n[e]);return o};const Oa=o=>React.createElement("svg",Kr({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},o),React.createElement("path",{d:"M11.499 6.5a5 5 0 1 0-10 0 5 5 0 0 0 10 0Zm-.966 5.096A6.498 6.498 0 0 1 0 6.5C0 2.91 2.91 0 6.5 0a6.498 6.498 0 0 1 5.096 10.533l4.184 4.184a.75.75 0 0 1-1.06 1.06l-4.187-4.181Z",fill:"#343434"}));var qr="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTExLjQ5OSA2LjVhNSA1IDAgMSAwLTEwIDAgNSA1IDAgMCAwIDEwIDBabS0uOTY2IDUuMDk2QTYuNDk4IDYuNDk4IDAgMCAxIDAgNi41QzAgMi45MSAyLjkxIDAgNi41IDBhNi40OTggNi40OTggMCAwIDEgNS4wOTYgMTAuNTMzbDQuMTg0IDQuMTg0YS43NS43NSAwIDAgMS0xLjA2IDEuMDZsLTQuMTg3LTQuMTgxWiIgZmlsbD0iIzM0MzQzNCIvPjwvc3ZnPg==",Nn=u(23638),bn=function(n){if(n){if((0,Ge.isMoment)(n))return n;if(G()(n).isValid())return G()(n)}return n},ea=function(n){var e=n.field,r=n.value,a=n.onChange,i=e.input||{},c=i.inputProps,l=c===void 0?{}:c,v=(0,b.useState)(bn(r)),g=L()(v,2),y=g[0],d=g[1];(0,b.useEffect)(function(){d(bn(r))},[r]);var x=function(p){d(p),a(W()({},e.name,p))};return(0,t.jsx)(Nn.Z,S()(S()({},l),{},{placeholder:e.label,className:"wand__inline-filter__datepicker ".concat(y?"wand__inline-filter__datepicker--filled":""),value:y,onChange:x}))},na=ea,ta=function(n){var e=n.field,r=n.value,a=n.onChange,i=e.input||{},c=i.inputProps,l=c===void 0?{}:c,v=l.placeholder,g=l.className,y=(0,b.useState)(!1),d=L()(y,2),x=d[0],j=d[1],p=(0,b.useState)(r),f=L()(p,2),C=f[0],M=f[1];(0,b.useEffect)(function(){r||M(void 0)},[r]);var I=function(m){M(m.target.value),a(W()({},e.name,m.target.value))},s=["wand__inline-filter__string-input",g,e.className,x||C&&C.length>0?"wand__inline-filter__string-input--is-focused":void 0].filter(Boolean);return(0,t.jsx)(_e.Z,{className:s.join(" "),onFocus:function(){return j(!0)},onBlur:function(){return j(!1)},style:e.style||{},value:C,onChange:I,addonBefore:e.icon,placeholder:v})},ra=ta,aa=function(n){var e=n.field,r=n.value,a=n.onChange,i=e.input||{},c=i.inputProps,l=c===void 0?{}:c,v=l.inverted,g=v===void 0?!1:v,y=l.className,d=l.text,x=(0,b.useState)(!1),j=L()(x,2),p=j[0],f=j[1];(0,b.useEffect)(function(){f(r)},[r]);var C=function(I){f(!p),a(W()({},e.name,!p))};return(0,t.jsx)("div",{onClick:C,className:"wand__inline-filter__filter wand__inline-filter__boolean ".concat(p?"wand__inline-filter__boolean--checked":""),children:(0,t.jsxs)(B.Z,{children:[(0,t.jsx)(he.Z,{checked:p}),e.label]})})},ia=aa,oa=Nn.Z.RangePicker,la=function(n){var e=n.field,r=n.value,a=n.onChange,i=e.input||{},c=i.inputProps,l=c===void 0?{}:c,v=L()(e.name,2),g=v[0],y=v[1],d=(0,b.useState)(r||{}),x=L()(d,2),j=x[0],p=x[1];(0,b.useEffect)(function(){p(r||{})},[r]);var f=function(m){var A,N=(A={},W()(A,g,m?m[0]:void 0),W()(A,y,m?m[1]:void 0),A);a(N),p(N)},C=j[g];C&&!G().isMoment(C)&&(C=G()(C).startOf("day"));var M=j[y];M&&!G().isMoment(M)&&(M=G()(M).startOf("day"));var I=[C,M],s=I.filter(Boolean).length>0;return(0,t.jsx)(oa,S()(S()({},l||{}),{},{className:"wand__inline-filter__datepicker ".concat(s?"wand__inline-filter__datepicker--filled":""),value:I,onChange:f}))},sa=la,ca=function(){return(0,t.jsx)(B.Z,{children:"Render date"})},_a=function(n){var e=n.field;return _jsx(Space,{children:e.label})},Ua={date:ca},da={select:An,date:na,string:ra,boolean:ia,daterange:sa},ua=function(n,e){return e.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").indexOf(n.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))>=0},fa=function(n){return function(e,r){return n.includes(e.value)&&!n.includes(r.value)?1:!n.includes(e.value)&&n.includes(r.value)?-1:0}},va=function(n){var e,r=n.field,a=n.value,i=n.onChange,c=(r==null?void 0:r.input)||{},l=c.inputProps,v=l===void 0?{}:l,g=v.multiple,y=g===void 0?!1:g,d=v.allowSearch,x=d===void 0?!0:d,j=v.searchPlaceholder,p=j===void 0?void 0:j,f=v.selectAllText,C=f===void 0?"All":f,M=v.options,I=M===void 0?[]:M,s=(0,Cn.Z)(I.map(function(R){return R.value}),a?Array.isArray(a||[])?a:[a]:[]),h=s.selected,m=s.setSelected,A=s.allSelected,N=s.partiallySelected,T=s.unSelectAll,O=s.selectAll,E=s.toggle,w=(0,b.useState)(void 0),F=L()(w,2),D=F[0],U=F[1],z=(0,b.useState)(!1),K=L()(z,2),Z=K[0],_=K[1],Y=(0,b.useState)(!1),V=L()(Y,2),$=V[0],ae=V[1],H=(0,b.useRef)();(0,b.useEffect)(function(){m(a?Array.isArray(a||[])?a:[a]:[])},[a,y]),(0,b.useEffect)(function(){H&&H.current&&setTimeout(function(){H.current.select()},0)},[Z]);var Q=function(J){var ee;return U((ee=J.target)===null||ee===void 0?void 0:ee.value)},de=function(J){if(y)if(h.includes(J)){var ee=fe()(h);ee.splice(ee.indexOf(J),1),i(W()({},r.name,ee))}else i(W()({},r.name,[].concat(fe()(h),[J])));else i(W()({},r.name,h.includes(J)?void 0:J))},se=function(){i(W()({},r.name,I.map(function(J){return J.value}))),O()},xe=function(){i(W()({},r.name,void 0)),T()},ie=I.filter(function(R){return!D||ua(D,R)||h.includes(R.value)});D&&D.length>0&&(ie=ie.sort(fa(h)));var je=(0,t.jsxs)(t.Fragment,{children:[x&&(0,t.jsx)(_e.Z,{ref:H,value:D,onChange:Q,onFocus:function(){return ae(!0)},onBlur:function(){return ae(!1)},placeholder:$?void 0:p,addonBefore:(0,t.jsx)("div",{className:"wand__inline-filter__search-input__icon-wrapper",children:(0,t.jsx)(yn.Z,{src:qr,height:15})}),className:"wand__inline-filter__search-input ".concat($||D?"wand__inline-filter__search-input--is-focused":"")}),(0,t.jsxs)("div",{className:"wand__inline-filter__options-container",children:[y&&!D&&(0,t.jsx)("div",{className:"wand__inline-filter__option ".concat(A?"wand__inline-filter__option--is-selected":""),onClick:A?xe:se,children:(0,t.jsxs)(B.Z,{children:[(0,t.jsx)(he.Z,{indeterminate:N,checked:A}),C]})},"select-all"),ie.map(function(R){return(0,t.jsx)("div",{className:"wand__inline-filter__option ".concat(h!=null&&h.includes(R.value)?"wand__inline-filter__option--is-selected":""),onClick:function(){return de(R.value)},children:(0,t.jsxs)(B.Z,{children:[y&&(0,t.jsx)(he.Z,{checked:h==null?void 0:h.includes(R.value)}),R.children||R.label]})},R.value)})]})]});return(0,t.jsx)(Me.Z,{showArrow:!1,open:Z,content:je,placement:"bottom",onOpenChange:_,trigger:"click",overlayClassName:"wand__inline-filter__popover",children:(0,t.jsx)("div",{className:"wand__inline-filter__filter ".concat(h.length>0?"wand__inline-filter__filter--filled":""," ").concat(h.length>0||Z?"wand__inline-filter__filter--focused":""),children:(0,t.jsxs)(B.Z,{children:[(0,t.jsxs)("span",{className:"wand__inline-filter__label",children:[r.label,h.length>0&&!y&&(0,t.jsxs)("span",{children:["\xA0:\xA0",(e=I.find(function(R){return R.value===h[0]}))===null||e===void 0?void 0:e.label]})]}),h.length>0&&y?(0,t.jsx)($r.Z,{className:"wand__inline-filter__badge",count:h.length}):r.icon]})})})},An=va,ga=Object.defineProperty,Zn=Object.getOwnPropertySymbols,ma=Object.prototype.hasOwnProperty,pa=Object.prototype.propertyIsEnumerable,Ln=(o,n,e)=>n in o?ga(o,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[n]=e,ha=(o,n)=>{for(var e in n||(n={}))ma.call(n,e)&&Ln(o,e,n[e]);if(Zn)for(var e of Zn(n))pa.call(n,e)&&Ln(o,e,n[e]);return o};const Ra=o=>React.createElement("svg",ha({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},o),React.createElement("path",{d:"M0 71.5C0 49.7 17.7 32 39.5 32h433c21.8 0 39.5 17.7 39.5 39.5 0 9.2-3.2 18.1-9.1 25.2L320 317.8v128.3c0 18.7-15.2 33.9-33.9 33.9-7.5 0-14.8-2.5-20.8-7.1l-61-47.4c-7.8-6.1-12.4-15.4-12.4-25.3v-82.4L9.1 96.7C3.2 89.6 0 80.7 0 71.5zM39.5 64c-4.2 0-7.5 3.4-7.5 7.5 0 1.8.6 3.4 1.7 4.8l186.6 225.5c2.4 2.9 3.7 6.5 3.7 10.2v88.2l61 47.4c.3.3.7.4 1.1.4 1 0 1.9-.8 1.9-1.9V312c0-3.7 1.3-7.3 3.7-10.2L478.3 76.3c1.1-1.3 1.7-3 1.7-4.8 0-4.2-3.4-7.5-7.5-7.5h-433z"}));var xa="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuNC4wIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIzIEZvbnRpY29ucywgSW5jLi0tPjxwYXRoIGQ9Ik0wIDcxLjVDMCA0OS43IDE3LjcgMzIgMzkuNSAzMmg0MzNjMjEuOCAwIDM5LjUgMTcuNyAzOS41IDM5LjUgMCA5LjItMy4yIDE4LjEtOS4xIDI1LjJMMzIwIDMxNy44djEyOC4zYzAgMTguNy0xNS4yIDMzLjktMzMuOSAzMy45LTcuNSAwLTE0LjgtMi41LTIwLjgtNy4xbC02MS00Ny40Yy03LjgtNi4xLTEyLjQtMTUuNC0xMi40LTI1LjN2LTgyLjRMOS4xIDk2LjdDMy4yIDg5LjYgMCA4MC43IDAgNzEuNXpNMzkuNSA2NGMtNC4yIDAtNy41IDMuNC03LjUgNy41IDAgMS44LjYgMy40IDEuNyA0LjhsMTg2LjYgMjI1LjVjMi40IDIuOSAzLjcgNi41IDMuNyAxMC4ydjg4LjJsNjEgNDcuNGMuMy4zLjcuNCAxLjEuNCAxIDAgMS45LS44IDEuOS0xLjlWMzEyYzAtMy43IDEuMy03LjMgMy43LTEwLjJMNDc4LjMgNzYuM2MxLjEtMS4zIDEuNy0zIDEuNy00LjggMC00LjItMy40LTcuNS03LjUtNy41aC00MzN6Ii8+PC9zdmc+",ja=function(n){var e=n.schema,r=n.icon,a=r===void 0?(0,t.jsx)(yn.Z,{src:xa,height:15}):r,i=n.text,c=i===void 0?"Filters":i,l=n.selectAllText,v=l===void 0?"All filters":l,g=n.cancelText,y=g===void 0?"Cancel":g,d=n.okText,x=d===void 0?"Valider":d,j=n.value,p=n.onChange,f=e.filter(function(Z){return Z.name&&(Z.toggleable||Z.toggleable===void 0)}),C=(0,b.useState)(!1),M=L()(C,2),I=M[0],s=M[1],h=(0,Cn.Z)(f.map(function(Z){return Array.isArray(Z.name)?Z.name.join("//="):Z.name}),j||[]),m=h.selected,A=h.unSelect,N=h.setSelected,T=h.select,O=h.noneSelected,E=h.partiallySelected,w=h.unSelectAll,F=h.selectAll,D=function(_){m.includes(_)?A(_):T(_)},U=function(){s(!1),N(j||[])},z=function(){s(!1),p(m)},K=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"wand__inline-filter__options-container",children:[(0,t.jsx)("div",{className:"wand__inline-filter__option ".concat(O?"wand__inline-filter__option--is-selected":""),onClick:O?F:w,children:(0,t.jsxs)(B.Z,{children:[(0,t.jsx)(he.Z,{indeterminate:E,checked:O}),v]})},"select-all"),f.map(function(Z){var _=Array.isArray(Z.name)?Z.name.join("//="):Z.name;return(0,t.jsx)("div",{className:"wand__inline-filter__option ".concat(m!=null&&m.includes(_)?"":"wand__inline-filter__option--is-selected"),onClick:function(V){return D(_)},children:(0,t.jsxs)(B.Z,{children:[(0,t.jsx)(he.Z,{checked:!(m!=null&&m.includes(_))}),Z.icon,Z.title||Z.label]})},_)})]}),(0,t.jsx)("div",{className:"wand__inline-filter__footer",children:(0,t.jsxs)(B.Z,{size:"small",children:[(0,t.jsx)(X.Z,{type:"text",onClick:U,children:y}),(0,t.jsx)(X.Z,{type:"primary",onClick:z,children:x})]})})]});return(0,t.jsx)(Me.Z,{showArrow:!1,open:I,content:K,placement:"bottom",onOpenChange:s,trigger:"click",overlayClassName:"wand__inline-filter__popover",children:(0,t.jsx)("div",{className:"wand__filter-toggler__button",children:(0,t.jsxs)(B.Z,{children:[c,(0,t.jsx)("span",{className:"wand__filter-toggler__icon",children:a})]})})})},Sa=ja,ya=function(n){var e=n.schema,r=n.value,a=n.delay,i=a===void 0?200:a,c=n.resetText,l=n.toggle,v=n.onReset,g=(0,ve.Z)(l!=null&&l.key?"".concat(l==null?void 0:l.key,"-filters"):"filter-toggle"),y=L()(g,2),d=y[0],x=y[1],j=(0,b.useState)(r),p=L()(j,2),f=p[0],C=p[1],M=(0,Je.Z)(function(N){n.onChange&&n.onChange(N)},{wait:i}),I=M.run;(0,b.useEffect)(function(){C(r)},[r]);var s=function(T){C(T),I(T)},h=function(T){return s((0,ne.omit)(S()(S()({},f),T),l?d:[]))},m=function(T){x(T),s((0,ne.omit)(S()({},f),l?T:[]))},A=e;return l&&d&&d.length>0&&(A=A.filter(function(N){return N.toggleable!==void 0&&!N.toggleable||!d.includes(Array.isArray(N.name)?N.name.join("//="):N.name)})),(0,t.jsxs)(B.Z,{style:{width:"100%"},wrap:!0,children:[A.map(function(N){var T=da[N.input.type]||An;return(0,t.jsx)(T,{field:N,value:Array.isArray(N.name)?N.name.reduce(function(O,E){return O[E]=f[E],O},{}):f[N.name],onChange:h},Array.isArray(N.name)?N.name.join("--"):N.name)}),l&&(0,t.jsx)(Sa,S()({schema:e,value:d,onChange:m},l||{})),v&&(0,t.jsx)(X.Z,{type:"text",onClick:v,children:c||"Reset filters"})]})},Ca=ya},24654:function(){}}]);
